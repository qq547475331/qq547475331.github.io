<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="æœ¬æ–‡ä»‹ç»å®¹å™¨ç¯å¢ƒå¸¸è§ç½‘ç»œåº”ç”¨åœºæ™¯åŠå¯¹åº”åœºæ™¯çš„ Kubernetes CNI æ’ä»¶åŠŸèƒ½å®ç°ã€‚å¸®åŠ©æ­å»ºå’Œä½¿ç”¨äº‘åŸç”Ÿç¯å¢ƒçš„å°ä¼™ä¼´å¿«é€Ÿé€‰æ‹©å¿ƒä»ªçš„ç½‘ç»œå·¥å…·ã€‚

  å¸¸è§ç½‘ç»œæ’ä»¶
  #

æˆ‘ä»¬åœ¨å­¦ä¹ å®¹å™¨ç½‘ç»œçš„æ—¶å€™ï¼Œè‚¯å®šéƒ½å¬è¯´è¿‡ Docker çš„ bridge ç½‘ç»œï¼ŒVethpairï¼ŒVxLAN ç­‰æœ¯è¯­ï¼Œä» Docker åˆ° kubernetes åï¼Œå­¦ä¹ äº† Flannelã€Calico ç­‰ä¸»æµç½‘ç»œæ’ä»¶ï¼Œåˆ†åˆ«ä»£è¡¨äº† Overlay å’Œ Underlay çš„ä¸¤ç§ç½‘ç»œä¼ è¾“æ¨¡å¼ï¼Œä¹Ÿæ˜¯å¾ˆç»å…¸çš„ä¸¤æ¬¾ CNI ç½‘ç»œæ’ä»¶ã€‚é‚£ä¹ˆï¼Œè¿˜æœ‰å“ªäº›å¥½ç”¨çš„ CNI æ’ä»¶å‘¢ ? æˆ‘ä»¬çœ‹çœ‹ CNCF Landscape:

å¸¸è§ç½‘ç»œæ’ä»¶
æŠ›å»å•†ä¸šç‰ˆ CNIï¼Œæ­¤æ¬¡åˆ†äº«æ¥èŠèŠå‡ æ¬¾çƒ­é—¨å¼€æº CNI æ’ä»¶ï¼Œåˆ†åˆ«ä¸º Kube-OVNã€Antreaã€Ciliumã€‚Kube-OVN å’Œ Antrea éƒ½æ˜¯åŸºäº OpenvSwitch çš„é¡¹ç›®ï¼ŒCilium ä½¿ç”¨ eBPF è¿™æ¬¾é©å‘½æ€§çš„æŠ€æœ¯ä½œä¸ºæ•°æ®è·¯å¾„ï¼Œäº¦æ˜¯è¿™ä¸¤å¹´å¾ˆç«çƒ­çš„ä¸€ä¸ªå¼€æºå®¹å™¨é¡¹ç›®ã€‚
è¡Œä¸‡é‡Œè·¯ï¼Œæ­¤å¤„ç›¸é€¢ï¼Œå…±è¯äº‘åŸç”Ÿä¹‹é“ã€‚ å¶é€—è¶£äº‹ï¼Œæ˜æœˆæ¸…é£ï¼Œä¸å›åŒåã€‚
55ç¯‡åŸåˆ›å†…å®¹
å…¬ä¼—å·

  é‚£ä¹ˆï¼Œåˆå›åˆ°å­¦ä¹ æ–°äº§å“çš„ç¬¬ä¸€æ­¥ï¼Œå¦‚ä½•å¿«é€Ÿéƒ¨ç½² K8s ä½“éªŒä¸åŒåœ° CNI æ’ä»¶å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Kubekey ã€‚
  #


  Kubekey ä½œä¸ºä¸€ä¸ªå¼€æºçš„ Kubernetes å’Œ KubeSphere é›†ç¾¤éƒ¨ç½²å·¥å…·ï¼Œå¯ä»¥è½»æ¾çš„éƒ¨ç½² Kubernetes é›†ç¾¤ï¼Œæä¾›èŠ‚ç‚¹ç®¡ç†ã€æ“ä½œç³»ç»Ÿå®‰å…¨åŠ å›ºã€å®¹å™¨è¿è¡Œæ—¶ç®¡ç†ã€ç½‘ç»œå­˜å‚¨å®‰è£…ã€Etcd ç®¡ç†ç­‰ã€‚Kubekey æ”¯æŒä¸€é”®éƒ¨ç½² Calico / Flannel / Cilium / Kube-OVN ç­‰ç½‘ç»œæ’ä»¶ï¼Œåªéœ€åœ¨ kk çš„é…ç½®æ–‡ä»¶ä¸­æ³¨æ˜ network çš„ plugin å€¼å³å¯ï¼š
  #

  network:
    plugin: calico/kubeovn/cilium
    kubePodsCIDR: 10.233.64.0/18
    kubeServiceCIDR: 10.233.0.0/18

  å¯¹äº antreaï¼Œç”±äºç‰ˆæœ¬è¾ƒæ–°ï¼Œç›®å‰å¯é€šè¿‡ addon çš„å½¢å¼æ·»åŠ  helm æ–‡ä»¶çš„å½¢å¼è¿›è¡Œä¸€é”®å®‰è£…ï¼š
  #

  addons:
  - name: antrea
    namespace: kube-system
    sources: 
      chart: 
        name: antrea
        repo: https://charts.antrea.io
        # values:

  åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸€æ¡å‘½ä»¤
  #

ğŸ³  â†’ kk create cluster --with-kubernetes --with-kubesphere

  ç½‘ç»œåº”ç”¨åœºæ™¯
  #


  ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª Kubernetes é›†ç¾¤ï¼Œå…ˆæ¥æ€è€ƒä¸€ä¸‹ï¼Œå®¹å™¨ç½‘ç»œé™¤äº†è®©é›†ç¾¤æ­£å¸¸è¿è¡Œï¼Œèƒ½è®©å®‰è£… Kubernetes å Pending çš„ CoreDNS running èµ·æ¥ï¼ˆæŠ–ä¸ªé¸¡çµ-_-ï¼‰ä»¥å¤–è¿˜æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ
  #

">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://192.168.0.139:1313/docs/cni%E6%8F%92%E4%BB%B6%E9%80%89%E5%9E%8B-cni-cha-jian-xuan-xing/">
  <meta property="og:site_name" content="Guichen&#39;s Blog">
  <meta property="og:title" content="CNIæ’ä»¶é€‰å‹ 2024-04-03 15:01:51.29">
  <meta property="og:description" content="æœ¬æ–‡ä»‹ç»å®¹å™¨ç¯å¢ƒå¸¸è§ç½‘ç»œåº”ç”¨åœºæ™¯åŠå¯¹åº”åœºæ™¯çš„ Kubernetes CNI æ’ä»¶åŠŸèƒ½å®ç°ã€‚å¸®åŠ©æ­å»ºå’Œä½¿ç”¨äº‘åŸç”Ÿç¯å¢ƒçš„å°ä¼™ä¼´å¿«é€Ÿé€‰æ‹©å¿ƒä»ªçš„ç½‘ç»œå·¥å…·ã€‚
å¸¸è§ç½‘ç»œæ’ä»¶ # æˆ‘ä»¬åœ¨å­¦ä¹ å®¹å™¨ç½‘ç»œçš„æ—¶å€™ï¼Œè‚¯å®šéƒ½å¬è¯´è¿‡ Docker çš„ bridge ç½‘ç»œï¼ŒVethpairï¼ŒVxLAN ç­‰æœ¯è¯­ï¼Œä» Docker åˆ° kubernetes åï¼Œå­¦ä¹ äº† Flannelã€Calico ç­‰ä¸»æµç½‘ç»œæ’ä»¶ï¼Œåˆ†åˆ«ä»£è¡¨äº† Overlay å’Œ Underlay çš„ä¸¤ç§ç½‘ç»œä¼ è¾“æ¨¡å¼ï¼Œä¹Ÿæ˜¯å¾ˆç»å…¸çš„ä¸¤æ¬¾ CNI ç½‘ç»œæ’ä»¶ã€‚é‚£ä¹ˆï¼Œè¿˜æœ‰å“ªäº›å¥½ç”¨çš„ CNI æ’ä»¶å‘¢ ? æˆ‘ä»¬çœ‹çœ‹ CNCF Landscape:
å¸¸è§ç½‘ç»œæ’ä»¶
æŠ›å»å•†ä¸šç‰ˆ CNIï¼Œæ­¤æ¬¡åˆ†äº«æ¥èŠèŠå‡ æ¬¾çƒ­é—¨å¼€æº CNI æ’ä»¶ï¼Œåˆ†åˆ«ä¸º Kube-OVNã€Antreaã€Ciliumã€‚Kube-OVN å’Œ Antrea éƒ½æ˜¯åŸºäº OpenvSwitch çš„é¡¹ç›®ï¼ŒCilium ä½¿ç”¨ eBPF è¿™æ¬¾é©å‘½æ€§çš„æŠ€æœ¯ä½œä¸ºæ•°æ®è·¯å¾„ï¼Œäº¦æ˜¯è¿™ä¸¤å¹´å¾ˆç«çƒ­çš„ä¸€ä¸ªå¼€æºå®¹å™¨é¡¹ç›®ã€‚
è¡Œä¸‡é‡Œè·¯ï¼Œæ­¤å¤„ç›¸é€¢ï¼Œå…±è¯äº‘åŸç”Ÿä¹‹é“ã€‚ å¶é€—è¶£äº‹ï¼Œæ˜æœˆæ¸…é£ï¼Œä¸å›åŒåã€‚
55ç¯‡åŸåˆ›å†…å®¹
å…¬ä¼—å·
é‚£ä¹ˆï¼Œåˆå›åˆ°å­¦ä¹ æ–°äº§å“çš„ç¬¬ä¸€æ­¥ï¼Œå¦‚ä½•å¿«é€Ÿéƒ¨ç½² K8s ä½“éªŒä¸åŒåœ° CNI æ’ä»¶å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Kubekey ã€‚ # Kubekey ä½œä¸ºä¸€ä¸ªå¼€æºçš„ Kubernetes å’Œ KubeSphere é›†ç¾¤éƒ¨ç½²å·¥å…·ï¼Œå¯ä»¥è½»æ¾çš„éƒ¨ç½² Kubernetes é›†ç¾¤ï¼Œæä¾›èŠ‚ç‚¹ç®¡ç†ã€æ“ä½œç³»ç»Ÿå®‰å…¨åŠ å›ºã€å®¹å™¨è¿è¡Œæ—¶ç®¡ç†ã€ç½‘ç»œå­˜å‚¨å®‰è£…ã€Etcd ç®¡ç†ç­‰ã€‚Kubekey æ”¯æŒä¸€é”®éƒ¨ç½² Calico / Flannel / Cilium / Kube-OVN ç­‰ç½‘ç»œæ’ä»¶ï¼Œåªéœ€åœ¨ kk çš„é…ç½®æ–‡ä»¶ä¸­æ³¨æ˜ network çš„ plugin å€¼å³å¯ï¼š # network: plugin: calico/kubeovn/cilium kubePodsCIDR: 10.233.64.0/18 kubeServiceCIDR: 10.233.0.0/18 å¯¹äº antreaï¼Œç”±äºç‰ˆæœ¬è¾ƒæ–°ï¼Œç›®å‰å¯é€šè¿‡ addon çš„å½¢å¼æ·»åŠ  helm æ–‡ä»¶çš„å½¢å¼è¿›è¡Œä¸€é”®å®‰è£…ï¼š # addons: - name: antrea namespace: kube-system sources: chart: name: antrea repo: https://charts.antrea.io # values: åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸€æ¡å‘½ä»¤ # ğŸ³ â†’ kk create cluster --with-kubernetes --with-kubesphere ç½‘ç»œåº”ç”¨åœºæ™¯ # ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª Kubernetes é›†ç¾¤ï¼Œå…ˆæ¥æ€è€ƒä¸€ä¸‹ï¼Œå®¹å™¨ç½‘ç»œé™¤äº†è®©é›†ç¾¤æ­£å¸¸è¿è¡Œï¼Œèƒ½è®©å®‰è£… Kubernetes å Pending çš„ CoreDNS running èµ·æ¥ï¼ˆæŠ–ä¸ªé¸¡çµ-_-ï¼‰ä»¥å¤–è¿˜æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ #">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>CNIæ’ä»¶é€‰å‹ 2024-04-03 15:01:51.29 | Guichen&#39;s Blog</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://192.168.0.139:1313/docs/cni%E6%8F%92%E4%BB%B6%E9%80%89%E5%9E%8B-cni-cha-jian-xuan-xing/">
<link rel="stylesheet" href="/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css" integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.6f52273b9f5fa65803e3991faf27d1a7b7b8f6b148888237d77b4e841cb030e3.js" integrity="sha256-b1InO59fplgD45kfryfRp7e49rFIiII313tOhBywMOM=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Guichen&#39;s Blog</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/00-%E9%9B%86%E7%BE%A4%E8%A7%84%E5%88%92%E5%92%8C%E5%9F%BA%E7%A1%80%E5%8F%82%E6%95%B0%E8%AE%BE%E5%AE%9A-00--ji-qun-gui-hua-he-ji-chu-can-shu-she-ding/" class="">00-é›†ç¾¤è§„åˆ’å’ŒåŸºç¡€å‚æ•°è®¾å®š 2023-09-28 15:19:02.214</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/01-%E5%88%9B%E5%BB%BA%E8%AF%81%E4%B9%A6%E5%92%8C%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87-01--chuang-jian-zheng-shu-he-huan-jing-zhun-bei/" class="">01-åˆ›å»ºè¯ä¹¦å’Œç¯å¢ƒå‡†å¤‡ 2023-09-28 15:22:19.812</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/02-%E5%AE%89%E8%A3%85etcd%E9%9B%86%E7%BE%A4-02--an-zhuang-etcd-ji-qun/" class="">02-å®‰è£…etcdé›†ç¾¤ 2023-09-28 15:23:07.363</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-24-%E9%9D%A2%E8%AF%950224/" class="">0224é¢è¯•</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-26-k8s%E7%9B%B8%E5%85%B3/" class="">0226 k8sé¢˜ç›®</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/03-%E5%AE%89%E8%A3%85%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6-03--an-zhuang-rong-qi-yun-xing-shi/" class="">03-å®‰è£…å®¹å™¨è¿è¡Œæ—¶ 2023-09-28 15:23:56.241</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/04-%E5%AE%89%E8%A3%85kube_master%E8%8A%82%E7%82%B9-04--an-zhuang-kubemaster-jie-dian/" class="">04-å®‰è£…kube_masterèŠ‚ç‚¹ 2023-09-28 15:24:21.203</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/05-%E5%AE%89%E8%A3%85kube_node%E8%8A%82%E7%82%B9-05--an-zhuang-kubenode-jie-dian/" class="">05-å®‰è£…kube_nodeèŠ‚ç‚¹ 2023-09-28 15:24:43.201</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-%E5%AE%89%E8%A3%85calico%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-calico-wang-luo-zu-jian/" class="">06-å®‰è£…calicoç½‘ç»œç»„ä»¶ 2023-09-28 15:34:28.483</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-%E5%AE%89%E8%A3%85cilium%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-cilium-wang-luo-zu-jian/" class="">06-å®‰è£…ciliumç½‘ç»œç»„ä»¶ 2023-09-28 15:35:23.884</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-%E5%AE%89%E8%A3%85flannel%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-flannel-wang-luo-zu-jian/" class="">06-å®‰è£…flannelç½‘ç»œç»„ä»¶ 2023-09-28 15:35:50.039</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-%E5%AE%89%E8%A3%85kube-ovn%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-kube-ovn-wang-luo-zu-jian/" class="">06-å®‰è£…kube-ovnç½‘ç»œç»„ä»¶ 2023-09-28 15:36:11.265</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-%E5%AE%89%E8%A3%85%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-wang-luo-zu-jian/" class="">06-å®‰è£…ç½‘ç»œç»„ä»¶ 2023-09-28 15:25:14.997</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/07-%E5%AE%89%E8%A3%85%E9%9B%86%E7%BE%A4%E4%B8%BB%E8%A6%81%E6%8F%92%E4%BB%B6-07--an-zhuang-ji-qun-zhu-yao-cha-jian/" class="">07-å®‰è£…é›†ç¾¤ä¸»è¦æ’ä»¶ 2023-09-28 15:26:42.651</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/08-k8s-%E9%9B%86%E7%BE%A4%E5%AD%98%E5%82%A8--k8s-ji-qun-cun-chu/" class="">08-K8S é›†ç¾¤å­˜å‚¨  2023-09-28 15:27:29.454</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/16%E4%B8%AA%E6%A6%82%E5%BF%B5%E5%B8%A6%E4%BD%A0%E5%85%A5%E9%97%A8-kubernetes-16-ge-gai-nian-dai-ni-ru-men-kubernetes/" class="">16ä¸ªæ¦‚å¿µå¸¦ä½ å…¥é—¨ Kubernetes 2024-04-03 15:09:21.671</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/16%E5%BC%A0%E7%A1%AC%E6%A0%B8%E5%9B%BE%E8%A7%A3k8s%E7%BD%91%E7%BB%9C-16-zhang-ying-he-tu-jie-k8s-wang-luo/" class="">16å¼ ç¡¬æ ¸å›¾è§£k8sç½‘ç»œ 2024-04-03 15:12:49.601</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-07-microk8s/" class="">2024-12-07 microk8s</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-08-devstack/" class="">2024-12-08 devstack</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-08-mutilpass%E6%93%8D%E4%BD%9C/" class="">2024-12-08 mutilpassæ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-08-nano%E6%93%8D%E4%BD%9C/" class="">2024-12-08 nanoæ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-08-openstack%E5%92%8Ckubernetes%E5%8C%BA%E5%88%AB/" class="">2024-12-08 openstackå’ŒkubernetesåŒºåˆ«</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-08-openstack%E9%9C%80%E8%A6%81%E5%87%A0%E5%8F%B0%E8%99%9A%E6%8B%9F%E6%9C%BA/" class="">2024-12-08 openstackéœ€è¦å‡ å°è™šæ‹Ÿæœº</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-08-%E5%9D%97%E5%AD%98%E5%82%A8%E5%92%8C%E5%AF%B9%E8%B1%A1%E5%82%A8%E5%AD%98%E5%8C%BA%E5%88%AB/" class="">2024-12-08 å—å­˜å‚¨å’Œå¯¹è±¡å‚¨å­˜åŒºåˆ«</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-09-docker-daemon.json/" class="">2024-12-09 docker daemon.json</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-09-helmchart-%E9%83%A8%E7%BD%B2flask%E5%BA%94%E7%94%A8/" class="">2024-12-09 helmchart éƒ¨ç½²flaskåº”ç”¨</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-08-mutilpass%E9%83%A8%E7%BD%B2openstack/" class="">2024-12-09 mutilpasséƒ¨ç½²openstack devstackå½¢å¼</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-09-openstack-ssh%E8%BF%9E%E6%8E%A5/" class="">2024-12-09 openstack sshè¿æ¥</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-10-docker-registrry/" class="">2024-12-10 docker registrry</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-2-22-k8s%E6%9E%B6%E6%9E%84%E5%B8%88%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8/" class="">2024-2-22 k8sæ¶æ„å¸ˆé¢è¯•å¤§å…¨</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-2-22-k8s%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/" class="">2024-2-22 k8sé¢è¯•å®å…¸</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-2-26-%E9%9D%A2%E8%AF%95/" class="">2024-2-26 é¢è¯•</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-3-19-%E4%B8%A4%E5%BC%A0%E5%9B%BE%E5%85%A8%E9%9D%A2%E7%90%86%E8%A7%A3k8s%E5%8E%9F%E7%90%86/" class="">2024-3-19 ä¸¤å¼ å›¾å…¨é¢ç†è§£k8såŸç†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-3-4-cni%E5%89%96%E6%9E%90%E6%BC%94%E8%BF%9B/" class="">2024-3-4 CNIå‰–ææ¼”è¿›</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-3-8-%E9%9D%A2%E8%AF%950308/" class="">2024-3-8 é¢è¯•</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-4-17-%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" class="">2024-4-17 é¢è¯•æ€»ç»“</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-8-1-kubernetes%E9%9D%A2%E8%AF%95%E9%A2%98/" class="">2024-8-1 k8sé¢è¯•é¢˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-8-1-%E5%B8%B8%E8%A7%81linux%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98%E6%89%BE%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%BF%85%E7%9C%8B/" class="">2024-8-1 linuxè¿ç»´é¢è¯•é¢˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-8-1-linux%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%8850%E4%B8%AA%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/" class="">2024-8-1 linuxé¢è¯•é¢˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-1-1-%E5%A4%A7%E5%A0%B0%E6%B2%B3-%E6%88%91%E7%9A%84%E4%BF%9D%E5%A7%86/" class="">2025-1-1 å¤§å °æ²³-æˆ‘çš„ä¿å§†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-3-4-k8s-csi%E5%89%96%E6%9E%90/" class="">2025-1-16 CSIå‰–ææ¼”è¿›</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-1-16-k8s%E5%B8%B8%E8%A7%81%E6%95%85%E9%9A%9C%E6%8C%87%E5%8D%97/" class="">2025-1-16 k8så¸¸è§æ•…éšœæŒ‡å—</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-3-4-k8s%E6%B5%81%E9%87%8F%E9%93%BE%E8%B7%AF%E5%89%96%E6%9E%90/" class="">2025-1-16 k8sæµé‡é“¾è·¯å‰–æ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/33%E6%AC%BEgitops%E4%B8%8Edevops%E4%B8%BB%E6%B5%81%E7%B3%BB%E7%BB%9F-33-kuan-gitops-yu-devops-zhu-liu-xi-tong/" class="">33æ¬¾gitopsä¸devopsä¸»æµç³»ç»Ÿ 2024-08-02 17:45:15.709</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/600%E6%9D%A1%E6%9C%80%E5%BC%BAlinux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93-600-tiao-zui-qiang-linux-ming-ling-zong-jie/" class="">600æ¡æœ€å¼ºlinuxå‘½ä»¤æ€»ç»“ 2024-04-03 15:12:31.282</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/acme%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E8%AF%81%E4%B9%A6-acme-zi-dong-geng-xin-zheng-shu/" class="">acmeè‡ªåŠ¨æ›´æ–°è¯ä¹¦ 2024-04-03 14:41:44.289</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/calico-%E9%85%8D%E7%BD%AE-bgp-route-reflectors-calico-pei-zhi-bgproutereflectors/" class="">calico é…ç½® BGP Route Reflectors 2023-09-28 15:34:01.007</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/calico%E7%BD%91%E7%BB%9C%E8%87%AA%E5%AE%9A%E4%B9%89-calico-wang-luo-zi-ding-yi/" class="">Calicoç½‘ç»œè‡ªå®šä¹‰ 2024-04-03 15:08:43.394</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cicd%E6%80%9D%E8%80%83-cicd-si-kao/" class="">CICDæ€è€ƒ 2024-04-03 15:11:24.151</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/client-go-%E5%9B%9B%E7%A7%8D%E5%AE%A2%E6%88%B7%E7%AB%AF-client-go-si-zhong-ke-hu-duan/" class="">Client-go å››ç§å®¢æˆ·ç«¯ 2024-04-03 14:49:34.32</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/client-go-%E6%9E%B6%E6%9E%84-client-go-jia-gou/" class="">Client-go æ¶æ„ 2024-04-03 14:48:40.716</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cni%E6%8F%92%E4%BB%B6%E9%80%89%E5%9E%8B-cni-cha-jian-xuan-xing/" class="active">CNIæ’ä»¶é€‰å‹ 2024-04-03 15:01:51.29</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/containerd-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-containerd-ji-ben-cao-zuo/" class="">Containerd åŸºæœ¬æ“ä½œ 2024-04-03 14:55:46.786</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/coredns%E4%B9%8B%E5%85%89-coredns-zhi-guang/" class="">COREDNSä¹‹å…‰ 2024-04-03 14:54:52.059</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dockerfile%E5%AE%9A%E5%88%B6%E4%B8%93%E5%B1%9E%E9%95%9C%E5%83%8F-dockerfile-ding-zhi-zhuan-shu-jing-xiang/" class="">dockerfileå®šåˆ¶ä¸“å±é•œåƒ 2024-08-02 17:44:00.522</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dockerfile%E7%9A%84copy%E5%92%8Cadd%E7%9A%84%E5%8C%BA%E5%88%AB-dockerfile-de-copy-he-add-de-qu-bie/" class="">dockerfileçš„copyå’Œaddçš„åŒºåˆ« 2024-04-03 15:01:09.565</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker%E9%87%8D%E8%A6%81%E7%9A%84%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9-docker-zhong-yao-de-wang-luo-zhi-shi-dian/" class="">Dockeré‡è¦çš„ç½‘ç»œçŸ¥è¯†ç‚¹  2024-04-03 15:12:10.162</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/etcd%E5%A4%87%E4%BB%BD-etcd-bei-fen/" class="">ETCDå¤‡ä»½ 2024-04-03</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/etcd%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E8%B7%B5-etcd-wen-ding-xing-ji-xing-neng-you-hua-shi-jian/" class="">ETCDç¨³å®šæ€§åŠæ€§èƒ½ä¼˜åŒ–å®è·µ 2024-04-03 15:06:31.141</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ex-lb-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%83%A8%E7%BD%B2-ex-lb-fu-zai-jun-heng-bu-shu/" class="">EX-LB è´Ÿè½½å‡è¡¡éƒ¨ç½² 2023-09-28 15:28:51.998</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ezctl-%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%BB%8B%E7%BB%8D-ezctl-ming-ling-xing-jie-shao/" class="">ezctl å‘½ä»¤è¡Œä»‹ç» 2023-09-28 15:28:00.619</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/flanel%E7%BD%91%E7%BB%9C-flanel-wang-luo/" class="">flanelç½‘ç»œ 2024-04-03 15:05:04.16</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/godel-scheduler-godel-scheduler/" class="">godel-scheduler 2024-08-02 17:41:00.668</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/helm-chart%E5%92%8Crepo-helmchart-he-repo/" class="">helm chartå’Œrepo 2024-04-03 15:00:43.125</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/istio-ingress-gateway-istio-ingress-gateway/" class="">istio-ingress-gateway 2024-08-02 17:51:54.75</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/istio%E9%83%A8%E7%BD%B2-istio-bu-shu/" class="">istioéƒ¨ç½² 2024-08-02 17:52:40.721</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-cni%E5%89%96%E6%9E%90%E6%BC%94%E8%BF%9B-k8scni-pou-xi-yan-jin/" class="">K8S CNIå‰–ææ¼”è¿› 2024-03-04 10:51:33.245</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-csi-openebs%E5%8E%9F%E7%90%86-k8scsiopenebs-yuan-li/" class="">K8S csi openebsåŸç† 2024-04-03 14:44:48.967</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-csi%E5%89%96%E6%9E%90%E6%BC%94%E8%BF%9B-k8scsi-pou-xi-yan-jin/" class="">K8S CSIå‰–ææ¼”è¿› 2024-03-04 10:52:20.507</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-gpt-k8sgpt/" class="">K8S GPT 2024-04-03 15:02:09.127</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-%E5%BC%80%E5%8F%91%E5%8F%AF%E4%B8%8D%E6%AD%A2-crud-k8s-kai-fa-ke-bu-zhi-crud/" class="">K8S å¼€å‘å¯ä¸æ­¢ CRUD 2024-04-03 14:50:11.765</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-%E6%8E%A2%E9%92%88%E5%8E%9F%E7%90%86-k8s-tan-zhen-yuan-li/" class="">K8S æ¢é’ˆåŸç† 2024-04-03 14:53:29.429</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-%E6%B5%81%E9%87%8F%E9%93%BE%E8%B7%AF%E5%89%96%E6%9E%90-k8s-liu-liang-lian-lu-pou-xi/" class="">K8S æµé‡é“¾è·¯å‰–æ 2024-03-04 10:50:22.991</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s-%E8%B0%83%E5%BA%A6%E5%99%A8-scheduler_onego-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-diao-du-qi-scheduleronego-yuan-ma-jie-du/" class="">K8S è°ƒåº¦å™¨ scheduler_one.go æºç è§£è¯» 2024-04-09 11:45:28.22</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E4%B9%8Bingress-nginx%E5%8E%9F%E7%90%86%E5%8F%8A%E9%85%8D%E7%BD%AE-k8s-zhi-ingress-nginx-yuan-li-ji-pei-zhi/" class="">K8Sä¹‹ingress-nginxåŸç†åŠé…ç½® 2024-07-05 18:02:14.243</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E4%B9%8Bkubelet%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-zhi-kubelet-yuan-ma-jie-du/" class="">k8sä¹‹kubeletæºç è§£è¯» 2024-03-28 15:30:39.633</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E5%8E%9F%E5%9C%B0%E5%8D%87%E7%BA%A7-k8s-yuan-de-sheng-ji/" class="">K8SåŸåœ°å‡çº§ 2024-04-03 15:04:38.125</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E5%91%BD%E4%BB%A4%E6%8C%87%E5%8D%97-k8s-ming-ling-zhi-nan/" class="">K8Så‘½ä»¤æŒ‡å— 2024-04-03 15:14:14.207</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E5%A6%82%E4%BD%95%E8%8E%B7%E5%BE%97-ip-k8s-ru-he-huo-de-ip/" class="">K8Så¦‚ä½•è·å¾— IP 2024-04-16 17:09:59.658</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E5%BA%94%E7%94%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-k8s-ying-yong-de-zui-jia-shi-jian/" class="">k8såº”ç”¨çš„æœ€ä½³å®è·µ 2024-04-03 14:43:16.936</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-deployment_controllergo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-deploymentcontrollergo-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹ deployment_controller.goæºç è§£è¯» 2024-04-09 11:30:03.133</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-progressgo-%E8%BF%9B%E5%BA%A6-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-progressgo-jin-du-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹ progress.go è¿›åº¦ æºç è§£è¯» 2024-04-09 11:31:08.86</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-rollinggo-%E6%BB%9A%E5%8A%A8%E6%9B%B4%E6%96%B0-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-rollinggo-gun-dong-geng-xin-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹ rolling.go æ»šåŠ¨æ›´æ–° æºç è§£è¯» 2024-04-09 11:32:58.133</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-schedulergo-%E8%B0%83%E5%BA%A6%E5%99%A8-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-schedulergo-diao-du-qi-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹ scheduler.go è°ƒåº¦å™¨ æºç è§£è¯» 2024-04-09 11:44:25.171</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Brecreatego-%E9%87%8D%E5%BB%BA-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-recreatego-zhong-jian-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹recreate.go é‡å»º æºç è§£è¯» 2024-04-09 11:31:49.855</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Brollbackgo-%E5%9B%9E%E6%BB%9A-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-rollbackgo-hui-gun-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹rollback.go å›æ»š æºç è§£è¯» 2024-04-09 11:32:26.587</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_pod_controlgo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulpodcontrolgo-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹stateful_pod_control.goæºç è§£è¯» 2024-04-10 09:42:50.078</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_set_controlgo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulsetcontrolgo-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹stateful_set_control.goæºç è§£è¯» 2024-04-10 09:41:30.316</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_set_status_updatego%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulsetstatusupdatego-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹stateful_set_status_update.goæºç è§£è¯» 2024-04-10</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_setgo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulsetgo-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹stateful_set.goæºç è§£è¯» 2024-04-10</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bsyncgo-%E5%90%8C%E6%AD%A5-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-syncgo-tong-bu-yuan-ma-jie-du/" class="">K8Sæ§åˆ¶å™¨ä¹‹sync.go åŒæ­¥ æºç è§£è¯» 2024-04-09 11:33:26.356</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E7%9A%84pod%E7%B1%BB%E5%9E%8B-k8s-de-pod-lei-xing/" class="">K8Sçš„PODç±»å‹ 2024-04-03 14:57:11.072</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E5%9D%97%E6%8B%BC%E5%9B%BE-dbpaas-k8s-de-zui-hou-yi-kuai-pin-tu-dbpaas/" class="">K8Sçš„æœ€åä¸€å—æ‹¼å›¾ dbpaas 2024-08-02 17:48:35.899</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-7-k8s%E7%BB%84%E4%BB%B6/" class="">k8sç»„ä»¶</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E8%83%8C%E5%90%8Eservice%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84-k8s-bei-hou-service-shi-ru-he-gong-zuo-de/" class="">k8sèƒŒåserviceæ˜¯å¦‚ä½•å·¥ä½œçš„ 2024-08-02 17:49:44.981</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E8%B0%83%E5%BA%A6%E5%99%A8-extendergo-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-diao-du-qi-extendergo-yuan-ma-jie-du/" class="">K8Sè°ƒåº¦å™¨ extender.go æºç è§£è¯» 2024-04-09 11:45:59.666</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E8%B0%83%E8%AF%95pod-k8s-diao-shi-pod/" class="">K8Sè°ƒè¯•POD 2024-04-03 14:58:15.293</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E8%BF%90%E7%BB%B4%E4%B9%8B%E6%B8%85%E7%90%86%E7%A3%81%E7%9B%98-k8s-yun-wei-zhi-qing-li-ci-pan/" class="">k8sè¿ç»´ä¹‹æ¸…ç†ç£ç›˜ 2024-04-03 15:13:57.279</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8-k8s-mian-shi-da-quan/" class="">K8Sé¢è¯•å¤§å…¨ 2024-04-03 15:10:54.493</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8-k8s-mian-shi-bao-dian/" class="">K8Sé¢è¯•å®å…¸ 2024-04-03 15:11:09.316</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/k8s%E9%9D%A2%E8%AF%95%E9%A2%98-k8s-mian-shi-ti/" class="">K8Sé¢è¯•é¢˜ 2024-08-02 17:50:50.418</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kruise%E5%8E%9F%E5%9C%B0%E5%8D%87%E7%BA%A7%E8%A7%A3%E6%9E%90-kruise-yuan-de-sheng-ji-jie-xi/" class="">kruiseåŸåœ°å‡çº§è§£æ 2024-08-02 17:59:31.689</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kube-router-%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-kube-router-wang-luo-zu-jian/" class="">kube-router ç½‘ç»œç»„ä»¶ 2023-09-28 15:33:20.658</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-12-05-kubeasz%E9%83%A8%E7%BD%B2k8s/" class="">kubeaszéƒ¨ç½²k8s</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kubekey%E6%B7%BB%E5%8A%A0%E6%96%B0%E8%8A%82%E7%82%B9-kubekey-tian-jia-xin-jie-dian/" class="">kubekeyæ·»åŠ æ–°èŠ‚ç‚¹ 2024-04-03 15:36:47.646</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kubernetes-api-kubernetesapi/" class="">Kubernetes API 2024-04-03 14:47:30.212</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kubernetes-%E6%BA%90%E7%A0%81%E7%BB%93%E6%9E%84-kubernetes-yuan-ma-jie-gou/" class="">Kubernetes æºç ç»“æ„ 2024-04-03 14:48:05.954</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kubernetes-%E8%AF%81%E4%B9%A6%E8%AF%A6%E8%A7%A3%E8%AE%A4%E8%AF%81-kubernetes-zheng-shu-xiang-jie--ren-zheng-/" class="">Kubernetes è¯ä¹¦è¯¦è§£(è®¤è¯) 2024-04-03 14:52:56.54</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kubernetes-%E8%AF%81%E4%B9%A6%E8%AF%A6%E8%A7%A3%E9%89%B4%E6%9D%83-kubernetes-zheng-shu-xiang-jie--jian-quan-/" class="">Kubernetes è¯ä¹¦è¯¦è§£(é‰´æƒ) 2024-04-03 14:49:04.385</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kubewharf-kubewharf/" class="">kubewharf 2024-08-02 17:41:32.72</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux-awk%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%99%A8-8%E4%B8%AA%E6%A1%88%E4%BE%8B-linuxawk-wen-ben-chu-li-qi-8-ge-an-li/" class="">linux awkæ–‡æœ¬å¤„ç†å™¨ 8ä¸ªæ¡ˆä¾‹ 2024-08-02 17:46:53.603</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%A4%A7%E5%85%A8-linux-xing-neng-you-hua-da-quan/" class="">Linux æ€§èƒ½ä¼˜åŒ–å¤§å…¨ 2024-04-03 15:09:06.854</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E4%B8%83%E4%B8%AA%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C-linux-xi-tong-xing-neng-you-hua-qi-ge-shi-zhan-jing-yan/" class="">linuxç³»ç»Ÿæ€§èƒ½ä¼˜åŒ– ä¸ƒä¸ªå®æˆ˜ç»éªŒ 2024-08-02 17:47:26.212</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%8850%E4%B8%AA%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98-linux-yun-wei-gong-cheng-shi-50-ge-chang-jian-mian-shi-ti/" class="">linuxè¿ç»´å·¥ç¨‹å¸ˆ50ä¸ªå¸¸è§é¢è¯•é¢˜ 2024-08-02 17:42:12.968</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/metallb-l2-%E5%8E%9F%E7%90%86-metallbl2-yuan-li/" class="">MetalLB L2 åŸç† 2024-04-03 14:52:24.662</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/netctl%E6%A3%80%E6%B5%8B%E9%9B%86%E7%BE%A4pod%E9%97%B4%E8%BF%9E%E9%80%9A%E6%80%A7-netctl-jian-ce-ji-qun-pod-jian-lian-tong-xing/" class="">netctlæ£€æµ‹é›†ç¾¤podé—´è¿é€šæ€§ 2024-08-02 18:00:36.753</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network-check-network-check/" class="">network-check 2023-09-28 15:36:33.04</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/nginx%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E6%83%8A%E7%BE%A4%E6%95%88%E5%BA%94-nginx-ru-he-jie-jue-jing-qun-xiao-ying/" class="">nginxå¦‚ä½•è§£å†³æƒŠç¾¤æ•ˆåº” 2024-08-02 17:45:54.531</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/openkruise%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A%E4%BB%A5%E5%8F%8A%E5%8E%9F%E5%9C%B0%E5%8D%87%E7%BA%A7%E5%8F%8A%E5%85%A8%E9%93%BE%E8%B7%AF%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83%E6%96%B9%E6%A1%88-openkruise-xiang-xi-jie-shi-yi-ji-yuan-de-sheng-ji-ji-quan-lian-lu-hui-du-fa-bu-fang-an/" class="">OpenKruiseè¯¦ç»†è§£é‡Šä»¥åŠåŸåœ°å‡çº§åŠå…¨é“¾è·¯ç°åº¦å‘å¸ƒæ–¹æ¡ˆ 2024-07-22 11:44:46.892</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/pixie-pixie/" class="">pixie 2024-08-02 17:52:17.843</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-28-prometheus/" class="">prometheus é¢è¯•é¢˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/prometheus-stack-prometheus-stack/" class="">prometheus-stack 2024-08-02 17:55:22.326</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/prometheus%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9B%91%E6%8E%A7%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93-prometheus-qi-ye-ji-jian-kong-shi-yong-zong-jie/" class="">prometheusä¼ä¸šçº§ç›‘æ§ä½¿ç”¨æ€»ç»“ 2024-04-03 15:13:11.185</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ssl%E8%AF%81%E4%B9%A6%E8%87%AA%E7%AD%BE%E5%8F%91-ssl-zheng-shu-zi-qian-fa/" class="">sslè¯ä¹¦è‡ªç­¾å‘ 2024-04-03</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/teg%E4%B8%8Eistio%E9%9B%86%E6%88%90-teg-yu-istio-ji-cheng/" class="">TEGä¸istioé›†æˆ 2024-08-02 17:51:20.389</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E4%B8%A4%E5%BC%A0%E5%9B%BE%E5%85%A8%E9%9D%A2%E7%90%86%E8%A7%A3k8s%E5%8E%9F%E7%90%86-liang-zhang-tu-quan-mian-li-jie-k8s-yuan-li/" class="">ä¸¤å¼ å›¾å…¨é¢ç†è§£K8SåŸç† 2024-04-03 14:51:27.431</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E4%B8%AA%E6%80%A7%E5%8C%96%E9%9B%86%E7%BE%A4%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE-ge-xing-hua-ji-qun-can-shu-pei-zhi/" class="">ä¸ªæ€§åŒ–é›†ç¾¤å‚æ•°é…ç½® 2023-09-28 15:30:56.072</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-24-%E4%B8%AD%E7%BA%A7%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98_%E9%A2%98%E7%9B%AE/" class="">ä¸­çº§è¿ç»´é¢è¯•é¢˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%83%A8%E7%BD%B2k8s%E5%8A%A0%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C-er-jin-zhi-bu-shu-k8s-jia-jie-dian-cao-zuo/" class="">äºŒè¿›åˆ¶éƒ¨ç½²K8SåŠ èŠ‚ç‚¹æ“ä½œ 2024-04-03 15:08:26.726</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-10-20-%E5%88%9B%E5%BB%BA%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4/" class="">ä½¿ç”¨ Keepalived å’Œ HAproxy åˆ›å»ºé«˜å¯ç”¨ Kubernetes é›†ç¾¤</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E4%BD%BF%E7%94%A8-keepalived-%E5%92%8C-haproxy-%E5%88%9B%E5%BB%BA%E9%AB%98%E5%8F%AF%E7%94%A8-kubernetes-%E9%9B%86%E7%BE%A4-shi-yong-keepalived-he-haproxy-chuang-jian-gao-ke-yong-kubernetes-ji-qun/" class="">ä½¿ç”¨ Keepalived å’Œ HAproxy åˆ›å»ºé«˜å¯ç”¨ Kubernetes é›†ç¾¤ 2023-04-12 04:04:09.458</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E4%BD%BF%E7%94%A8-openfunction-%E5%9C%A8%E4%BB%BB%E4%BD%95%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E4%B8%8A%E8%BF%90%E8%A1%8C%E6%97%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%A5%E4%BD%9C%E8%B4%9F%E8%BD%BD-shi-yong-openfunction-zai-ren-he-ji-chu-she-shi-shang-yun-xing-wu-fu-wu-qi-gong-zuo-fu-zai/" class="">ä½¿ç”¨ OpenFunction åœ¨ä»»ä½•åŸºç¡€è®¾æ–½ä¸Šè¿è¡Œæ— æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ 2024-01-21 04:02:44.459</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E4%BD%BF%E7%94%A8cloudflarecf%E6%90%AD%E5%BB%BAdockerhub%E4%BB%A3%E7%90%86-shi-yong-cloudflarecf-da-jian-dockerhub-dai-li/" class="">ä½¿ç”¨cloudflare(CF)æ­å»ºdockerhubä»£ç† 2024-06-28 14:38:34.339</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E4%BD%BF%E7%94%A8kubernees-leases-%E8%BD%BB%E6%9D%BE%E5%AE%9E%E7%8E%B0leader-election-shi-yong-kuberneesleases-qing-song-shi-xian-leaderelection/" class="">ä½¿ç”¨kubernees leases è½»æ¾å®ç°leader election 2024-04-03 15:09:46.129</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%85%AC%E6%9C%89%E4%BA%91%E4%B8%8A%E9%83%A8%E7%BD%B2-kubeasz-gong-you-yun-shang-bu-shu-kubeasz/" class="">å…¬æœ‰äº‘ä¸Šéƒ¨ç½² kubeasz 2023-09-28 15:31:16.19</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2024-5-14-%E5%8D%95master%E5%8D%95etcd%E6%94%B9%E9%80%A0/" class="">å•masterå•etcdæ”¹é€ ä¸º3master3etcd</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8F%B2%E4%B8%8A%E6%9C%80%E7%89%9Bjenkins-pipeline%E6%B5%81%E6%B0%B4%E7%BA%BF%E8%AF%A6%E8%A7%A3-shi-shang-zui-niu-jenkinspipeline-liu-shui-xian-xiang-jie/" class="">å²ä¸Šæœ€ç‰›jenkins pipelineæµæ°´çº¿è¯¦è§£ 2024-08-02</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%A4%9A%E6%9E%B6%E6%9E%84%E6%94%AF%E6%8C%81-duo-jia-gou-zhi-chi/" class="">å¤šæ¶æ„æ”¯æŒ 2023-09-28 15:29:54.111</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%A4%A7%E5%8E%82%E6%80%BB%E7%BB%93nginx%E9%AB%98%E5%B9%B6%E5%8F%91%E4%BC%98%E5%8C%96%E7%AC%94%E8%AE%B0-da-chang-zong-jie-nginx-gao-bing-fa-you-hua-bi-ji/" class="">å¤§å‚æ€»ç»“nginxé«˜å¹¶å‘ä¼˜åŒ–ç¬”è®° 2024-08-02 17:46:19.098</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%B9%B6%E5%8F%91%E4%B8%8B%E5%A6%82%E4%BD%95%E5%8A%A0%E5%BF%AB-pod-%E5%90%AF%E5%8A%A8%E9%80%9F%E5%BA%A6-da-gui-mo-bing-fa-xia-ru-he-jia-kuai-pod-qi-dong-su-du/" class="">å¤§è§„æ¨¡å¹¶å‘ä¸‹å¦‚ä½•åŠ å¿« Pod å¯åŠ¨é€Ÿåº¦ 2024-04-03</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%A6%82%E4%BD%95%E4%B8%BAk8s%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA-ru-he-wei-k8s-bao-jia-hu-hang/" class="">å¦‚ä½•ä¸ºK8Sä¿é©¾æŠ¤èˆª 2024-04-16 17:09:21.962</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8tekton%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAcicd%E5%B9%B3%E5%8F%B0-ru-he-shi-yong-tekton-kuai-su-da-jian-cicd-ping-tai/" class="">å¦‚ä½•ä½¿ç”¨tektonå¿«é€Ÿæ­å»ºCI/CDå¹³å° 2024-04-03</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95-crash-%E5%AE%B9%E5%99%A8%E7%9A%84%E7%BD%91%E7%BB%9C-ru-he-diao-shi-crash-rong-qi-de-wang-luo/" class="">å¦‚ä½•è°ƒè¯• crash å®¹å™¨çš„ç½‘ç»œ 2024-04-03 14:50:51.378</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E4%BB%A5%E5%8F%8A%E4%B8%8D%E5%90%8Cdnspolicy%E5%AF%B9%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%9A%84%E5%BD%B1%E5%93%8D-rong-qi-zhong-yu-ming-jie-xi-yi-ji-bu-tong-dnspolicy-dui-yu-ming-jie-xi-de-ying-xiang/" class="">å®¹å™¨ä¸­åŸŸåè§£æä»¥åŠä¸åŒdnspolicyå¯¹åŸŸåè§£æçš„å½±å“ 2024-04-03 15:04:09.254</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%AE%B9%E5%99%A8%E5%86%85%E7%9A%84-1-%E5%8F%B7%E8%BF%9B%E7%A8%8B-rong-qi-nei-de-1-hao-jin-cheng/" class="">å®¹å™¨å†…çš„ 1 å·è¿›ç¨‹ 2024-04-03 14:46:29.998</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%AE%B9%E5%99%A8%E5%8E%9F%E7%90%86-rong-qi-yuan-li/" class="">å®¹å™¨åŸç† 2024-04-03 14:45:58.422</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%AE%B9%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%80-overlayfs-%E5%8E%9F%E7%90%86-rong-qi-de-wen-jian-xi-tong--yi-overlayfs-yuan-li/" class="">å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ OverlayFS åŸç† 2024-04-03 14:45:26.893</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-rong-qi-wang-luo-yuan-li/" class="">å®¹å™¨ç½‘ç»œåŸç† 2024-04-03 14:51:51.962</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%B8%B8%E8%A7%81linux%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98-chang-jian-linux-yun-wei-mian-shi-ti/" class="">å¸¸è§linuxè¿ç»´é¢è¯•é¢˜ 2024-08-02 17:42:33.873</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8-cilium-kai-shi-shi-yong-cilium/" class="">å¼€å§‹ä½¿ç”¨ cilium 2023-09-28 15:34:49.205</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%BD%BB%E6%82%9F%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C-che-wu-rong-qi-wang-luo/" class="">å½»æ‚Ÿå®¹å™¨ç½‘ç»œ 2024-04-07 10:30:11.55</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%BF%AB%E9%80%9F%E6%8C%87%E5%8D%97-kuai-su-zhi-nan/" class="">å¿«é€ŸæŒ‡å— 2023-09-28 15:28:25.71</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%88%91%E5%8F%AA%E6%83%B3%E5%81%9A%E6%8A%80%E6%9C%AF-%E8%B5%B0%E6%8A%80%E6%9C%AF%E8%B7%AF%E7%BA%BF-wo-zhi-xiang-zuo-ji-shu-zou-ji-shu-lu-xian/" class="">æˆ‘åªæƒ³åšæŠ€æœ¯ èµ°æŠ€æœ¯è·¯çº¿ 2024-08-02 17:43:31.897</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%90%9E%E6%87%82k8s%E9%89%B4%E6%9D%83-gao-dong-k8s-jian-quan/" class="">ææ‡‚K8Sé‰´æƒ 2024-04-03 15:11:54.885</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%90%AD%E4%B8%AA%E6%97%A5%E5%BF%97%E6%89%8B%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%8D%E9%A6%99%E5%90%97-da-ge-ri-zhi-shou-ji-xi-tong-bu-xiang-ma/" class="">æ­ä¸ªæ—¥å¿—æ‰‹æœºç³»ç»Ÿä¸é¦™å— 2024-08-02 17:47:58.794</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%B4%E6%98%8E-cao-zuo-xi-tong-shuo-ming/" class="">æ“ä½œç³»ç»Ÿè¯´æ˜ 2023-09-28 15:31:37.694</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%96%87%E5%AD%A6%E7%9A%84%E6%95%85%E4%B9%A1-wen-xue-de-gu-xiang/" class="">æ–‡å­¦çš„æ•…ä¹¡ 2024-04-03 14:40:45.926</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%98%AF%E6%8A%80%E6%9C%AF%E5%A4%A7%E7%A5%9E%E8%BF%98%E6%98%AF%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84%E9%83%A8%E7%9A%84%E7%A5%B8%E5%AE%B3-shi-ji-shu-da-shen-hai-shi-ji-chu-jia-gou-bu-de-huo-hai/" class="">æ˜¯æŠ€æœ¯å¤§ç¥è¿˜æ˜¯åŸºç¡€æ¶æ„éƒ¨çš„ç¥¸å®³ 2024-08-02 17:50:26.139</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%9C%89%E8%BF%993%E4%B8%AA%E8%BF%B9%E8%B1%A1%E4%BD%A0%E5%B0%B1%E8%AF%A5%E7%A6%BB%E8%81%8C%E4%BA%86-you-zhe-3-ge-ji-xiang--ni-jiu-gai-li-zhi-le/" class="">æœ‰è¿™3ä¸ªè¿¹è±¡ï¼Œä½ å°±è¯¥ç¦»èŒäº† 2023-09-21 16:00:22.432</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%9E%81%E5%A4%A7%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84-linux-%E5%91%BD%E4%BB%A4-ji-da-ti-gao-gong-zuo-xiao-lv-de-linux-ming-ling/" class="">æå¤§æé«˜å·¥ä½œæ•ˆç‡çš„ Linux å‘½ä»¤ 2024-04-03 14:42:46.957</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%9E%84%E5%BB%BA%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E5%88%A9%E5%99%A8buildkit-gou-jian-rong-qi-jing-xiang-li-qi-buildkit/" class="">æ„å»ºå®¹å™¨é•œåƒåˆ©å™¨buildkit 2024-08-02 17:49:14.916</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%B5%81%E9%87%8F%E4%BD%95%E5%A4%84%E6%9D%A5%E4%BD%95%E5%A4%84%E5%8E%BB-liu-liang-he-chu-lai-he-chu-qu/" class="">æµé‡ä½•å¤„æ¥ä½•å¤„å» 2024-04-03 14:56:20.089</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%B8%85%E7%90%86docker%E9%95%9C%E5%83%8F-qing-li-docker-jing-xiang/" class="">æ¸…ç†dockeré•œåƒ 2024-08-02 17:54:48.594</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%B8%85%E7%90%86%E6%AE%8B%E7%95%99%E7%9A%84calico%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6-qing-li-can-liu-de-calico-wang-luo/" class="">æ¸…ç†æ®‹ç•™çš„calicoç½‘ç»œæ’ä»¶ 2024-04-03 15:07:38.854</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%A3%81%E7%9B%98%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D-ci-pan-shu-ju-hui-fu/" class="">ç£ç›˜æ•°æ®æ¢å¤ 2024-04-03 14:59:27.839</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85kubephere-li-xian-an-zhuang-kubephere/" class="">ç¦»çº¿å®‰è£…kubephere 2024-04-03 14:59:59.885</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E9%9B%86%E7%BE%A4-li-xian-an-zhuang-ji-qun/" class="">ç¦»çº¿å®‰è£…é›†ç¾¤ 2023-09-28 15:29:14.742</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-7-%E8%AE%A1%E5%88%92/" class="">ç¾å›½ç å†œè–ªé…¬</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-7-%E8%AE%A1%E5%88%922/" class="">ç¾å›½ç å†œè®¡åˆ’</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%87%AA%E5%8A%A8%E5%B1%8F%E8%94%BDip%E6%94%BB%E5%87%BB-zi-dong-ping-bi-ip-gong-ji/" class="">è‡ªåŠ¨å±è”½IPæ”»å‡» 2024-04-03 14:54:11.783</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-12-%E9%9D%A2%E8%AF%950212/" class="">é¢è¯•0212</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-19-%E9%9D%A2%E8%AF%950219/" class="">é¢è¯•0219</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-20-%E9%9D%A2%E8%AF%950220/" class="">é¢è¯•0220</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-26-%E9%9D%A2%E8%AF%950225/" class="">é¢è¯•0225</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E9%9D%A2%E8%AF%950308-mian-shi-0308/" class="">é¢è¯•0308 2024-04-03 14:57:53.576</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-11-%E9%9D%A2%E8%AF%950211/" class="">é¢è¯•2025-02-11</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-18-%E9%9D%A2%E8%AF%95/" class="">é¢è¯•2025-0218</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E9%9D%A2%E8%AF%95%E7%94%A8-golang-%E6%89%8B%E6%92%B8-lru-mian-shi-yong-golang-shou-lu-lru/" class="">é¢è¯•ç”¨ Golang æ‰‹æ’¸ LRU 2024-04-03 14:47:00.767</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E9%A1%B6%E7%BA%A7devops%E5%B7%A5%E5%85%B7%E5%A4%A7%E7%9B%98%E7%82%B9-ding-ji-devops-gong-ju-da-pan-dian/" class="">é¡¶çº§devopså·¥å…·å¤§ç›˜ç‚¹ 2024-08-02 17:43:03.661</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/2025-2-24-%E9%AB%98%E7%BA%A7%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98_ai_linux%E9%83%A8%E5%88%86/" class="">é«˜çº§è¿ç»´é¢è¯•é¢˜-linuxéƒ¨åˆ†</a>
  

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>CNIæ’ä»¶é€‰å‹ 2024-04-03 15:01:51.29</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#å¸¸è§ç½‘ç»œæ’ä»¶">å¸¸è§ç½‘ç»œæ’ä»¶</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#ç½‘ç»œåº”ç”¨åœºæ™¯">ç½‘ç»œåº”ç”¨åœºæ™¯</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#ç½‘ç»œæ’ä»¶åŠŸèƒ½å®ç°">ç½‘ç»œæ’ä»¶åŠŸèƒ½å®ç°</a>
      <ul>
        <li><a href="#å›ºå®š-ip">å›ºå®š IP</a></li>
        <li><a href="#å¤šé›†ç¾¤ç½‘ç»œäº’è”">å¤šé›†ç¾¤ç½‘ç»œäº’è”</a></li>
        <li><a href="#å¤šé›†ç¾¤æœåŠ¡äº’è®¿">å¤šé›†ç¾¤æœåŠ¡äº’è®¿</a></li>
        <li><a href="#ç½‘ç»œç­–ç•¥">ç½‘ç»œç­–ç•¥</a></li>
        <li><a href="#egress">Egress</a></li>
        <li><a href="#å¸¦å®½ç®¡ç†">å¸¦å®½ç®¡ç†</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><p>æœ¬æ–‡ä»‹ç»å®¹å™¨ç¯å¢ƒå¸¸è§ç½‘ç»œåº”ç”¨åœºæ™¯åŠå¯¹åº”åœºæ™¯çš„ Kubernetes CNI æ’ä»¶åŠŸèƒ½å®ç°ã€‚å¸®åŠ©æ­å»ºå’Œä½¿ç”¨äº‘åŸç”Ÿç¯å¢ƒçš„å°ä¼™ä¼´<strong>å¿«é€Ÿé€‰æ‹©å¿ƒä»ªçš„ç½‘ç»œå·¥å…·</strong>ã€‚</p>
<h2 id="å¸¸è§ç½‘ç»œæ’ä»¶">
  å¸¸è§ç½‘ç»œæ’ä»¶
  <a class="anchor" href="#%e5%b8%b8%e8%a7%81%e7%bd%91%e7%bb%9c%e6%8f%92%e4%bb%b6">#</a>
</h2>
<p>æˆ‘ä»¬åœ¨å­¦ä¹ å®¹å™¨ç½‘ç»œçš„æ—¶å€™ï¼Œè‚¯å®šéƒ½å¬è¯´è¿‡ Docker çš„ bridge ç½‘ç»œï¼ŒVethpairï¼ŒVxLAN ç­‰æœ¯è¯­ï¼Œä» Docker åˆ° kubernetes åï¼Œå­¦ä¹ äº† Flannelã€Calico ç­‰ä¸»æµç½‘ç»œæ’ä»¶ï¼Œåˆ†åˆ«ä»£è¡¨äº† Overlay å’Œ Underlay çš„ä¸¤ç§ç½‘ç»œä¼ è¾“æ¨¡å¼ï¼Œä¹Ÿæ˜¯å¾ˆç»å…¸çš„ä¸¤æ¬¾ CNI ç½‘ç»œæ’ä»¶ã€‚é‚£ä¹ˆï¼Œè¿˜æœ‰å“ªäº›å¥½ç”¨çš„ CNI æ’ä»¶å‘¢ ? æˆ‘ä»¬çœ‹çœ‹ CNCF Landscape:</p>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061737738.png" alt="image-20240306173752677" /></p>
<p>å¸¸è§ç½‘ç»œæ’ä»¶</p>
<p>æŠ›å»å•†ä¸šç‰ˆ CNIï¼Œæ­¤æ¬¡åˆ†äº«æ¥èŠèŠå‡ æ¬¾çƒ­é—¨å¼€æº CNI æ’ä»¶ï¼Œåˆ†åˆ«ä¸º Kube-OVNã€Antreaã€Ciliumã€‚Kube-OVN å’Œ Antrea éƒ½æ˜¯åŸºäº OpenvSwitch çš„é¡¹ç›®ï¼ŒCilium ä½¿ç”¨ eBPF è¿™æ¬¾é©å‘½æ€§çš„æŠ€æœ¯ä½œä¸ºæ•°æ®è·¯å¾„ï¼Œäº¦æ˜¯è¿™ä¸¤å¹´å¾ˆç«çƒ­çš„ä¸€ä¸ªå¼€æºå®¹å™¨é¡¹ç›®ã€‚</p>
<p>è¡Œä¸‡é‡Œè·¯ï¼Œæ­¤å¤„ç›¸é€¢ï¼Œå…±è¯äº‘åŸç”Ÿä¹‹é“ã€‚ å¶é€—è¶£äº‹ï¼Œæ˜æœˆæ¸…é£ï¼Œä¸å›åŒåã€‚</p>
<p>55ç¯‡åŸåˆ›å†…å®¹</p>
<p>å…¬ä¼—å·</p>
<h5 id="é‚£ä¹ˆåˆå›åˆ°å­¦ä¹ æ–°äº§å“çš„ç¬¬ä¸€æ­¥å¦‚ä½•å¿«é€Ÿéƒ¨ç½²-k8s-ä½“éªŒä¸åŒåœ°-cni-æ’ä»¶å‘¢æˆ‘ä»¬å¯ä»¥ä½¿ç”¨-kubekey-">
  é‚£ä¹ˆï¼Œåˆå›åˆ°å­¦ä¹ æ–°äº§å“çš„ç¬¬ä¸€æ­¥ï¼Œå¦‚ä½•å¿«é€Ÿéƒ¨ç½² K8s ä½“éªŒä¸åŒåœ° CNI æ’ä»¶å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Kubekey ã€‚
  <a class="anchor" href="#%e9%82%a3%e4%b9%88%e5%8f%88%e5%9b%9e%e5%88%b0%e5%ad%a6%e4%b9%a0%e6%96%b0%e4%ba%a7%e5%93%81%e7%9a%84%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%a6%82%e4%bd%95%e5%bf%ab%e9%80%9f%e9%83%a8%e7%bd%b2-k8s-%e4%bd%93%e9%aa%8c%e4%b8%8d%e5%90%8c%e5%9c%b0-cni-%e6%8f%92%e4%bb%b6%e5%91%a2%e6%88%91%e4%bb%ac%e5%8f%af%e4%bb%a5%e4%bd%bf%e7%94%a8-kubekey-">#</a>
</h5>
<h5 id="kubekey-ä½œä¸ºä¸€ä¸ªå¼€æºçš„-kubernetes-å’Œ-kubesphere-é›†ç¾¤éƒ¨ç½²å·¥å…·å¯ä»¥è½»æ¾çš„éƒ¨ç½²-kubernetes-é›†ç¾¤æä¾›èŠ‚ç‚¹ç®¡ç†æ“ä½œç³»ç»Ÿå®‰å…¨åŠ å›ºå®¹å™¨è¿è¡Œæ—¶ç®¡ç†ç½‘ç»œå­˜å‚¨å®‰è£…etcd-ç®¡ç†ç­‰kubekey-æ”¯æŒä¸€é”®éƒ¨ç½²-calico--flannel--cilium--kube-ovn-ç­‰ç½‘ç»œæ’ä»¶åªéœ€åœ¨-kk-çš„é…ç½®æ–‡ä»¶ä¸­æ³¨æ˜-network-çš„-plugin-å€¼å³å¯">
  Kubekey ä½œä¸ºä¸€ä¸ªå¼€æºçš„ Kubernetes å’Œ KubeSphere é›†ç¾¤éƒ¨ç½²å·¥å…·ï¼Œå¯ä»¥è½»æ¾çš„éƒ¨ç½² Kubernetes é›†ç¾¤ï¼Œæä¾›èŠ‚ç‚¹ç®¡ç†ã€æ“ä½œç³»ç»Ÿå®‰å…¨åŠ å›ºã€å®¹å™¨è¿è¡Œæ—¶ç®¡ç†ã€ç½‘ç»œå­˜å‚¨å®‰è£…ã€Etcd ç®¡ç†ç­‰ã€‚Kubekey æ”¯æŒä¸€é”®éƒ¨ç½² Calico / Flannel / Cilium / Kube-OVN ç­‰ç½‘ç»œæ’ä»¶ï¼Œåªéœ€åœ¨ kk çš„é…ç½®æ–‡ä»¶ä¸­æ³¨æ˜ network çš„ plugin å€¼å³å¯ï¼š
  <a class="anchor" href="#kubekey-%e4%bd%9c%e4%b8%ba%e4%b8%80%e4%b8%aa%e5%bc%80%e6%ba%90%e7%9a%84-kubernetes-%e5%92%8c-kubesphere-%e9%9b%86%e7%be%a4%e9%83%a8%e7%bd%b2%e5%b7%a5%e5%85%b7%e5%8f%af%e4%bb%a5%e8%bd%bb%e6%9d%be%e7%9a%84%e9%83%a8%e7%bd%b2-kubernetes-%e9%9b%86%e7%be%a4%e6%8f%90%e4%be%9b%e8%8a%82%e7%82%b9%e7%ae%a1%e7%90%86%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e5%ae%89%e5%85%a8%e5%8a%a0%e5%9b%ba%e5%ae%b9%e5%99%a8%e8%bf%90%e8%a1%8c%e6%97%b6%e7%ae%a1%e7%90%86%e7%bd%91%e7%bb%9c%e5%ad%98%e5%82%a8%e5%ae%89%e8%a3%85etcd-%e7%ae%a1%e7%90%86%e7%ad%89kubekey-%e6%94%af%e6%8c%81%e4%b8%80%e9%94%ae%e9%83%a8%e7%bd%b2-calico--flannel--cilium--kube-ovn-%e7%ad%89%e7%bd%91%e7%bb%9c%e6%8f%92%e4%bb%b6%e5%8f%aa%e9%9c%80%e5%9c%a8-kk-%e7%9a%84%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e4%b8%ad%e6%b3%a8%e6%98%8e-network-%e7%9a%84-plugin-%e5%80%bc%e5%8d%b3%e5%8f%af">#</a>
</h5>
<pre tabindex="0"><code>  network:
    plugin: calico/kubeovn/cilium
    kubePodsCIDR: 10.233.64.0/18
    kubeServiceCIDR: 10.233.0.0/18
</code></pre><h5 id="å¯¹äº-antreaç”±äºç‰ˆæœ¬è¾ƒæ–°ç›®å‰å¯é€šè¿‡-addon-çš„å½¢å¼æ·»åŠ -helm-æ–‡ä»¶çš„å½¢å¼è¿›è¡Œä¸€é”®å®‰è£…">
  å¯¹äº antreaï¼Œç”±äºç‰ˆæœ¬è¾ƒæ–°ï¼Œç›®å‰å¯é€šè¿‡ addon çš„å½¢å¼æ·»åŠ  helm æ–‡ä»¶çš„å½¢å¼è¿›è¡Œä¸€é”®å®‰è£…ï¼š
  <a class="anchor" href="#%e5%af%b9%e4%ba%8e-antrea%e7%94%b1%e4%ba%8e%e7%89%88%e6%9c%ac%e8%be%83%e6%96%b0%e7%9b%ae%e5%89%8d%e5%8f%af%e9%80%9a%e8%bf%87-addon-%e7%9a%84%e5%bd%a2%e5%bc%8f%e6%b7%bb%e5%8a%a0-helm-%e6%96%87%e4%bb%b6%e7%9a%84%e5%bd%a2%e5%bc%8f%e8%bf%9b%e8%a1%8c%e4%b8%80%e9%94%ae%e5%ae%89%e8%a3%85">#</a>
</h5>
<pre tabindex="0"><code>  addons:
  - name: antrea
    namespace: kube-system
    sources: 
      chart: 
        name: antrea
        repo: https://charts.antrea.io
        # values:
</code></pre><h5 id="åœ¨æ­¤åŸºç¡€ä¸Šå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸€æ¡å‘½ä»¤">
  åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸€æ¡å‘½ä»¤
  <a class="anchor" href="#%e5%9c%a8%e6%ad%a4%e5%9f%ba%e7%a1%80%e4%b8%8a%e5%8f%af%e4%bb%a5%e9%80%9a%e8%bf%87%e4%bb%a5%e4%b8%8b%e4%b8%80%e6%9d%a1%e5%91%bd%e4%bb%a4">#</a>
</h5>
<pre tabindex="0"><code>ğŸ³  â†’ kk create cluster --with-kubernetes --with-kubesphere
</code></pre><h2 id="ç½‘ç»œåº”ç”¨åœºæ™¯">
  ç½‘ç»œåº”ç”¨åœºæ™¯
  <a class="anchor" href="#%e7%bd%91%e7%bb%9c%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af">#</a>
</h2>
<h5 id="ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª-kubernetes-é›†ç¾¤å…ˆæ¥æ€è€ƒä¸€ä¸‹å®¹å™¨ç½‘ç»œé™¤äº†è®©é›†ç¾¤æ­£å¸¸è¿è¡Œèƒ½è®©å®‰è£…-kubernetes-å-pending-çš„-coredns-running-èµ·æ¥æŠ–ä¸ªé¸¡çµ-_-ä»¥å¤–è¿˜æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯">
  ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª Kubernetes é›†ç¾¤ï¼Œå…ˆæ¥æ€è€ƒä¸€ä¸‹ï¼Œå®¹å™¨ç½‘ç»œé™¤äº†è®©é›†ç¾¤æ­£å¸¸è¿è¡Œï¼Œèƒ½è®©å®‰è£… Kubernetes å Pending çš„ CoreDNS running èµ·æ¥ï¼ˆæŠ–ä¸ªé¸¡çµ-_-ï¼‰ä»¥å¤–è¿˜æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ
  <a class="anchor" href="#%e7%8e%b0%e5%9c%a8%e6%88%91%e4%bb%ac%e5%b7%b2%e7%bb%8f%e6%9c%89%e4%ba%86%e4%b8%80%e4%b8%aa-kubernetes-%e9%9b%86%e7%be%a4%e5%85%88%e6%9d%a5%e6%80%9d%e8%80%83%e4%b8%80%e4%b8%8b%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c%e9%99%a4%e4%ba%86%e8%ae%a9%e9%9b%86%e7%be%a4%e6%ad%a3%e5%b8%b8%e8%bf%90%e8%a1%8c%e8%83%bd%e8%ae%a9%e5%ae%89%e8%a3%85-kubernetes-%e5%90%8e-pending-%e7%9a%84-coredns-running-%e8%b5%b7%e6%9d%a5%e6%8a%96%e4%b8%aa%e9%b8%a1%e7%81%b5-_-%e4%bb%a5%e5%a4%96%e8%bf%98%e6%9c%89%e5%93%aa%e4%ba%9b%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af">#</a>
</h5>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061738752.png" alt="image-20240306173850669" /></p>
<p>ç½‘ç»œåº”ç”¨åœºæ™¯</p>
<p>è¿™é‡Œæˆ‘é€šè¿‡ä¸€å¼ å›¾æ€»ç»“äº†<strong>ä¸ƒä¸ªä¸»è¦ä½¿ç”¨çš„åœºæ™¯</strong>ï¼Œåº”è¯¥ä¹Ÿ<strong>æ¶µç›–å¤§éƒ¨åˆ†è¿ç»´äººå‘˜ç½‘ç»œéœ€æ±‚</strong>ã€‚</p>
<ul>
<li>â€¢ <strong>å›ºå®š IP</strong>ã€‚å¯¹äºç°å­˜è™šæ‹ŸåŒ– / è£¸æœºä¸šåŠ¡ / å•ä½“åº”ç”¨è¿ç§»åˆ°å®¹å™¨ç¯å¢ƒåï¼Œéƒ½æ˜¯é€šè¿‡ IP è€ŒéåŸŸåè¿›è¡ŒæœåŠ¡é—´è°ƒç”¨ï¼Œæ­¤æ—¶å°±éœ€è¦ CNI æ’ä»¶æœ‰å›ºå®š IP çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ Pod/Deployment/Statefulsetã€‚</li>
<li>â€¢ <strong>ç½‘ç»œéš”ç¦»</strong>ã€‚ä¸åŒç§Ÿæˆ·æˆ–ä¸åŒåº”ç”¨ä¹‹é—´ï¼Œå®¹å™¨ç»„åº”è¯¥æ˜¯ä¸èƒ½äº’ç›¸è°ƒç”¨æˆ–é€šä¿¡çš„ã€‚</li>
<li>â€¢ <strong>å¤šé›†ç¾¤ç½‘ç»œäº’è”</strong>ã€‚å¯¹äºä¸åŒçš„ Kubernetes é›†ç¾¤ä¹‹é—´çš„å¾®æœåŠ¡è¿›è¡Œäº’ç›¸è°ƒç”¨çš„åœºæ™¯ï¼Œéœ€è¦å¤šé›†ç¾¤ç½‘ç»œäº’è”ã€‚è¿™ç§åœºæ™¯ä¸€èˆ¬åˆ†ä¸º IP å¯è¾¾å’Œ Service äº’é€šï¼Œæ»¡è¶³ä¸åŒçš„å¾®æœåŠ¡å®ä¾‹äº’ç›¸è°ƒç”¨éœ€æ±‚ã€‚</li>
<li>â€¢ <strong>å‡ºå‘é™åˆ¶</strong>ã€‚å¯¹äºå®¹å™¨é›†ç¾¤å¤–çš„æ•°æ®åº“ / ä¸­é—´ä»¶ï¼Œéœ€èƒ½æ§åˆ¶ç‰¹å®šå±æ€§çš„å®¹å™¨åº”ç”¨æ‰å¯è®¿é—®ï¼Œæ‹’ç»å…¶ä»–è¿æ¥è¯·æ±‚ã€‚</li>
<li>â€¢ <strong>å…¥å‘é™åˆ¶</strong>ã€‚é™åˆ¶é›†ç¾¤å¤–åº”ç”¨å¯¹ç‰¹å®šå®¹å™¨åº”ç”¨çš„è®¿é—®ã€‚</li>
<li>â€¢ <strong>å¸¦å®½é™åˆ¶</strong>ã€‚å®¹å™¨åº”ç”¨ä¹‹é—´çš„ç½‘ç»œè®¿é—®åŠ ä»¥å¸¦å®½é™åˆ¶ã€‚</li>
<li>â€¢ <strong>å‡ºå£ç½‘å…³è®¿é—®</strong>ã€‚å¯¹äºè®¿é—®é›†ç¾¤å¤–ç‰¹å®šåº”ç”¨çš„å®¹å™¨ï¼Œè®¾ç½®å‡ºå£ç½‘å…³å¯¹å…¶è¿›è¡Œ SNAT ä»¥è¾¾åˆ°ç»Ÿä¸€å‡ºå£è®¿é—®çš„å®¡è®¡å’Œå®‰å…¨éœ€æ±‚ã€‚ç†å®Œéœ€æ±‚å’Œåº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•é€šè¿‡ä¸åŒçš„ CNI æ’ä»¶è§£å†³ä»¥ä¸Šç—›ç‚¹ã€‚</li>
</ul>
<h2 id="ç½‘ç»œæ’ä»¶åŠŸèƒ½å®ç°">
  ç½‘ç»œæ’ä»¶åŠŸèƒ½å®ç°
  <a class="anchor" href="#%e7%bd%91%e7%bb%9c%e6%8f%92%e4%bb%b6%e5%8a%9f%e8%83%bd%e5%ae%9e%e7%8e%b0">#</a>
</h2>
<h3 id="å›ºå®š-ip">
  å›ºå®š IP
  <a class="anchor" href="#%e5%9b%ba%e5%ae%9a-ip">#</a>
</h3>
<p>åŸºæœ¬ä¸Š<strong>ä¸»æµ CNI æ’ä»¶éƒ½æœ‰è‡ªå·±çš„ IPAM æœºåˆ¶ï¼Œéƒ½æ”¯æŒå›ºå®š IP åŠ IP Pool çš„åˆ†é…ï¼Œå¹¶ä¸”å„ä¸ª CNI æ’ä»¶æ®Šé€”åŒå½’çš„éƒ½ä½¿ç”¨äº† Annotation çš„æ–¹å¼æŒ‡å®šå›ºå®š IP</strong>ã€‚</p>
<blockquote>
<ul>
<li>â€¢ å¯¹äº Podï¼Œåˆ†é…å›ºå®š IPï¼›</li>
<li>â€¢ å¯¹äº Deploymentï¼Œä½¿ç”¨ IP Pool çš„æ–¹å¼åˆ†é…ï¼›</li>
<li>â€¢ å¯¹äºæœ‰çŠ¶æ€çš„ Statefulsetï¼Œä½¿ç”¨ IP Pool åˆ†é…åï¼Œä¼šæ ¹æ® Pool çš„åˆ†é…é¡ºåºè®°å¥½ Pod çš„ IPï¼Œä»¥ä¿è¯åœ¨ Pod é‡å¯åä»èƒ½æ‹¿åˆ°åŒæ ·çš„ IPã€‚</li>
</ul></blockquote>
<h4 id="calico">
  Calico
  <a class="anchor" href="#calico">#</a>
</h4>
<pre tabindex="0"><code>  &#34;cni.projectcalico.org/ipAddrs&#34;: &#34;[\&#34;192.168.0.1\&#34;]&#34;
</code></pre><h4 id="kube-ovn">
  Kube-OVN
  <a class="anchor" href="#kube-ovn">#</a>
</h4>
<pre tabindex="0"><code>ovn.kubernetes.io/ip_address: 192.168.100.100
ovn.kubernetes.io/ip_pool: 192.168.100.201,192.168.100.202
</code></pre><h4 id="antrea">
  Antrea
  <a class="anchor" href="#antrea">#</a>
</h4>
<p>Antrea IPAM åªèƒ½åœ¨ Bridge æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå› æ­¤å¯ä»¥åœ¨ Multus çš„è¾…ä½ä¸‹ï¼Œä¸»ç½‘å¡ä½¿ç”¨ NodeIPAM åˆ†é…ï¼Œå‰¯ç½‘å¡ä½¿ç”¨ Antrea IPAM åˆ†é… VLAN ç±»å‹ç½‘ç»œåœ°å€ã€‚</p>
<pre tabindex="0"><code>    ipam.antrea.io/ippools: &#39;pod-ip-pool1&#39;
    ipam.antrea.io/pod-ips: &#39;&lt;ip-in-pod-ip-pool1&gt;&#39;
</code></pre><h4 id="cilium">
  Cilium
  <a class="anchor" href="#cilium">#</a>
</h4>
<pre tabindex="0"><code>Not Yet!
</code></pre><h3 id="å¤šé›†ç¾¤ç½‘ç»œäº’è”">
  å¤šé›†ç¾¤ç½‘ç»œäº’è”
  <a class="anchor" href="#%e5%a4%9a%e9%9b%86%e7%be%a4%e7%bd%91%e7%bb%9c%e4%ba%92%e8%81%94">#</a>
</h3>
<h5 id="å¯¹äºå¤šé›†ç¾¤ç½‘ç»œäº’è”å‡è®¾æœ‰ç°æœ‰å¤šä¸ªé›†ç¾¤ä¸åŒçš„å¾®æœåŠ¡è¿è¡Œåœ¨ä¸åŒçš„é›†ç¾¤ä¸­é›†ç¾¤-1-çš„-app01-éœ€è¦å’Œé›†ç¾¤-2-çš„-app02-è¿›è¡Œé€šä¿¡ç”±äºä»–ä»¬éƒ½æ˜¯é€šè¿‡-ip-æ³¨å†Œåœ¨é›†ç¾¤å¤–çš„-vm-æ³¨å†Œä¸­å¿ƒçš„æ‰€ä»¥-app01-å’Œ-app02-åªèƒ½é€šè¿‡-ip-é€šä¿¡åœ¨è¿™ç§åœºæ™¯ä¸‹å°±éœ€è¦å¤šé›†ç¾¤-pod-äº’è”äº’é€š">
  å¯¹äºå¤šé›†ç¾¤ç½‘ç»œäº’è”ï¼Œå‡è®¾æœ‰ç°æœ‰å¤šä¸ªé›†ç¾¤ï¼Œä¸åŒçš„å¾®æœåŠ¡è¿è¡Œåœ¨ä¸åŒçš„é›†ç¾¤ä¸­ï¼Œé›†ç¾¤ 1 çš„ App01 éœ€è¦å’Œé›†ç¾¤ 2 çš„ App02 è¿›è¡Œé€šä¿¡ï¼Œç”±äºä»–ä»¬éƒ½æ˜¯é€šè¿‡ IP æ³¨å†Œåœ¨é›†ç¾¤å¤–çš„ VM æ³¨å†Œä¸­å¿ƒçš„ï¼Œæ‰€ä»¥ App01 å’Œ App02 åªèƒ½é€šè¿‡ IP é€šä¿¡ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå°±éœ€è¦<strong>å¤šé›†ç¾¤ Pod äº’è”äº’é€š</strong>ã€‚
  <a class="anchor" href="#%e5%af%b9%e4%ba%8e%e5%a4%9a%e9%9b%86%e7%be%a4%e7%bd%91%e7%bb%9c%e4%ba%92%e8%81%94%e5%81%87%e8%ae%be%e6%9c%89%e7%8e%b0%e6%9c%89%e5%a4%9a%e4%b8%aa%e9%9b%86%e7%be%a4%e4%b8%8d%e5%90%8c%e7%9a%84%e5%be%ae%e6%9c%8d%e5%8a%a1%e8%bf%90%e8%a1%8c%e5%9c%a8%e4%b8%8d%e5%90%8c%e7%9a%84%e9%9b%86%e7%be%a4%e4%b8%ad%e9%9b%86%e7%be%a4-1-%e7%9a%84-app01-%e9%9c%80%e8%a6%81%e5%92%8c%e9%9b%86%e7%be%a4-2-%e7%9a%84-app02-%e8%bf%9b%e8%a1%8c%e9%80%9a%e4%bf%a1%e7%94%b1%e4%ba%8e%e4%bb%96%e4%bb%ac%e9%83%bd%e6%98%af%e9%80%9a%e8%bf%87-ip-%e6%b3%a8%e5%86%8c%e5%9c%a8%e9%9b%86%e7%be%a4%e5%a4%96%e7%9a%84-vm-%e6%b3%a8%e5%86%8c%e4%b8%ad%e5%bf%83%e7%9a%84%e6%89%80%e4%bb%a5-app01-%e5%92%8c-app02-%e5%8f%aa%e8%83%bd%e9%80%9a%e8%bf%87-ip-%e9%80%9a%e4%bf%a1%e5%9c%a8%e8%bf%99%e7%a7%8d%e5%9c%ba%e6%99%af%e4%b8%8b%e5%b0%b1%e9%9c%80%e8%a6%81%e5%a4%9a%e9%9b%86%e7%be%a4-pod-%e4%ba%92%e8%81%94%e4%ba%92%e9%80%9a">#</a>
</h5>
<h4 id="calico-1">
  Calico
  <a class="anchor" href="#calico-1">#</a>
</h4>
<h5 id="å¯¹äº-calico-è¿™ç§åŸç”Ÿå¯¹-bgp-æ”¯æŒå¾ˆå¥½çš„-cni-æ’ä»¶æ¥è¯´å¾ˆå®¹æ˜“å®ç°è¿™ä¸€ç‚¹åªè¦ä¸¤ä¸ªé›†ç¾¤é€šè¿‡-bgp-å»ºç«‹é‚»å±…å°†å„è‡ªçš„è·¯ç”±å®£å‘Šç»™å¯¹æ–¹å³å¯å®ç°åŠ¨æ€è·¯ç”±çš„å»ºç«‹è‹¥å­˜åœ¨å¤šä¸ªé›†ç¾¤ä½¿ç”¨-bgp-rr-çš„å½¢å¼ä¹Ÿå¾ˆå¥½è§£å†³ä½†è¿™ç§è§£å†³æ–¹å¼å¯èƒ½ä¸æ˜¯æœ€ç†æƒ³çš„å› ä¸ºéœ€è¦å’Œç‰©ç†ç½‘ç»œç¯å¢ƒè¿›è¡Œé…åˆå’Œè”è°ƒè¿™å°±éœ€è¦ç½‘ç»œäººå‘˜å’Œå®¹å™¨è¿ç»´äººå‘˜ä¸€åŒè¿›è¡Œå¤šé›†ç¾¤ç½‘ç»œçš„å»ºè®¾åœ¨åæœŸè¿ç»´å’Œç®¡ç†ä¸Šéƒ½æœ‰ä¸å¤§æ–¹ä¾¿å’Œæ•æ·çš„æ„Ÿè§‰">
  å¯¹äº Calico è¿™ç§åŸç”Ÿå¯¹ BGP æ”¯æŒå¾ˆå¥½çš„ CNI æ’ä»¶æ¥è¯´ï¼Œå¾ˆå®¹æ˜“å®ç°è¿™ä¸€ç‚¹ï¼Œåª<strong>è¦ä¸¤ä¸ªé›†ç¾¤é€šè¿‡ BGP å»ºç«‹é‚»å±…ï¼Œå°†å„è‡ªçš„è·¯ç”±å®£å‘Šç»™å¯¹æ–¹å³å¯å®ç°åŠ¨æ€è·¯ç”±çš„å»ºç«‹</strong>ã€‚è‹¥å­˜åœ¨å¤šä¸ªé›†ç¾¤ï¼Œä½¿ç”¨ BGP RR çš„å½¢å¼ä¹Ÿå¾ˆå¥½è§£å†³ã€‚ä½†è¿™ç§è§£å†³æ–¹å¼å¯èƒ½ä¸æ˜¯æœ€ç†æƒ³çš„ï¼Œå› ä¸ºéœ€è¦å’Œç‰©ç†ç½‘ç»œç¯å¢ƒè¿›è¡Œé…åˆå’Œè”è°ƒï¼Œè¿™å°±éœ€è¦ç½‘ç»œäººå‘˜å’Œå®¹å™¨è¿ç»´äººå‘˜ä¸€åŒè¿›è¡Œå¤šé›†ç¾¤ç½‘ç»œçš„å»ºè®¾ï¼Œåœ¨åæœŸè¿ç»´å’Œç®¡ç†ä¸Šéƒ½æœ‰ä¸å¤§æ–¹ä¾¿å’Œæ•æ·çš„æ„Ÿè§‰ã€‚
  <a class="anchor" href="#%e5%af%b9%e4%ba%8e-calico-%e8%bf%99%e7%a7%8d%e5%8e%9f%e7%94%9f%e5%af%b9-bgp-%e6%94%af%e6%8c%81%e5%be%88%e5%a5%bd%e7%9a%84-cni-%e6%8f%92%e4%bb%b6%e6%9d%a5%e8%af%b4%e5%be%88%e5%ae%b9%e6%98%93%e5%ae%9e%e7%8e%b0%e8%bf%99%e4%b8%80%e7%82%b9%e5%8f%aa%e8%a6%81%e4%b8%a4%e4%b8%aa%e9%9b%86%e7%be%a4%e9%80%9a%e8%bf%87-bgp-%e5%bb%ba%e7%ab%8b%e9%82%bb%e5%b1%85%e5%b0%86%e5%90%84%e8%87%aa%e7%9a%84%e8%b7%af%e7%94%b1%e5%ae%a3%e5%91%8a%e7%bb%99%e5%af%b9%e6%96%b9%e5%8d%b3%e5%8f%af%e5%ae%9e%e7%8e%b0%e5%8a%a8%e6%80%81%e8%b7%af%e7%94%b1%e7%9a%84%e5%bb%ba%e7%ab%8b%e8%8b%a5%e5%ad%98%e5%9c%a8%e5%a4%9a%e4%b8%aa%e9%9b%86%e7%be%a4%e4%bd%bf%e7%94%a8-bgp-rr-%e7%9a%84%e5%bd%a2%e5%bc%8f%e4%b9%9f%e5%be%88%e5%a5%bd%e8%a7%a3%e5%86%b3%e4%bd%86%e8%bf%99%e7%a7%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e5%bc%8f%e5%8f%af%e8%83%bd%e4%b8%8d%e6%98%af%e6%9c%80%e7%90%86%e6%83%b3%e7%9a%84%e5%9b%a0%e4%b8%ba%e9%9c%80%e8%a6%81%e5%92%8c%e7%89%a9%e7%90%86%e7%bd%91%e7%bb%9c%e7%8e%af%e5%a2%83%e8%bf%9b%e8%a1%8c%e9%85%8d%e5%90%88%e5%92%8c%e8%81%94%e8%b0%83%e8%bf%99%e5%b0%b1%e9%9c%80%e8%a6%81%e7%bd%91%e7%bb%9c%e4%ba%ba%e5%91%98%e5%92%8c%e5%ae%b9%e5%99%a8%e8%bf%90%e7%bb%b4%e4%ba%ba%e5%91%98%e4%b8%80%e5%90%8c%e8%bf%9b%e8%a1%8c%e5%a4%9a%e9%9b%86%e7%be%a4%e7%bd%91%e7%bb%9c%e7%9a%84%e5%bb%ba%e8%ae%be%e5%9c%a8%e5%90%8e%e6%9c%9f%e8%bf%90%e7%bb%b4%e5%92%8c%e7%ae%a1%e7%90%86%e4%b8%8a%e9%83%bd%e6%9c%89%e4%b8%8d%e5%a4%a7%e6%96%b9%e4%be%bf%e5%92%8c%e6%95%8f%e6%8d%b7%e7%9a%84%e6%84%9f%e8%a7%89">#</a>
</h5>
<p><strong>é‚£ Calico VxLAN æ¨¡å¼å‘¢ï¼Ÿ</strong></p>
<h5 id="æ—¢ç„¶è¯´åˆ°-vxlanå¯ä»¥å’Œ-kube-ovnantreacilium-æ”¾åˆ°ä¸€èµ·æ¥çœ‹å››ç§-cni-éƒ½æ”¯æŒ-overlay-çš„ç½‘ç»œæ¨¡å‹éƒ½æ”¯æŒé€šè¿‡-vxlangeneve-çš„å½¢å¼å»ºç«‹éš§é“ç½‘ç»œæ‰“é€šå®¹å™¨ç½‘ç»œé€šä¿¡è¿™å°±èµ‹äºˆè¿ç»´äººå‘˜è¾ƒé«˜çš„çµæ´»æ€§å¯¹äºå®¹å™¨ç½‘ç»œçš„è°ƒæ•™ipam-åˆ†é…ç½‘ç»œç›‘æ§å’Œå¯è§‚å¯Ÿæ€§ç½‘ç»œç­–ç•¥è°ƒæ•´éƒ½ç”±å®¹å™¨é›†ç¾¤è¿ç»´äººå‘˜è´Ÿè´£è€Œç½‘ç»œäººå‘˜åˆ™åªéœ€è¦æå‰åˆ’å¥½ç‰©ç†ç½‘ç»œå¤§æ®µä¿è¯å®¹å™¨é›†ç¾¤-node-ä¹‹é—´ç½‘ç»œäº’é€šå³å¯">
  æ—¢ç„¶è¯´åˆ° VxLANï¼Œå¯ä»¥å’Œ Kube-OVNã€Antreaã€Cilium æ”¾åˆ°ä¸€èµ·æ¥çœ‹ï¼Œå››ç§ CNI éƒ½æ”¯æŒ Overlay çš„ç½‘ç»œæ¨¡å‹ï¼Œéƒ½æ”¯æŒé€šè¿‡ VxLAN/GENEVE çš„å½¢å¼å»ºç«‹éš§é“ç½‘ç»œæ‰“é€šå®¹å™¨ç½‘ç»œé€šä¿¡ã€‚è¿™å°±èµ‹äºˆè¿ç»´äººå‘˜è¾ƒé«˜çš„çµæ´»æ€§ï¼Œå¯¹äºå®¹å™¨ç½‘ç»œçš„è°ƒæ•™ã€IPAM åˆ†é…ã€ç½‘ç»œç›‘æ§å’Œå¯è§‚å¯Ÿæ€§ã€ç½‘ç»œç­–ç•¥è°ƒæ•´éƒ½ç”±å®¹å™¨é›†ç¾¤è¿ç»´äººå‘˜è´Ÿè´£ï¼Œè€Œç½‘ç»œäººå‘˜åˆ™åªéœ€è¦æå‰åˆ’å¥½ç‰©ç†ç½‘ç»œå¤§æ®µï¼Œä¿è¯å®¹å™¨é›†ç¾¤ Node ä¹‹é—´ç½‘ç»œäº’é€šå³å¯ã€‚
  <a class="anchor" href="#%e6%97%a2%e7%84%b6%e8%af%b4%e5%88%b0-vxlan%e5%8f%af%e4%bb%a5%e5%92%8c-kube-ovnantreacilium-%e6%94%be%e5%88%b0%e4%b8%80%e8%b5%b7%e6%9d%a5%e7%9c%8b%e5%9b%9b%e7%a7%8d-cni-%e9%83%bd%e6%94%af%e6%8c%81-overlay-%e7%9a%84%e7%bd%91%e7%bb%9c%e6%a8%a1%e5%9e%8b%e9%83%bd%e6%94%af%e6%8c%81%e9%80%9a%e8%bf%87-vxlangeneve-%e7%9a%84%e5%bd%a2%e5%bc%8f%e5%bb%ba%e7%ab%8b%e9%9a%a7%e9%81%93%e7%bd%91%e7%bb%9c%e6%89%93%e9%80%9a%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c%e9%80%9a%e4%bf%a1%e8%bf%99%e5%b0%b1%e8%b5%8b%e4%ba%88%e8%bf%90%e7%bb%b4%e4%ba%ba%e5%91%98%e8%be%83%e9%ab%98%e7%9a%84%e7%81%b5%e6%b4%bb%e6%80%a7%e5%af%b9%e4%ba%8e%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c%e7%9a%84%e8%b0%83%e6%95%99ipam-%e5%88%86%e9%85%8d%e7%bd%91%e7%bb%9c%e7%9b%91%e6%8e%a7%e5%92%8c%e5%8f%af%e8%a7%82%e5%af%9f%e6%80%a7%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5%e8%b0%83%e6%95%b4%e9%83%bd%e7%94%b1%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4%e8%bf%90%e7%bb%b4%e4%ba%ba%e5%91%98%e8%b4%9f%e8%b4%a3%e8%80%8c%e7%bd%91%e7%bb%9c%e4%ba%ba%e5%91%98%e5%88%99%e5%8f%aa%e9%9c%80%e8%a6%81%e6%8f%90%e5%89%8d%e5%88%92%e5%a5%bd%e7%89%a9%e7%90%86%e7%bd%91%e7%bb%9c%e5%a4%a7%e6%ae%b5%e4%bf%9d%e8%af%81%e5%ae%b9%e5%99%a8%e9%9b%86%e7%be%a4-node-%e4%b9%8b%e9%97%b4%e7%bd%91%e7%bb%9c%e4%ba%92%e9%80%9a%e5%8d%b3%e5%8f%af">#</a>
</h5>
<p><strong>å¦‚ä½•å®ç° overlay ç½‘ç»œçš„å¤šé›†ç¾¤äº’è”å‘¢</strong></p>
<h4 id="submariner">
  Submariner
  <a class="anchor" href="#submariner">#</a>
</h4>
<h5 id="cncf-æœ‰ä¸ªæ²™ç®±é¡¹ç›®å«-submarinerå®ƒé€šè¿‡åœ¨ä¸åŒé›†ç¾¤å»ºç«‹ä¸åŒçš„ç½‘å…³èŠ‚ç‚¹å¹¶æ‰“é€šéš§é“çš„å½¢å¼å®ç°å¤šé›†ç¾¤é€šä¿¡ä»å®˜æ–¹è¿™å¼ æ¶æ„å›¾æ¥è¯´æ˜">
  CNCF æœ‰ä¸ªæ²™ç®±é¡¹ç›®å« Submarinerï¼Œå®ƒé€šè¿‡åœ¨ä¸åŒé›†ç¾¤å»ºç«‹ä¸åŒçš„ç½‘å…³èŠ‚ç‚¹å¹¶æ‰“é€šéš§é“çš„å½¢å¼å®ç°å¤šé›†ç¾¤é€šä¿¡ã€‚ä»å®˜æ–¹è¿™å¼ æ¶æ„å›¾æ¥è¯´æ˜ï¼š
  <a class="anchor" href="#cncf-%e6%9c%89%e4%b8%aa%e6%b2%99%e7%ae%b1%e9%a1%b9%e7%9b%ae%e5%8f%ab-submariner%e5%ae%83%e9%80%9a%e8%bf%87%e5%9c%a8%e4%b8%8d%e5%90%8c%e9%9b%86%e7%be%a4%e5%bb%ba%e7%ab%8b%e4%b8%8d%e5%90%8c%e7%9a%84%e7%bd%91%e5%85%b3%e8%8a%82%e7%82%b9%e5%b9%b6%e6%89%93%e9%80%9a%e9%9a%a7%e9%81%93%e7%9a%84%e5%bd%a2%e5%bc%8f%e5%ae%9e%e7%8e%b0%e5%a4%9a%e9%9b%86%e7%be%a4%e9%80%9a%e4%bf%a1%e4%bb%8e%e5%ae%98%e6%96%b9%e8%bf%99%e5%bc%a0%e6%9e%b6%e6%9e%84%e5%9b%be%e6%9d%a5%e8%af%b4%e6%98%8e">#</a>
</h5>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061739643.png" alt="image-20240306173918511" />Submariner</p>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>Submariner ç”±ä¸€ä¸ªé›†ç¾¤å…ƒæ•°æ®ä¸­ä»‹æœåŠ¡ï¼ˆbrokerï¼‰æŒæ¡ä¸åŒé›†ç¾¤çš„ä¿¡æ¯ï¼ˆPod/Service CIDRï¼‰ï¼Œé€šè¿‡ Route Agent å°† Pod æµé‡ä» Node å¯¼å‘ç½‘å…³èŠ‚ç‚¹ï¼ˆGateway Engineï¼‰ï¼Œç„¶åç”±ç½‘å…³èŠ‚ç‚¹æ‰“é€šéš§é“ä¸¢åˆ°å¦ä¸€ä¸ªé›†ç¾¤ä¸­å»ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å’Œä¸åŒä¸»æœºçš„å®¹å™¨ä¹‹é—´ä½¿ç”¨ VxLAN ç½‘ç»œé€šä¿¡çš„æ¦‚å¿µæ˜¯ä¸€è‡´çš„</strong>ã€‚è¦è¾¾æˆé›†ç¾¤è¿æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨å…¶ä¸­ä¸€ä¸ªé›†ç¾¤éƒ¨ç½² Brokerï¼Œç„¶åé€šè¿‡ kubeconfig æˆ– context åˆ†åˆ«è¿›è¡Œæ³¨å†Œå³å¯ã€‚</p>
<pre tabindex="0"><code>ğŸ³  â†’ subctl deploy-broker --kubeconfig ~/.kube/config1
ğŸ³  â†’ subctl join --kubeconfig ~/.kube/config1 broker-info.subm --clusterid ks1 --natt=false --cable-driver vxlan --health-check=false
ğŸ³  â†’ subctl join --kubeconfig ~/.kube/config2 broker-info.subm --clusterid ks2 --natt=false --cable-driver vxlan --health-check=false
ğŸ³  â†’ subctl show all
âœ“ Showing Endpoints
CLUSTER ID                    ENDPOINT IP     PUBLIC IP       CABLE DRIVER        TYPE
ks1                           192.168.100.10  139.198.21.149  vxlan               local
ks2                           192.168.100.20  139.198.21.149  vxlan               remote
</code></pre><h4 id="cilium-1">
  Cilium
  <a class="anchor" href="#cilium-1">#</a>
</h4>
<h5 id="cilium-cluster-mesh-å’Œ-submariner-æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™å¯ä»¥é€šè¿‡éš§é“å½¢å¼æˆ–-nativeroute-å½¢å¼å®ç°é›†ç¾¤äº’è”">
  Cilium Cluster Mesh å’Œ Submariner æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œå¯ä»¥é€šè¿‡éš§é“å½¢å¼æˆ– NativeRoute å½¢å¼å®ç°é›†ç¾¤äº’è”ã€‚
  <a class="anchor" href="#cilium-cluster-mesh-%e5%92%8c-submariner-%e6%9c%89%e5%bc%82%e6%9b%b2%e5%90%8c%e5%b7%a5%e4%b9%8b%e5%a6%99%e5%8f%af%e4%bb%a5%e9%80%9a%e8%bf%87%e9%9a%a7%e9%81%93%e5%bd%a2%e5%bc%8f%e6%88%96-nativeroute-%e5%bd%a2%e5%bc%8f%e5%ae%9e%e7%8e%b0%e9%9b%86%e7%be%a4%e4%ba%92%e8%81%94">#</a>
</h5>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061739165.png" alt="image-20240306173933115" /></p>
<p>Cilium</p>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061739934.png" alt="image-20240306173945885" />Cilium</p>
<p>Cilium å¼€å¯å¤šé›†ç¾¤ç½‘ç»œè¿æ¥ä¹Ÿå¾ˆç®€å•ï¼š</p>
<pre tabindex="0"><code>ğŸ³  â†’ cilium clustermesh enable --context $CLUSTER1
ğŸ³  â†’ cilium clustermesh enable --context $CLUSTER2
</code></pre><h4 id="kubeovn">
  KubeOVN
  <a class="anchor" href="#kubeovn">#</a>
</h4>
<p>Kube-OVN è¿˜æä¾›ä¸€ä¸ª OVNIC çš„ç»„ä»¶ï¼Œå®ƒè¿è¡Œä¸€ä¸ªè·¯ç”±ä¸­ç»§çš„ OVN-IC çš„ Docker å®¹å™¨ï¼Œä½œä¸ºä¸¤ä¸ªé›†ç¾¤çš„ç½‘å…³èŠ‚ç‚¹ï¼Œå°†ä¸åŒé›†ç¾¤çš„ Pod ç½‘ç»œè¿›è¡Œè¿é€šã€‚</p>
<h3 id="å¤šé›†ç¾¤æœåŠ¡äº’è®¿">
  å¤šé›†ç¾¤æœåŠ¡äº’è®¿
  <a class="anchor" href="#%e5%a4%9a%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e4%ba%92%e8%ae%bf">#</a>
</h3>
<p><strong>é™¤äº† Pod IP çš„äº’è”äº’é€šï¼Œå¤šé›†ç¾¤ç½‘ç»œè¿˜å¯è€ƒè™‘é›†ç¾¤é—´çš„ Service äº’è®¿</strong>ï¼ŒSubmarinerã€Ciliumï¼ŒAntrea éƒ½èƒ½å®ç°ã€‚</p>
<h5 id="submariner-å’Œ-antrea-éƒ½ä½¿ç”¨äº†-kubernetes-ç¤¾åŒºçš„-multicluster-service-å¹¶åœ¨æ­¤ä¹‹ä¸Šç»“åˆè‡ªèº«ç»„ä»¶å®ç°å¤šé›†ç¾¤çš„æœåŠ¡è®¿é—®multicluster-service-é€šè¿‡-serviceexport-å’Œ-serviceimport-çš„-crdserviceexport-å°†éœ€è¦å…¬å¼€çš„æœåŠ¡å¯¼å‡ºç„¶åé€šè¿‡-serviceimport-å°†æ­¤æœåŠ¡å¯¼å…¥åˆ°å¦ä¸€ä¸ªé›†ç¾¤">
  **Submariner å’Œ Antrea éƒ½ä½¿ç”¨äº† Kubernetes ç¤¾åŒºçš„ MultiCluster Service å¹¶åœ¨æ­¤ä¹‹ä¸Šç»“åˆè‡ªèº«ç»„ä»¶å®ç°å¤šé›†ç¾¤çš„æœåŠ¡è®¿é—®ã€‚**MultiCluster Service é€šè¿‡ ServiceExport å’Œ ServiceImport çš„ CRDï¼ŒServiceExport å°†éœ€è¦å…¬å¼€çš„æœåŠ¡å¯¼å‡ºï¼Œç„¶åé€šè¿‡ ServiceImport å°†æ­¤æœåŠ¡å¯¼å…¥åˆ°å¦ä¸€ä¸ªé›†ç¾¤ã€‚
  <a class="anchor" href="#submariner-%e5%92%8c-antrea-%e9%83%bd%e4%bd%bf%e7%94%a8%e4%ba%86-kubernetes-%e7%a4%be%e5%8c%ba%e7%9a%84-multicluster-service-%e5%b9%b6%e5%9c%a8%e6%ad%a4%e4%b9%8b%e4%b8%8a%e7%bb%93%e5%90%88%e8%87%aa%e8%ba%ab%e7%bb%84%e4%bb%b6%e5%ae%9e%e7%8e%b0%e5%a4%9a%e9%9b%86%e7%be%a4%e7%9a%84%e6%9c%8d%e5%8a%a1%e8%ae%bf%e9%97%aemulticluster-service-%e9%80%9a%e8%bf%87-serviceexport-%e5%92%8c-serviceimport-%e7%9a%84-crdserviceexport-%e5%b0%86%e9%9c%80%e8%a6%81%e5%85%ac%e5%bc%80%e7%9a%84%e6%9c%8d%e5%8a%a1%e5%af%bc%e5%87%ba%e7%84%b6%e5%90%8e%e9%80%9a%e8%bf%87-serviceimport-%e5%b0%86%e6%ad%a4%e6%9c%8d%e5%8a%a1%e5%af%bc%e5%85%a5%e5%88%b0%e5%8f%a6%e4%b8%80%e4%b8%aa%e9%9b%86%e7%be%a4">#</a>
</h5>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061740029.png" alt="image-20240306174003952" /></p>
<p>å¤šé›†ç¾¤æœåŠ¡äº’è®¿</p>
<h4 id="submariner-1">
  Submariner
  <a class="anchor" href="#submariner-1">#</a>
</h4>
<h5 id="æ‹¿-submariner-å®ç°ä¸¾ä¾‹æœ‰ä¸¤ä¸ªé›†ç¾¤-ks1-å’Œ-ks2ks1-åœ¨-test-å‘½åç©ºé—´æœ‰ä¸€ä¸ªæœåŠ¡-nginxæ­¤æ—¶é€šè¿‡-serviceexport-å°†-nginx-æœåŠ¡è¿›è¡Œå¯¼å‡ºsubmariner-ä¼šæŠŠè¿™ä¸ª-nginxtestsvcclusterlocal-æœåŠ¡å‘ç°ä¸º-nginxtestsvcclustersetlocalä¸¤ä¸ªé›†ç¾¤çš„-coredns-éƒ½ä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„-clustersetlocal-çš„å­˜æ ¹åŸŸå°†æ‰€æœ‰åŒ¹é…-clusterset-çš„è¯·æ±‚å‘é€ç»™-submariner-çš„æœåŠ¡å‘ç°çš„ç»„ä»¶åŒæ—¶-serviceimport-å¯¼å…¥åˆ°-ks2-é›†ç¾¤ks2-é›†ç¾¤çš„-pod-å°±å¯ä»¥é€šè¿‡-nginxtestsvcclustersetlocal-è§£æåˆ°-ks1-é›†ç¾¤çš„-nginx-serviceå¦‚æœä¸¤ä¸ªé›†ç¾¤éƒ½æœ‰-nginx-çš„åŒåæœåŠ¡æ­¤æ—¶-submariner-å°±å¯ä»¥ä¼˜å…ˆæœ¬åœ°è¿›è¡Œè®¿é—®æœ¬åœ°æœåŠ¡ç«¯ç‚¹æœ‰æ•…éšœåå†è®¿é—®å…¶ä»–é›†ç¾¤çš„-nginx-æœåŠ¡æ˜¯ä¸æ˜¯å¯ä»¥å¼€å§‹æ„å»ºåŒæ´»æœåŠ¡äº†å“ˆå“ˆ">
  æ‹¿ Submariner å®ç°ä¸¾ä¾‹ï¼Œæœ‰ä¸¤ä¸ªé›†ç¾¤ ks1 å’Œ ks2ï¼Œks1 åœ¨ test å‘½åç©ºé—´æœ‰ä¸€ä¸ªæœåŠ¡ nginxï¼Œæ­¤æ—¶é€šè¿‡ ServiceExport å°† nginx æœåŠ¡è¿›è¡Œå¯¼å‡ºï¼ŒSubmariner ä¼šæŠŠè¿™ä¸ª nginx.test.svc.<strong>cluster.local</strong> æœåŠ¡å‘ç°ä¸º nginx.test.svc.<strong>clusterset.local</strong>ï¼Œä¸¤ä¸ªé›†ç¾¤çš„ coredns éƒ½ä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„ clusterset.local çš„å­˜æ ¹åŸŸï¼Œå°†æ‰€æœ‰åŒ¹é… cluster.set çš„è¯·æ±‚å‘é€ç»™ submariner çš„æœåŠ¡å‘ç°çš„ç»„ä»¶ã€‚åŒæ—¶ ServiceImport å¯¼å…¥åˆ° ks2 é›†ç¾¤ï¼Œks2 é›†ç¾¤çš„ Pod å°±å¯ä»¥é€šè¿‡ nginx.test.svc.<strong>clusterset.local</strong> è§£æåˆ° ks1 é›†ç¾¤çš„ nginx Serviceã€‚å¦‚æœä¸¤ä¸ªé›†ç¾¤éƒ½æœ‰ nginx çš„åŒåæœåŠ¡ï¼Œæ­¤æ—¶ submariner å°±å¯ä»¥ä¼˜å…ˆæœ¬åœ°è¿›è¡Œè®¿é—®ï¼Œæœ¬åœ°æœåŠ¡ç«¯ç‚¹æœ‰æ•…éšœåå†è®¿é—®å…¶ä»–é›†ç¾¤çš„ nginx æœåŠ¡ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å¼€å§‹æ„å»ºåŒæ´»æœåŠ¡äº†å“ˆå“ˆã€‚
  <a class="anchor" href="#%e6%8b%bf-submariner-%e5%ae%9e%e7%8e%b0%e4%b8%be%e4%be%8b%e6%9c%89%e4%b8%a4%e4%b8%aa%e9%9b%86%e7%be%a4-ks1-%e5%92%8c-ks2ks1-%e5%9c%a8-test-%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e6%9c%89%e4%b8%80%e4%b8%aa%e6%9c%8d%e5%8a%a1-nginx%e6%ad%a4%e6%97%b6%e9%80%9a%e8%bf%87-serviceexport-%e5%b0%86-nginx-%e6%9c%8d%e5%8a%a1%e8%bf%9b%e8%a1%8c%e5%af%bc%e5%87%basubmariner-%e4%bc%9a%e6%8a%8a%e8%bf%99%e4%b8%aa-nginxtestsvcclusterlocal-%e6%9c%8d%e5%8a%a1%e5%8f%91%e7%8e%b0%e4%b8%ba-nginxtestsvcclustersetlocal%e4%b8%a4%e4%b8%aa%e9%9b%86%e7%be%a4%e7%9a%84-coredns-%e9%83%bd%e4%bc%9a%e5%bb%ba%e7%ab%8b%e4%b8%80%e4%b8%aa%e6%96%b0%e7%9a%84-clustersetlocal-%e7%9a%84%e5%ad%98%e6%a0%b9%e5%9f%9f%e5%b0%86%e6%89%80%e6%9c%89%e5%8c%b9%e9%85%8d-clusterset-%e7%9a%84%e8%af%b7%e6%b1%82%e5%8f%91%e9%80%81%e7%bb%99-submariner-%e7%9a%84%e6%9c%8d%e5%8a%a1%e5%8f%91%e7%8e%b0%e7%9a%84%e7%bb%84%e4%bb%b6%e5%90%8c%e6%97%b6-serviceimport-%e5%af%bc%e5%85%a5%e5%88%b0-ks2-%e9%9b%86%e7%be%a4ks2-%e9%9b%86%e7%be%a4%e7%9a%84-pod-%e5%b0%b1%e5%8f%af%e4%bb%a5%e9%80%9a%e8%bf%87-nginxtestsvcclustersetlocal-%e8%a7%a3%e6%9e%90%e5%88%b0-ks1-%e9%9b%86%e7%be%a4%e7%9a%84-nginx-service%e5%a6%82%e6%9e%9c%e4%b8%a4%e4%b8%aa%e9%9b%86%e7%be%a4%e9%83%bd%e6%9c%89-nginx-%e7%9a%84%e5%90%8c%e5%90%8d%e6%9c%8d%e5%8a%a1%e6%ad%a4%e6%97%b6-submariner-%e5%b0%b1%e5%8f%af%e4%bb%a5%e4%bc%98%e5%85%88%e6%9c%ac%e5%9c%b0%e8%bf%9b%e8%a1%8c%e8%ae%bf%e9%97%ae%e6%9c%ac%e5%9c%b0%e6%9c%8d%e5%8a%a1%e7%ab%af%e7%82%b9%e6%9c%89%e6%95%85%e9%9a%9c%e5%90%8e%e5%86%8d%e8%ae%bf%e9%97%ae%e5%85%b6%e4%bb%96%e9%9b%86%e7%be%a4%e7%9a%84-nginx-%e6%9c%8d%e5%8a%a1%e6%98%af%e4%b8%8d%e6%98%af%e5%8f%af%e4%bb%a5%e5%bc%80%e5%a7%8b%e6%9e%84%e5%bb%ba%e5%8f%8c%e6%b4%bb%e6%9c%8d%e5%8a%a1%e4%ba%86%e5%93%88%e5%93%88">#</a>
</h5>
<h4 id="antrea-1">
  Antrea
  <a class="anchor" href="#antrea-1">#</a>
</h4>
<h5 id="antrea-å®ç°æ–¹å¼ç±»ä¼¼ä¹Ÿæ˜¯ç»“åˆ-serviceexport-å’Œ-serviceimport-å¹¶è¿›è¡Œå°è£…æˆ-resourceexport-å’Œ-resourceimport-æ„å»ºå¤šé›†ç¾¤æœåŠ¡åœ¨æ¯ä¸ªé›†ç¾¤é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºç½‘å…³é€šè¿‡ç½‘å…³æ‰“é€šä¸åŒé›†ç¾¤éš§é“æ¥å®ç°å¤šé›†ç¾¤æœåŠ¡çš„è®¿é—®">
  Antrea å®ç°æ–¹å¼ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç»“åˆ ServiceExport å’Œ ServiceImport å¹¶è¿›è¡Œå°è£…æˆ ResourceExport å’Œ ResourceImport æ„å»ºå¤šé›†ç¾¤æœåŠ¡ï¼Œåœ¨æ¯ä¸ªé›†ç¾¤é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºç½‘å…³ï¼Œé€šè¿‡ç½‘å…³æ‰“é€šä¸åŒé›†ç¾¤éš§é“æ¥å®ç°å¤šé›†ç¾¤æœåŠ¡çš„è®¿é—®ã€‚
  <a class="anchor" href="#antrea-%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e7%b1%bb%e4%bc%bc%e4%b9%9f%e6%98%af%e7%bb%93%e5%90%88-serviceexport-%e5%92%8c-serviceimport-%e5%b9%b6%e8%bf%9b%e8%a1%8c%e5%b0%81%e8%a3%85%e6%88%90-resourceexport-%e5%92%8c-resourceimport-%e6%9e%84%e5%bb%ba%e5%a4%9a%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e5%9c%a8%e6%af%8f%e4%b8%aa%e9%9b%86%e7%be%a4%e9%80%89%e6%8b%a9%e4%b8%80%e4%b8%aa%e8%8a%82%e7%82%b9%e4%bd%9c%e4%b8%ba%e7%bd%91%e5%85%b3%e9%80%9a%e8%bf%87%e7%bd%91%e5%85%b3%e6%89%93%e9%80%9a%e4%b8%8d%e5%90%8c%e9%9b%86%e7%be%a4%e9%9a%a7%e9%81%93%e6%9d%a5%e5%ae%9e%e7%8e%b0%e5%a4%9a%e9%9b%86%e7%be%a4%e6%9c%8d%e5%8a%a1%e7%9a%84%e8%ae%bf%e9%97%ae">#</a>
</h5>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061740812.png" alt="image-20240306174027752" /></p>
<h5 id="antrea-2">
  Antrea
  <a class="anchor" href="#antrea-2">#</a>
</h5>
<h4 id="cilium-2">
  Cilium
  <a class="anchor" href="#cilium-2">#</a>
</h4>
<h5 id="cilium-æ²¡æœ‰ç”¨-multiservice-çš„æ¦‚å¿µcilium-é€šè¿‡-global-service-çš„æ¦‚å¿µæ„å»ºå¤šé›†ç¾¤è®¿é—®æœåŠ¡è®¿é—®">
  Cilium æ²¡æœ‰ç”¨ MultiService çš„æ¦‚å¿µï¼Œ<strong>Cilium é€šè¿‡ Global Service çš„æ¦‚å¿µæ„å»ºå¤šé›†ç¾¤è®¿é—®æœåŠ¡è®¿é—®</strong>ã€‚
  <a class="anchor" href="#cilium-%e6%b2%a1%e6%9c%89%e7%94%a8-multiservice-%e7%9a%84%e6%a6%82%e5%bf%b5cilium-%e9%80%9a%e8%bf%87-global-service-%e7%9a%84%e6%a6%82%e5%bf%b5%e6%9e%84%e5%bb%ba%e5%a4%9a%e9%9b%86%e7%be%a4%e8%ae%bf%e9%97%ae%e6%9c%8d%e5%8a%a1%e8%ae%bf%e9%97%ae">#</a>
</h5>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061740007.png" alt="image-20240306174040950" /></p>
<p>Cilium</p>
<p>ä»è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºï¼Œ<strong>Cilium æ›´é€‚åˆåšå¤šæ´»é›†ç¾¤çš„å¤šé›†ç¾¤æœåŠ¡è®¿é—®éœ€æ±‚ï¼Œé€šè¿‡å¯¹ç›¸åº”çš„æœåŠ¡æ·»åŠ  Annotation çš„åšæ³•ï¼ŒæŠŠä¸åŒé›†ç¾¤çš„æœåŠ¡è®¾å®šä¸º global-serviceï¼Œå¹¶é€šè¿‡ shared-service å’Œ service-affinity æ¥æ§åˆ¶æœåŠ¡æ˜¯å¦èƒ½è¢«å…¶ä»–é›†ç¾¤è®¿é—®åŠæœåŠ¡äº²å’Œæ€§</strong>ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre tabindex="0"><code>apiVersion: v1
kind: Service
metadata:
  name: nginx
  annotations:
    io.cilium/global-service: &#39;true&#39;
    io.cilium/shared-service: &#39;true&#39;
    io.cilium/service-affinity: &#39;local&#39;
    # Possible values:
    # - local
    #    preferred endpoints from local cluster if available
    # - remote
    #    preferred endpoints from remote cluster if available
    # none (default)
    #    no preference. Default behavior if this annotation does not exist   
spec:
  type: ClusterIP
  ports:
    - port: 80
  selector:
    name: nginx
</code></pre><h5 id="ä»¥ä¸Šå½“æœ‰å¤šé›†ç¾¤äº’è®¿éœ€æ±‚åˆä¸æƒ³-cni-å¼ºç›¸å…³æ—¶å¯ä»¥å°è¯•ç©ä¸€ä¸‹-submarinerä½œä¸º-cncf-landscape-network-ä¸­ä¸€ä¸ªä¸“æ³¨äºå¤šé›†ç¾¤äº’è®¿çš„-sandbox-é¡¹ç›®submariner-æä¾›å¤šé›†ç¾¤ç½‘ç»œé€šä¿¡æœåŠ¡å‘ç°ä»¥åŠå®‰å…¨åŠ å¯†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©">
  ä»¥ä¸Šï¼Œå½“æœ‰å¤šé›†ç¾¤äº’è®¿éœ€æ±‚åˆä¸æƒ³ CNI å¼ºç›¸å…³æ—¶ï¼Œå¯ä»¥å°è¯•ç©ä¸€ä¸‹ Submarinerï¼Œä½œä¸º CNCF Landscape Network ä¸­ä¸€ä¸ªä¸“æ³¨äºå¤šé›†ç¾¤äº’è®¿çš„ SandBox é¡¹ç›®ï¼ŒSubmariner æä¾›å¤šé›†ç¾¤ç½‘ç»œé€šä¿¡ï¼ŒæœåŠ¡å‘ç°ï¼Œä»¥åŠå®‰å…¨åŠ å¯†ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚
  <a class="anchor" href="#%e4%bb%a5%e4%b8%8a%e5%bd%93%e6%9c%89%e5%a4%9a%e9%9b%86%e7%be%a4%e4%ba%92%e8%ae%bf%e9%9c%80%e6%b1%82%e5%8f%88%e4%b8%8d%e6%83%b3-cni-%e5%bc%ba%e7%9b%b8%e5%85%b3%e6%97%b6%e5%8f%af%e4%bb%a5%e5%b0%9d%e8%af%95%e7%8e%a9%e4%b8%80%e4%b8%8b-submariner%e4%bd%9c%e4%b8%ba-cncf-landscape-network-%e4%b8%ad%e4%b8%80%e4%b8%aa%e4%b8%93%e6%b3%a8%e4%ba%8e%e5%a4%9a%e9%9b%86%e7%be%a4%e4%ba%92%e8%ae%bf%e7%9a%84-sandbox-%e9%a1%b9%e7%9b%aesubmariner-%e6%8f%90%e4%be%9b%e5%a4%9a%e9%9b%86%e7%be%a4%e7%bd%91%e7%bb%9c%e9%80%9a%e4%bf%a1%e6%9c%8d%e5%8a%a1%e5%8f%91%e7%8e%b0%e4%bb%a5%e5%8f%8a%e5%ae%89%e5%85%a8%e5%8a%a0%e5%af%86%e6%98%af%e4%b8%80%e4%b8%aa%e5%be%88%e5%a5%bd%e7%9a%84%e9%80%89%e6%8b%a9">#</a>
</h5>
<p><strong>äº‘åŸç”Ÿç™¾å®ç®±</strong></p>
<p>è¡Œä¸‡é‡Œè·¯ï¼Œæ­¤å¤„ç›¸é€¢ï¼Œå…±è¯äº‘åŸç”Ÿä¹‹é“ã€‚ å¶é€—è¶£äº‹ï¼Œæ˜æœˆæ¸…é£ï¼Œä¸å›åŒåã€‚</p>
<p>55ç¯‡åŸåˆ›å†…å®¹</p>
<p>å…¬ä¼—å·</p>
<h3 id="ç½‘ç»œç­–ç•¥">
  ç½‘ç»œç­–ç•¥
  <a class="anchor" href="#%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5">#</a>
</h3>
<h5 id="å¯¹äº-pod-ç½‘ç»œéš”ç¦»å…¥å‘é™åˆ¶å‡ºå‘é™åˆ¶çš„ç½‘ç»œåœºæ™¯å¯ä»¥æ•´åˆæˆç½‘ç»œç­–ç•¥ä¸€åŒæ¥è¯´ä¸»æµå¼€æº-cni-éƒ½æ”¯æŒ-kubernetes-networkpolicyé€šè¿‡-network-policyå¯ä»¥åœ¨-3-å±‚æˆ–-4-å±‚åšç›¸åº”çš„ç½‘ç»œå®‰å…¨é™åˆ¶network-policy-é€šè¿‡-ingress-å’Œ-egress-ä¸¤ç§è¿›è¡Œç½‘ç»œé™åˆ¶é»˜è®¤éƒ½æ˜¯æ”¾è¡Œçš„ä¹Ÿå°±æ˜¯è¯´è®¾ç½®-kubernetes-ç½‘ç»œç­–ç•¥ä¸»è¦ä»¥ç™½åå•çš„å½¢å¼å¯¹é›†ç¾¤å†…çš„æµé‡è¿›è¡Œå®‰å…¨é™åˆ¶">
  å¯¹äº <strong>Pod ç½‘ç»œéš”ç¦»ã€å…¥å‘é™åˆ¶ã€å‡ºå‘é™åˆ¶çš„ç½‘ç»œåœºæ™¯</strong>ï¼Œå¯ä»¥æ•´åˆæˆç½‘ç»œç­–ç•¥ä¸€åŒæ¥è¯´ã€‚ä¸»æµå¼€æº CNI éƒ½æ”¯æŒ Kubernetes NetworkPolicyï¼Œé€šè¿‡ Network Policyï¼Œå¯ä»¥åœ¨ 3 å±‚æˆ– 4 å±‚åšç›¸åº”çš„ç½‘ç»œå®‰å…¨é™åˆ¶ã€‚<strong>Network Policy é€šè¿‡ Ingress å’Œ Egress ä¸¤ç§è¿›è¡Œç½‘ç»œé™åˆ¶ï¼Œé»˜è®¤éƒ½æ˜¯æ”¾è¡Œçš„</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>è®¾ç½® Kubernetes ç½‘ç»œç­–ç•¥ï¼Œä¸»è¦ä»¥ç™½åå•çš„å½¢å¼å¯¹é›†ç¾¤å†…çš„æµé‡è¿›è¡Œå®‰å…¨é™åˆ¶</strong>ã€‚
  <a class="anchor" href="#%e5%af%b9%e4%ba%8e-pod-%e7%bd%91%e7%bb%9c%e9%9a%94%e7%a6%bb%e5%85%a5%e5%90%91%e9%99%90%e5%88%b6%e5%87%ba%e5%90%91%e9%99%90%e5%88%b6%e7%9a%84%e7%bd%91%e7%bb%9c%e5%9c%ba%e6%99%af%e5%8f%af%e4%bb%a5%e6%95%b4%e5%90%88%e6%88%90%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5%e4%b8%80%e5%90%8c%e6%9d%a5%e8%af%b4%e4%b8%bb%e6%b5%81%e5%bc%80%e6%ba%90-cni-%e9%83%bd%e6%94%af%e6%8c%81-kubernetes-networkpolicy%e9%80%9a%e8%bf%87-network-policy%e5%8f%af%e4%bb%a5%e5%9c%a8-3-%e5%b1%82%e6%88%96-4-%e5%b1%82%e5%81%9a%e7%9b%b8%e5%ba%94%e7%9a%84%e7%bd%91%e7%bb%9c%e5%ae%89%e5%85%a8%e9%99%90%e5%88%b6network-policy-%e9%80%9a%e8%bf%87-ingress-%e5%92%8c-egress-%e4%b8%a4%e7%a7%8d%e8%bf%9b%e8%a1%8c%e7%bd%91%e7%bb%9c%e9%99%90%e5%88%b6%e9%bb%98%e8%ae%a4%e9%83%bd%e6%98%af%e6%94%be%e8%a1%8c%e7%9a%84%e4%b9%9f%e5%b0%b1%e6%98%af%e8%af%b4%e8%ae%be%e7%bd%ae-kubernetes-%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5%e4%b8%bb%e8%a6%81%e4%bb%a5%e7%99%bd%e5%90%8d%e5%8d%95%e7%9a%84%e5%bd%a2%e5%bc%8f%e5%af%b9%e9%9b%86%e7%be%a4%e5%86%85%e7%9a%84%e6%b5%81%e9%87%8f%e8%bf%9b%e8%a1%8c%e5%ae%89%e5%85%a8%e9%99%90%e5%88%b6">#</a>
</h5>
<h5 id="æ¯”å¦‚åªå…è®¸æŒ‡å®š-label-çš„-pod-è®¿é—®é›†ç¾¤å¤–æ•°æ®åº“é€šè¿‡-cidr-æŒ‡å®š">
  æ¯”å¦‚åªå…è®¸æŒ‡å®š label çš„ Pod è®¿é—®é›†ç¾¤å¤–æ•°æ®åº“ï¼ˆé€šè¿‡ CIDR æŒ‡å®šï¼‰
  <a class="anchor" href="#%e6%af%94%e5%a6%82%e5%8f%aa%e5%85%81%e8%ae%b8%e6%8c%87%e5%ae%9a-label-%e7%9a%84-pod-%e8%ae%bf%e9%97%ae%e9%9b%86%e7%be%a4%e5%a4%96%e6%95%b0%e6%8d%ae%e5%ba%93%e9%80%9a%e8%bf%87-cidr-%e6%8c%87%e5%ae%9a">#</a>
</h5>
<pre tabindex="0"><code>apiVersion: networking.K8s.io/v1
kind: NetworkPolicy
metadata:
  name: ingress-allow
  namespace: default
spec:
  podSelector: 
    matchLabels:
      role: db
  policyTypes:
  - Egress
egress:
    - to:
        - ipBlock:
            cidr: 192.168.100.40/24
      ports:
        - protocol: TCP
          port: 3306
apiVersion: networking.K8s.io/v1
kind: NetworkPolicy
metadata:
  name: ingress-allow
  namespace: default
spec:
  podSelector:
    matchLabels:
      role: app
  policyTypes:
    - Ingress
  ingress:
    - from:
        - ipBlock:
            cidr: 172.17.0.0/16
            except:
              - 172.17.1.0/24
        - namespaceSelector:
            matchLabels:
              project: web-project
        - podSelector:
            matchLabels:
              role: web
</code></pre><h5 id="è™½ç„¶-network-policy-èƒ½æ»¡è¶³å¤§å¤šåœºæ™¯ä½†æ˜¯ä¸æ˜¯æ„Ÿè§‰è¿˜æ˜¯å°‘äº†ç‚¹ä¸œè¥¿æ¯”å¦‚-7-å±‚ç­–ç•¥åŸºäº-nodeselectordropreject-ç±»å‹çš„ç­–ç•¥æŒ‡å®šæŒ‡å®š-egress-èŠ‚ç‚¹è¿›è¡Œæ§åˆ¶ç­‰é«˜çº§èƒ½åŠ›è¿™ä¸ªæ—¶å€™-cilium-å’Œ-antrea-å°±å¤§æ”¾å¼‚å½©äº†">
  è™½ç„¶ Network Policy èƒ½æ»¡è¶³å¤§å¤šåœºæ™¯ï¼Œä½†æ˜¯ä¸æ˜¯æ„Ÿè§‰<strong>è¿˜æ˜¯å°‘äº†ç‚¹ä¸œè¥¿ï¼Ÿæ¯”å¦‚ 7 å±‚ç­–ç•¥ã€åŸºäº NodeSelectorã€Drop/Reject ç±»å‹çš„ç­–ç•¥æŒ‡å®šã€æŒ‡å®š Egress èŠ‚ç‚¹è¿›è¡Œæ§åˆ¶ç­‰é«˜çº§èƒ½åŠ›</strong>ã€‚è¿™ä¸ªæ—¶å€™ Cilium å’Œ Antrea å°±å¤§æ”¾å¼‚å½©äº†ã€‚
  <a class="anchor" href="#%e8%99%bd%e7%84%b6-network-policy-%e8%83%bd%e6%bb%a1%e8%b6%b3%e5%a4%a7%e5%a4%9a%e5%9c%ba%e6%99%af%e4%bd%86%e6%98%af%e4%b8%8d%e6%98%af%e6%84%9f%e8%a7%89%e8%bf%98%e6%98%af%e5%b0%91%e4%ba%86%e7%82%b9%e4%b8%9c%e8%a5%bf%e6%af%94%e5%a6%82-7-%e5%b1%82%e7%ad%96%e7%95%a5%e5%9f%ba%e4%ba%8e-nodeselectordropreject-%e7%b1%bb%e5%9e%8b%e7%9a%84%e7%ad%96%e7%95%a5%e6%8c%87%e5%ae%9a%e6%8c%87%e5%ae%9a-egress-%e8%8a%82%e7%82%b9%e8%bf%9b%e8%a1%8c%e6%8e%a7%e5%88%b6%e7%ad%89%e9%ab%98%e7%ba%a7%e8%83%bd%e5%8a%9b%e8%bf%99%e4%b8%aa%e6%97%b6%e5%80%99-cilium-%e5%92%8c-antrea-%e5%b0%b1%e5%a4%a7%e6%94%be%e5%bc%82%e5%bd%a9%e4%ba%86">#</a>
</h5>
<h4 id="cilium-3">
  Cilium
  <a class="anchor" href="#cilium-3">#</a>
</h4>
<h5 id="cilium-æœ‰ä¸¤ä¸ª-crdciliumnetworkpolicy-å’Œ-ciliumclusterwidenetworkpolicyæ¥å®ç°å•é›†ç¾¤å’Œå¤šé›†ç¾¤çš„ç½‘ç»œç­–ç•¥èƒ½åŠ›cilium-æ”¯æŒ-347-å±‚ç½‘ç»œç­–ç•¥å¹¶å¢åŠ -endpoint-selector-å’Œ-node-selectoré™¤äº†æ™®é€šçš„åŸºäº-podselector-å’Œ-cidr-çš„é™åˆ¶cilium-å¯ä»¥æ”¯æŒæ›´å¤šç§ç­–ç•¥æ¯”å¦‚">
  Cilium æœ‰ä¸¤ä¸ª CRDï¼ŒCiliumNetworkPolicy å’Œ CiliumClusterwideNetworkPolicyï¼Œæ¥å®ç°å•é›†ç¾¤å’Œå¤šé›†ç¾¤çš„ç½‘ç»œç­–ç•¥èƒ½åŠ›ã€‚Cilium æ”¯æŒ 3ã€4ã€7 å±‚ç½‘ç»œç­–ç•¥ã€‚å¹¶å¢åŠ  EndPoint Selector å’Œ Node Selectorã€‚é™¤äº†æ™®é€šçš„åŸºäº PodSelector å’Œ CIDR çš„é™åˆ¶ï¼ŒCilium å¯ä»¥æ”¯æŒæ›´å¤šç§ç­–ç•¥ï¼Œæ¯”å¦‚ï¼š
  <a class="anchor" href="#cilium-%e6%9c%89%e4%b8%a4%e4%b8%aa-crdciliumnetworkpolicy-%e5%92%8c-ciliumclusterwidenetworkpolicy%e6%9d%a5%e5%ae%9e%e7%8e%b0%e5%8d%95%e9%9b%86%e7%be%a4%e5%92%8c%e5%a4%9a%e9%9b%86%e7%be%a4%e7%9a%84%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5%e8%83%bd%e5%8a%9bcilium-%e6%94%af%e6%8c%81-347-%e5%b1%82%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5%e5%b9%b6%e5%a2%9e%e5%8a%a0-endpoint-selector-%e5%92%8c-node-selector%e9%99%a4%e4%ba%86%e6%99%ae%e9%80%9a%e7%9a%84%e5%9f%ba%e4%ba%8e-podselector-%e5%92%8c-cidr-%e7%9a%84%e9%99%90%e5%88%b6cilium-%e5%8f%af%e4%bb%a5%e6%94%af%e6%8c%81%e6%9b%b4%e5%a4%9a%e7%a7%8d%e7%ad%96%e7%95%a5%e6%af%94%e5%a6%82">#</a>
</h5>
<h5 id="dns-é™åˆ¶ç­–ç•¥åªå…è®¸-app-test-app-çš„ç«¯ç‚¹é€šè¿‡-53-ç«¯å£å»-kube-system-å‘½åç©ºé—´çš„-k8sk8s-app-kube-dns-æ ‡ç­¾çš„-dns-æœåŠ¡å™¨è®¿é—®-my-remote-servicecom">
  <strong>DNS é™åˆ¶ç­–ç•¥</strong>ï¼Œåªå…è®¸ app: test-app çš„ç«¯ç‚¹é€šè¿‡ 53 ç«¯å£å» kube-system å‘½åç©ºé—´çš„ &ldquo;K8s:K8s-app&rdquo;: kube-dns æ ‡ç­¾çš„ DNS æœåŠ¡å™¨è®¿é—® my-remote-service.comï¼š
  <a class="anchor" href="#dns-%e9%99%90%e5%88%b6%e7%ad%96%e7%95%a5%e5%8f%aa%e5%85%81%e8%ae%b8-app-test-app-%e7%9a%84%e7%ab%af%e7%82%b9%e9%80%9a%e8%bf%87-53-%e7%ab%af%e5%8f%a3%e5%8e%bb-kube-system-%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e7%9a%84-k8sk8s-app-kube-dns-%e6%a0%87%e7%ad%be%e7%9a%84-dns-%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%ae%bf%e9%97%ae-my-remote-servicecom">#</a>
</h5>
<pre tabindex="0"><code>apiVersion: &#34;cilium.io/v2&#34;
kind: CiliumNetworkPolicy
metadata:
  name: &#34;to-fqdn&#34;
spec:
  endpointSelector:
    matchLabels:
      app: test-app
  egress:
    - toEndpoints:
      - matchLabels:
          &#34;K8s:io.kubernetes.pod.namespace&#34;: kube-system
          &#34;K8s:K8s-app&#34;: kube-dns
      toPorts:
        - ports:
           - port: &#34;53&#34;
             protocol: ANY
          rules:
            dns:
              - matchPattern: &#34;*&#34;
    - toFQDNs:
        - matchName: &#34;my-remote-service.com&#34;
</code></pre><h5 id="http-é™åˆ¶ç­–ç•¥--åªå…è®¸-org-empire-æ ‡ç­¾çš„ç«¯ç‚¹å¯¹-deathstar-çš„-v1request-landing-è¿›è¡Œ-post-æ“ä½œ">
  <strong>Http é™åˆ¶ç­–ç•¥</strong> , åªå…è®¸ org: empire æ ‡ç­¾çš„ç«¯ç‚¹å¯¹ deathstar çš„ /v1/request-landing è¿›è¡Œ POST æ“ä½œï¼š
  <a class="anchor" href="#http-%e9%99%90%e5%88%b6%e7%ad%96%e7%95%a5--%e5%8f%aa%e5%85%81%e8%ae%b8-org-empire-%e6%a0%87%e7%ad%be%e7%9a%84%e7%ab%af%e7%82%b9%e5%af%b9-deathstar-%e7%9a%84-v1request-landing-%e8%bf%9b%e8%a1%8c-post-%e6%93%8d%e4%bd%9c">#</a>
</h5>
<pre tabindex="0"><code>apiVersion: &#34;cilium.io/v2&#34;
kind: CiliumNetworkPolicy
metadata:
  name: &#34;rule&#34;
spec:
  description: &#34;L7 policy to restrict access to specific HTTP call&#34;
  endpointSelector:
    matchLabels:
      org: empire
      class: deathstar
  ingress:
  - fromEndpoints:
    - matchLabels:
        org: empire
    toPorts:
    - ports:
      - port: &#34;80&#34;
        protocol: TCP
      rules:
        http:
        - method: &#34;POST&#34;
          path: &#34;/v1/request-landing&#34;
</code></pre><p><strong>kafka ç­–ç•¥æ§åˆ¶</strong>ï¼š</p>
<pre tabindex="0"><code>apiVersion: &#34;cilium.io/v2&#34;
kind: CiliumNetworkPolicy
metadata:
  name: &#34;rule1&#34;
spec:
  description: &#34;enable empire-hq to produce to empire-announce and deathstar-plans&#34;
  endpointSelector:
    matchLabels:
      app: kafka
  ingress:
  - fromEndpoints:
    - matchLabels:
        app: empire-hq
    toPorts:
    - ports:
      - port: &#34;9092&#34;
        protocol: TCP
      rules:
        kafka:
        - role: &#34;produce&#34;
          topic: &#34;deathstar-plans&#34;
        - role: &#34;produce&#34;
          topic: &#34;empire-announce&#34;
</code></pre><h4 id="antrea-3">
  Antrea
  <a class="anchor" href="#antrea-3">#</a>
</h4>
<h5 id="antrea-é™¤äº†å¢åŠ ç°æœ‰-networkpolicy-åŠŸèƒ½å¤–æŠ½è±¡äº†-antrea-networkpolicy-å’Œ-antrea-clusternetworkpolicy-ä¸¤ä¸ª-crd-å®ç°å‘½åç©ºé—´çº§åˆ«å’Œé›†ç¾¤çº§åˆ«çš„å®‰å…¨ç®¡ç†è¿˜æä¾›äº†-grouptier-çš„æ¦‚å¿µç”¨äºèµ„æºåˆ†ç»„å’Œä¼˜å…ˆçº§è®¾è®¡å—¯æœçœŸæ˜¯-nsx-çš„äº²å…„å¼Ÿå› æ­¤-antrea-æœ‰é›¶ä¿¡ä»»çš„ç½‘ç»œç­–ç•¥å®‰å…¨é˜²æŠ¤æ‰‹æ®µå¯ä»¥å®ç°ä¸¥æ ¼çš„-pod-å’Œå‘½åç©ºé—´éš”ç¦»">
  Antrea é™¤äº†å¢åŠ ç°æœ‰ NetworkPolicy åŠŸèƒ½å¤–ï¼ŒæŠ½è±¡äº† Antrea NetworkPolicy å’Œ Antrea ClusterNetworkPolicy ä¸¤ä¸ª CRD å®ç°å‘½åç©ºé—´çº§åˆ«å’Œé›†ç¾¤çº§åˆ«çš„å®‰å…¨ç®¡ç†ã€‚<strong>è¿˜æä¾›äº† Groupï¼ŒTier çš„æ¦‚å¿µï¼Œç”¨äºèµ„æºåˆ†ç»„å’Œä¼˜å…ˆçº§è®¾è®¡</strong>ï¼Œå—¯ï¼ŒæœçœŸæ˜¯ NSX çš„äº²å…„å¼Ÿã€‚å› æ­¤ Antrea æœ‰é›¶ä¿¡ä»»çš„ç½‘ç»œç­–ç•¥å®‰å…¨é˜²æŠ¤æ‰‹æ®µï¼Œå¯ä»¥å®ç°ä¸¥æ ¼çš„ pod å’Œå‘½åç©ºé—´éš”ç¦»ã€‚
  <a class="anchor" href="#antrea-%e9%99%a4%e4%ba%86%e5%a2%9e%e5%8a%a0%e7%8e%b0%e6%9c%89-networkpolicy-%e5%8a%9f%e8%83%bd%e5%a4%96%e6%8a%bd%e8%b1%a1%e4%ba%86-antrea-networkpolicy-%e5%92%8c-antrea-clusternetworkpolicy-%e4%b8%a4%e4%b8%aa-crd-%e5%ae%9e%e7%8e%b0%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e7%ba%a7%e5%88%ab%e5%92%8c%e9%9b%86%e7%be%a4%e7%ba%a7%e5%88%ab%e7%9a%84%e5%ae%89%e5%85%a8%e7%ae%a1%e7%90%86%e8%bf%98%e6%8f%90%e4%be%9b%e4%ba%86-grouptier-%e7%9a%84%e6%a6%82%e5%bf%b5%e7%94%a8%e4%ba%8e%e8%b5%84%e6%ba%90%e5%88%86%e7%bb%84%e5%92%8c%e4%bc%98%e5%85%88%e7%ba%a7%e8%ae%be%e8%ae%a1%e5%97%af%e6%9e%9c%e7%9c%9f%e6%98%af-nsx-%e7%9a%84%e4%ba%b2%e5%85%84%e5%bc%9f%e5%9b%a0%e6%ad%a4-antrea-%e6%9c%89%e9%9b%b6%e4%bf%a1%e4%bb%bb%e7%9a%84%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5%e5%ae%89%e5%85%a8%e9%98%b2%e6%8a%a4%e6%89%8b%e6%ae%b5%e5%8f%af%e4%bb%a5%e5%ae%9e%e7%8e%b0%e4%b8%a5%e6%a0%bc%e7%9a%84-pod-%e5%92%8c%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e9%9a%94%e7%a6%bb">#</a>
</h5>
<p><img src="https://picture-base.oss-cn-hangzhou.aliyuncs.com/picture/202403061741354.png" alt="image-20240306174132312" /></p>
<h5 id="ç½‘ç»œå±‚-antrea-å¢åŠ äº†å¯¹-icmp-å’Œ-igmpmutlicast-çš„é™åˆ¶ç¦-ping-äººå‘˜ç‹‚å–œ">
  ç½‘ç»œå±‚ Antrea <strong>å¢åŠ äº†å¯¹ ICMP å’Œ IGMPï¼ŒMutlicast çš„é™åˆ¶</strong>ï¼Œç¦ ping äººå‘˜ç‹‚å–œã€‚
  <a class="anchor" href="#%e7%bd%91%e7%bb%9c%e5%b1%82-antrea-%e5%a2%9e%e5%8a%a0%e4%ba%86%e5%af%b9-icmp-%e5%92%8c-igmpmutlicast-%e7%9a%84%e9%99%90%e5%88%b6%e7%a6%81-ping-%e4%ba%ba%e5%91%98%e7%8b%82%e5%96%9c">#</a>
</h5>
<pre tabindex="0"><code>apiVersion: crd.antrea.io/v1alpha1
kind: ClusterNetworkPolicy
metadata:
  name: acnp-reject-ping-request
spec:
    priority: 5
    tier: securityops
    appliedTo:
      - podSelector:
          matchLabels:
            role: server
        namespaceSelector:
          matchLabels:
            env: prod
    egress:
      - action: Reject
        protocols:
          - icmp:
              icmpType: 8
              icmpCode: 0
        name: DropPingRequest
        enableLogging: true
</code></pre><p><strong>åŸºäº FQDN çš„è¿‡æ»¤</strong>ï¼š</p>
<pre tabindex="0"><code>apiVersion: crd.antrea.io/v1alpha1
kind: ClusterNetworkPolicy
metadata:
  name: acnp-fqdn-all-foobar
spec:
  priority: 1
  appliedTo:
  - podSelector:
      matchLabels:
        app: client
  egress:
  - action: Allow
    to:
      - fqdn: &#34;*foobar.com&#34;
    ports:
      - protocol: TCP
        port: 8080
  - action: Drop 
</code></pre><h5 id="è®¾ç½®ä¸åŒç±»å‹çš„-groupåŸºäº-group-è®¾ç½®ç½‘ç»œç­–ç•¥å°±ä¸ç”¨å¯¹åŒç±»ä¸šåŠ¡å†™ä¸€å †-label-äº†">
  è®¾ç½®ä¸åŒç±»å‹çš„ Groupï¼Œ<strong>åŸºäº Group è®¾ç½®ç½‘ç»œç­–ç•¥</strong>ï¼Œå°±ä¸ç”¨å¯¹åŒç±»ä¸šåŠ¡å†™ä¸€å † Label äº†
  <a class="anchor" href="#%e8%ae%be%e7%bd%ae%e4%b8%8d%e5%90%8c%e7%b1%bb%e5%9e%8b%e7%9a%84-group%e5%9f%ba%e4%ba%8e-group-%e8%ae%be%e7%bd%ae%e7%bd%91%e7%bb%9c%e7%ad%96%e7%95%a5%e5%b0%b1%e4%b8%8d%e7%94%a8%e5%af%b9%e5%90%8c%e7%b1%bb%e4%b8%9a%e5%8a%a1%e5%86%99%e4%b8%80%e5%a0%86-label-%e4%ba%86">#</a>
</h5>
<pre tabindex="0"><code>apiVersion: crd.antrea.io/v1alpha3
kind: Group
metadata:
  name: test-grp-with-namespace
spec:
  podSelector:
    matchLabels:
      role: db
  namespaceSelector:
    matchLabels:
      env: prod
---
# Group that selects IP block 10.0.10.0/24.
apiVersion: crd.antrea.io/v1alpha3
kind: Group
metadata:
  name: test-grp-ip-block
spec:
  ipBlocks:
    - cidr: 10.0.10.0/24
---
apiVersion: crd.antrea.io/v1alpha3
kind: Group
metadata:
  name: test-grp-svc-ref
spec:
  serviceReference:
    name: test-service
    namespace: default
---
# Group that includes the previous Groups as childGroups.
apiVersion: crd.antrea.io/v1alpha3
kind: Group
metadata:
  name: test-grp-nested
spec:
  childGroups: [test-grp-sel, test-grp-ip-blocks, test-grp-svc-ref]
</code></pre><h3 id="egress">
  Egress
  <a class="anchor" href="#egress">#</a>
</h3>
<h5 id="å¯¹äºç‰¹å®šä¸šåŠ¡å‡ºé›†ç¾¤éœ€ä¸æš´éœ²-ip-æˆ–ç¬¦åˆå®‰å…¨å®¡è®¡éœ€æ±‚çš„åœºæ™¯éœ€è¦-pod-ip---external-ip-å¯¹å¤–éƒ¨ä¸šåŠ¡è¿›è¡Œè®¿é—®ciliumkube-ovnantrea-éƒ½æœ‰ç±»ä¼¼-egress-gatewayegress-ip-çš„åŠŸèƒ½ç‰¹å®šæ ‡ç­¾çš„-pod-é€šè¿‡-snat-ä¸º-egress-ip-è®¿é—®é›†ç¾¤å¤–æœåŠ¡">
  å¯¹äºç‰¹å®šä¸šåŠ¡å‡ºé›†ç¾¤éœ€ä¸æš´éœ² IP æˆ–ç¬¦åˆå®‰å…¨å®¡è®¡éœ€æ±‚çš„åœºæ™¯ï¼Œéœ€è¦ Pod IP -&gt; External IP å¯¹å¤–éƒ¨ä¸šåŠ¡è¿›è¡Œè®¿é—®ã€‚<strong>Ciliumï¼ŒKube-OVNï¼ŒAntrea éƒ½æœ‰ç±»ä¼¼ Egress Gateway/Egress IP çš„åŠŸèƒ½ï¼Œç‰¹å®šæ ‡ç­¾çš„ Pod é€šè¿‡ SNAT ä¸º Egress IP è®¿é—®é›†ç¾¤å¤–æœåŠ¡ã€‚</strong>
  <a class="anchor" href="#%e5%af%b9%e4%ba%8e%e7%89%b9%e5%ae%9a%e4%b8%9a%e5%8a%a1%e5%87%ba%e9%9b%86%e7%be%a4%e9%9c%80%e4%b8%8d%e6%9a%b4%e9%9c%b2-ip-%e6%88%96%e7%ac%a6%e5%90%88%e5%ae%89%e5%85%a8%e5%ae%a1%e8%ae%a1%e9%9c%80%e6%b1%82%e7%9a%84%e5%9c%ba%e6%99%af%e9%9c%80%e8%a6%81-pod-ip---external-ip-%e5%af%b9%e5%a4%96%e9%83%a8%e4%b8%9a%e5%8a%a1%e8%bf%9b%e8%a1%8c%e8%ae%bf%e9%97%aeciliumkube-ovnantrea-%e9%83%bd%e6%9c%89%e7%b1%bb%e4%bc%bc-egress-gatewayegress-ip-%e7%9a%84%e5%8a%9f%e8%83%bd%e7%89%b9%e5%ae%9a%e6%a0%87%e7%ad%be%e7%9a%84-pod-%e9%80%9a%e8%bf%87-snat-%e4%b8%ba-egress-ip-%e8%ae%bf%e9%97%ae%e9%9b%86%e7%be%a4%e5%a4%96%e6%9c%8d%e5%8a%a1">#</a>
</h5>
<h4 id="cilium-4">
  Cilium
  <a class="anchor" href="#cilium-4">#</a>
</h4>
<pre tabindex="0"><code>apiVersion: cilium.io/v2
kind: CiliumEgressGatewayPolicy
metadata:
  name: egress-sample
spec:
  selectors:
  - podSelector:
      matchLabels:
        app: snat-pod
        io.kubernetes.pod.namespace: default
  destinationCIDRs:
  - &#34;0.0.0.0/0&#34;
  egressGateway:
    nodeSelector:
      matchLabels:
        node.kubernetes.io/name: node1
    egressIP: 10.168.60.100
</code></pre><h4 id="kubeovn-1">
  KubeOVN
  <a class="anchor" href="#kubeovn-1">#</a>
</h4>
<pre tabindex="0"><code>apiVersion: v1
kind: Pod
metadata:
  name: pod-gw
  annotations:
    ovn.kubernetes.io/eip: 172.10.0.1
    #æˆ–ovn.kubernetes.io/snat: 172.10.0.1
spec:
  containers:
  - name: eip-pod
    image: nginx:alpine
</code></pre><h4 id="antrea-4">
  Antrea:
  <a class="anchor" href="#antrea-4">#</a>
</h4>
<pre tabindex="0"><code>apiVersion: crd.antrea.io/v1alpha2
kind: Egress
metadata:
  name: egress-staging-web
spec:
  appliedTo:
    namespaceSelector:
      matchLabels:
        kubernetes.io/metadata.name: staging
    podSelector:
      matchLabels:
        app: web
  externalIPPool: external-ip-pool
  #æˆ–IPå½¢å¼ egressIP: 10.10.10.1
</code></pre><h3 id="å¸¦å®½ç®¡ç†">
  å¸¦å®½ç®¡ç†
  <a class="anchor" href="#%e5%b8%a6%e5%ae%bd%e7%ae%a1%e7%90%86">#</a>
</h3>
<h5 id="kube-ovn-å’Œ-clium-éƒ½æ”¯æŒå¸¦å®½ç®¡ç†kube-ovn-è¿˜æ”¯æŒ-qos-è°ƒæ•´åªéœ€è¦-annotation-ä¸€ä¸‹å³å¯æå®š">
  <strong>kube-ovn å’Œ Clium éƒ½æ”¯æŒå¸¦å®½ç®¡ç†ï¼Œkube-ovn è¿˜æ”¯æŒ QoS è°ƒæ•´</strong>ï¼Œåªéœ€è¦ Annotation ä¸€ä¸‹å³å¯æå®šï¼š
  <a class="anchor" href="#kube-ovn-%e5%92%8c-clium-%e9%83%bd%e6%94%af%e6%8c%81%e5%b8%a6%e5%ae%bd%e7%ae%a1%e7%90%86kube-ovn-%e8%bf%98%e6%94%af%e6%8c%81-qos-%e8%b0%83%e6%95%b4%e5%8f%aa%e9%9c%80%e8%a6%81-annotation-%e4%b8%80%e4%b8%8b%e5%8d%b3%e5%8f%af%e6%90%9e%e5%ae%9a">#</a>
</h5>
<h4 id="kube-ovn-1">
  Kube-OVN
  <a class="anchor" href="#kube-ovn-1">#</a>
</h4>
<pre tabindex="0"><code>apiVersion: v1
kind: Pod
metadata:
  name: qos
  namespace: ls1
  annotations:
    ovn.kubernetes.io/ingress_rate: &#34;3&#34;
    ovn.kubernetes.io/egress_rate: &#34;1&#34;
    ovn.kubernetes.io/latency: 3
    ovn.kubernetes.io/loss: 20
</code></pre><h4 id="cilium-5">
  Cilium
  <a class="anchor" href="#cilium-5">#</a>
</h4>
<pre tabindex="0"><code>apiVersion: v1
kind: Pod
metadata:
  annotations:
    kubernetes.io/egress-bandwidth: 10M
...
</code></pre><h5 id="ä»¥ä¸Šå°±æ˜¯æ­¤æ¬¡åˆ†äº«çš„å…¨éƒ¨å†…å®¹äº†è¯»åˆ°è¿™é‡Œä½ å¯ä»¥ä¹Ÿä¼šæ„Ÿæ…¨ä»æœ€æ—©å­¦-docker0vethpair-ç†Ÿæ‚‰å®¹å™¨ç½‘ç»œåŸç†åˆ°æ­å»º-k8s-åèŠ‚ç‚¹-notready-å°±-apply-ä¸ª-flannel-é€æ­¥äº†è§£-cni-æ’ä»¶æœºåˆ¶åˆ°ä»Šå¤©çš„-cncf-networkservice-proxy-ç”Ÿæ€çš„èŠ±å›¢é”¦ç°‡äº‘åŸç”Ÿç½‘ç»œåœ¨æ—¥æ–°æœˆå¼‚çš„å‘å±•ç€å®¹å™¨ç½‘ç»œä»æœ€åˆçš„è¿é€šæ€§åˆ°ç°åœ¨æ¼”å˜å‡ºæ›´å¤šçš„ç©æ³•å’Œé€‚ç”¨æ€§ä¸è®ºæ˜¯ç½‘ç»œåŠŸèƒ½å®‰å…¨æ§åˆ¶ç½‘ç»œæ´å¯Ÿå’Œå¯è§‚æµ‹æ€§éƒ½åœ¨æ›´å¥½åœ°ä¸ºè¿ç»´äººå‘˜æœåŠ¡è‹¥è¦ä½“éªŒæ›´å¤šåŠŸèƒ½å¿«åˆ°å¼€æºç¤¾åŒºé€‰æ‹©å–œæ¬¢çš„å®¹å™¨ç½‘ç»œé¡¹ç›®-hands-on-lab-å§">
  ä»¥ä¸Šã€‚å°±æ˜¯æ­¤æ¬¡åˆ†äº«çš„å…¨éƒ¨å†…å®¹äº†ï¼Œè¯»åˆ°è¿™é‡Œä½ å¯ä»¥ä¹Ÿä¼šæ„Ÿæ…¨ï¼Œä»æœ€æ—©å­¦ docker0ï¼ŒVethpair ç†Ÿæ‚‰å®¹å™¨ç½‘ç»œåŸç†ï¼Œåˆ°æ­å»º K8s åèŠ‚ç‚¹ NotReady å°± apply ä¸ª Flannel é€æ­¥äº†è§£ CNI æ’ä»¶æœºåˆ¶ï¼Œåˆ°ä»Šå¤©çš„ CNCF Network&amp;Service Proxy ç”Ÿæ€çš„èŠ±å›¢é”¦ç°‡ï¼Œäº‘åŸç”Ÿç½‘ç»œåœ¨æ—¥æ–°æœˆå¼‚çš„å‘å±•ç€ï¼Œå®¹å™¨ç½‘ç»œä»æœ€åˆçš„è¿é€šæ€§åˆ°ç°åœ¨æ¼”å˜å‡ºæ›´å¤šçš„ç©æ³•å’Œé€‚ç”¨æ€§ï¼Œä¸è®ºæ˜¯ç½‘ç»œåŠŸèƒ½ã€å®‰å…¨æ§åˆ¶ã€ç½‘ç»œæ´å¯Ÿå’Œå¯è§‚æµ‹æ€§ï¼Œéƒ½åœ¨æ›´å¥½åœ°ä¸ºè¿ç»´äººå‘˜æœåŠ¡ã€‚è‹¥è¦ä½“éªŒæ›´å¤šåŠŸèƒ½ï¼Œå¿«åˆ°å¼€æºç¤¾åŒºé€‰æ‹©å–œæ¬¢çš„å®¹å™¨ç½‘ç»œé¡¹ç›® Hands on Lab å§ï¼
  <a class="anchor" href="#%e4%bb%a5%e4%b8%8a%e5%b0%b1%e6%98%af%e6%ad%a4%e6%ac%a1%e5%88%86%e4%ba%ab%e7%9a%84%e5%85%a8%e9%83%a8%e5%86%85%e5%ae%b9%e4%ba%86%e8%af%bb%e5%88%b0%e8%bf%99%e9%87%8c%e4%bd%a0%e5%8f%af%e4%bb%a5%e4%b9%9f%e4%bc%9a%e6%84%9f%e6%85%a8%e4%bb%8e%e6%9c%80%e6%97%a9%e5%ad%a6-docker0vethpair-%e7%86%9f%e6%82%89%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c%e5%8e%9f%e7%90%86%e5%88%b0%e6%90%ad%e5%bb%ba-k8s-%e5%90%8e%e8%8a%82%e7%82%b9-notready-%e5%b0%b1-apply-%e4%b8%aa-flannel-%e9%80%90%e6%ad%a5%e4%ba%86%e8%a7%a3-cni-%e6%8f%92%e4%bb%b6%e6%9c%ba%e5%88%b6%e5%88%b0%e4%bb%8a%e5%a4%a9%e7%9a%84-cncf-networkservice-proxy-%e7%94%9f%e6%80%81%e7%9a%84%e8%8a%b1%e5%9b%a2%e9%94%a6%e7%b0%87%e4%ba%91%e5%8e%9f%e7%94%9f%e7%bd%91%e7%bb%9c%e5%9c%a8%e6%97%a5%e6%96%b0%e6%9c%88%e5%bc%82%e7%9a%84%e5%8f%91%e5%b1%95%e7%9d%80%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c%e4%bb%8e%e6%9c%80%e5%88%9d%e7%9a%84%e8%bf%9e%e9%80%9a%e6%80%a7%e5%88%b0%e7%8e%b0%e5%9c%a8%e6%bc%94%e5%8f%98%e5%87%ba%e6%9b%b4%e5%a4%9a%e7%9a%84%e7%8e%a9%e6%b3%95%e5%92%8c%e9%80%82%e7%94%a8%e6%80%a7%e4%b8%8d%e8%ae%ba%e6%98%af%e7%bd%91%e7%bb%9c%e5%8a%9f%e8%83%bd%e5%ae%89%e5%85%a8%e6%8e%a7%e5%88%b6%e7%bd%91%e7%bb%9c%e6%b4%9e%e5%af%9f%e5%92%8c%e5%8f%af%e8%a7%82%e6%b5%8b%e6%80%a7%e9%83%bd%e5%9c%a8%e6%9b%b4%e5%a5%bd%e5%9c%b0%e4%b8%ba%e8%bf%90%e7%bb%b4%e4%ba%ba%e5%91%98%e6%9c%8d%e5%8a%a1%e8%8b%a5%e8%a6%81%e4%bd%93%e9%aa%8c%e6%9b%b4%e5%a4%9a%e5%8a%9f%e8%83%bd%e5%bf%ab%e5%88%b0%e5%bc%80%e6%ba%90%e7%a4%be%e5%8c%ba%e9%80%89%e6%8b%a9%e5%96%9c%e6%ac%a2%e7%9a%84%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c%e9%a1%b9%e7%9b%ae-hands-on-lab-%e5%90%a7">#</a>
</h5>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#å¸¸è§ç½‘ç»œæ’ä»¶">å¸¸è§ç½‘ç»œæ’ä»¶</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#ç½‘ç»œåº”ç”¨åœºæ™¯">ç½‘ç»œåº”ç”¨åœºæ™¯</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#ç½‘ç»œæ’ä»¶åŠŸèƒ½å®ç°">ç½‘ç»œæ’ä»¶åŠŸèƒ½å®ç°</a>
      <ul>
        <li><a href="#å›ºå®š-ip">å›ºå®š IP</a></li>
        <li><a href="#å¤šé›†ç¾¤ç½‘ç»œäº’è”">å¤šé›†ç¾¤ç½‘ç»œäº’è”</a></li>
        <li><a href="#å¤šé›†ç¾¤æœåŠ¡äº’è®¿">å¤šé›†ç¾¤æœåŠ¡äº’è®¿</a></li>
        <li><a href="#ç½‘ç»œç­–ç•¥">ç½‘ç»œç­–ç•¥</a></li>
        <li><a href="#egress">Egress</a></li>
        <li><a href="#å¸¦å®½ç®¡ç†">å¸¦å®½ç®¡ç†</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












