<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  VictoriaMetrics 和 Thanos 对比
  #

VictoriaMetrics 和 Thanos 都是为了解决 Prometheus 在大规模监控、跨集群数据聚合、长期存储和查询等方面的不足而出现的工具。虽然它们都扩展了 Prometheus 的能力，但它们在架构设计、功能、适用场景等方面有一些不同。以下是对比：


  1. 功能对比
  #


  
      
          功能
          VictoriaMetrics
          Thanos
      
  
  
      
          长期存储
          内建长期存储，优化了存储和压缩，支持对象存储（如 S3/GCS）
          通过与对象存储集成（如 S3）实现长期存储
      
      
          扩展性
          支持水平扩展，能够处理数十亿条指标的时序数据
          通过组件（Sidecar、Query、Store Gateway）实现扩展
      
      
          查询能力
          支持 PromQL，查询性能较高，尤其是对大规模数据的处理
          通过 Thanos Query 提供跨 Prometheus 实例的查询和聚合功能
      
      
          高可用性
          通过集群模式实现高可用性
          高可用性通过 Sidecar 和 Store Gateway 实现，Query 和 Ruler 提供冗余
      
      
          数据聚合
          内建数据聚合机制，支持跨集群的数据查询和聚合
          支持跨多个 Prometheus 集群的聚合，依赖于 Store Gateway
      
      
          数据压缩
          高效的存储压缩机制，支持低存储成本的长期数据存储
          通过 Compactor 进行数据压缩和存储优化
      
      
          告警和规则
          无内建告警机制，通常与 Prometheus 配合使用
          通过 Thanos Ruler 实现跨集群的告警和规则计算
      
      
          性能
          更加优化的存储和查询引擎，特别在大规模数据下表现优秀
          在大规模数据查询时可能会有性能瓶颈，尤其是在高查询负载下
      
      
          部署复杂性
          简单，容易部署，适合高性能、高吞吐量的场景
          组件较多，部署和管理较为复杂，适合需要跨集群的场景
      
      
          成本
          更低的存储成本和更少的组件，适合低成本、高效的部署
          由于多个组件的部署，整体成本可能较高
      
  



  2. 架构对比
  #


  VictoriaMetrics 架构
  #


VictoriaMetrics 本身就是一个高性能时序数据库，内建了高效的数据存储、压缩和查询机制。它不需要像 Thanos 一样依赖多个组件来扩展 Prometheus 的功能。VictoriaMetrics 支持单机部署，也支持水平扩展，能够提供跨集群的数据存储和查询。
适用于需要高效、低成本存储并且需要高吞吐量的监控场景。


  Thanos 架构
  #


Thanos 是一个扩展工具，旨在增强 Prometheus 的能力。它通过多个组件（Sidecar、Query、Store Gateway、Ruler、Compactor）来提供跨集群数据聚合、长期存储和高可用性。
Thanos 主要是为了支持 Prometheus 的高可用性、跨集群查询和长期数据存储而设计的，适用于多集群、大规模监控的场景。



  3. 性能对比
  #


VictoriaMetrics：

优化了时序数据存储和查询的性能，能够处理大量指标数据，尤其是在大规模的监控场景中，查询性能非常优秀。
数据压缩和存储效率非常高，能够显著降低存储成本。
对大数据量的查询性能较为优越，尤其是在高吞吐量的时序数据下。


Thanos：

Thanos 的查询性能受到多个组件的影响，尤其是在跨集群查询时，查询性能可能会有一定的瓶颈。
存储压缩由 Thanos Compactor 负责，但整体查询性能通常比 VictoriaMetrics 更依赖于架构设计和部署方式。
跨集群查询和长时间存储的支持优于单一集群环境中的单一 Prometheus，但对高查询频率和大量数据的查询可能会带来延迟。





  4. 存储机制对比
  #


VictoriaMetrics：

自带高效的存储引擎，支持对象存储（如 S3、GCS）的长时间存储。
提供内建的压缩机制，降低存储成本。
内存和磁盘使用效率高，特别适合需要处理大规模、长时间数据存储的场景。


Thanos：

Thanos 通过将数据存储到对象存储中（如 S3、GCS），支持高效的长期存储。
数据压缩和存储优化是通过 Thanos Compactor 完成的。
Thanos 的存储机制依赖于 Prometheus 和 Store Gateway，将历史数据存储到对象存储中，并支持跨 Prometheus 实例的数据查询。





  5. 使用场景对比
  #


VictoriaMetrics：

适合需要高性能存储和查询的场景，尤其在单集群或简单集群环境下。
更适合对存储和查询性能要求极高的监控系统，特别是处理大量数据时。
支持高吞吐量的数据写入和查询，适用于对低延迟、高并发有要求的场景。


Thanos：

适合跨集群、大规模的监控系统，特别是在多区域或多集群环境下。
用于扩展 Prometheus 功能，提供跨集群数据聚合、长时间存储、查询和高可用性。
适合已有 Prometheus 部署的环境，通过 Thanos 的组件增强 Prometheus 的能力。





  6. 优缺点总结
  #


  
      
          特性
          VictoriaMetrics
          Thanos
      
  
  
      
          优点
          1. 高效存储，压缩能力强。
          1. 跨集群数据聚合和查询。
      
      
          
          2. 查询性能优异，尤其在大数据量环境下。
          2. 支持长期存储，适用于大规模环境。
      
      
          
          3. 存储成本较低，部署和维护简单。
          3. 与 Prometheus 集成，提供高可用性和扩展性。
      
      
          
          
          
      
  


  VictoriaMetrics 与 Thanos 对比
  #

VictoriaMetrics 和 Thanos 都是为 Prometheus 提供扩展和增强功能的开源工具，尤其是在长时间存储和跨集群查询方面。这两个工具各有特点，适用于不同的场景，下面对它们的功能、架构和优缺点做详细对比。"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://qq547475331.github.io/docs/2025-3-20-victoriametrics%E5%92%8Cthanos%E5%AF%B9%E6%AF%94/"><meta property="og:site_name" content="Guichen's Blog"><meta property="og:title" content="2025-3-20 VictoriaMetrics 和 Thanos 对比"><meta property="og:description" content="VictoriaMetrics 和 Thanos 对比 # VictoriaMetrics 和 Thanos 都是为了解决 Prometheus 在大规模监控、跨集群数据聚合、长期存储和查询等方面的不足而出现的工具。虽然它们都扩展了 Prometheus 的能力，但它们在架构设计、功能、适用场景等方面有一些不同。以下是对比：
1. 功能对比 # 功能 VictoriaMetrics Thanos 长期存储 内建长期存储，优化了存储和压缩，支持对象存储（如 S3/GCS） 通过与对象存储集成（如 S3）实现长期存储 扩展性 支持水平扩展，能够处理数十亿条指标的时序数据 通过组件（Sidecar、Query、Store Gateway）实现扩展 查询能力 支持 PromQL，查询性能较高，尤其是对大规模数据的处理 通过 Thanos Query 提供跨 Prometheus 实例的查询和聚合功能 高可用性 通过集群模式实现高可用性 高可用性通过 Sidecar 和 Store Gateway 实现，Query 和 Ruler 提供冗余 数据聚合 内建数据聚合机制，支持跨集群的数据查询和聚合 支持跨多个 Prometheus 集群的聚合，依赖于 Store Gateway 数据压缩 高效的存储压缩机制，支持低存储成本的长期数据存储 通过 Compactor 进行数据压缩和存储优化 告警和规则 无内建告警机制，通常与 Prometheus 配合使用 通过 Thanos Ruler 实现跨集群的告警和规则计算 性能 更加优化的存储和查询引擎，特别在大规模数据下表现优秀 在大规模数据查询时可能会有性能瓶颈，尤其是在高查询负载下 部署复杂性 简单，容易部署，适合高性能、高吞吐量的场景 组件较多，部署和管理较为复杂，适合需要跨集群的场景 成本 更低的存储成本和更少的组件，适合低成本、高效的部署 由于多个组件的部署，整体成本可能较高 2. 架构对比 # VictoriaMetrics 架构 # VictoriaMetrics 本身就是一个高性能时序数据库，内建了高效的数据存储、压缩和查询机制。它不需要像 Thanos 一样依赖多个组件来扩展 Prometheus 的功能。VictoriaMetrics 支持单机部署，也支持水平扩展，能够提供跨集群的数据存储和查询。 适用于需要高效、低成本存储并且需要高吞吐量的监控场景。 Thanos 架构 # Thanos 是一个扩展工具，旨在增强 Prometheus 的能力。它通过多个组件（Sidecar、Query、Store Gateway、Ruler、Compactor）来提供跨集群数据聚合、长期存储和高可用性。 Thanos 主要是为了支持 Prometheus 的高可用性、跨集群查询和长期数据存储而设计的，适用于多集群、大规模监控的场景。 3. 性能对比 # VictoriaMetrics： 优化了时序数据存储和查询的性能，能够处理大量指标数据，尤其是在大规模的监控场景中，查询性能非常优秀。 数据压缩和存储效率非常高，能够显著降低存储成本。 对大数据量的查询性能较为优越，尤其是在高吞吐量的时序数据下。 Thanos： Thanos 的查询性能受到多个组件的影响，尤其是在跨集群查询时，查询性能可能会有一定的瓶颈。 存储压缩由 Thanos Compactor 负责，但整体查询性能通常比 VictoriaMetrics 更依赖于架构设计和部署方式。 跨集群查询和长时间存储的支持优于单一集群环境中的单一 Prometheus，但对高查询频率和大量数据的查询可能会带来延迟。 4. 存储机制对比 # VictoriaMetrics： 自带高效的存储引擎，支持对象存储（如 S3、GCS）的长时间存储。 提供内建的压缩机制，降低存储成本。 内存和磁盘使用效率高，特别适合需要处理大规模、长时间数据存储的场景。 Thanos： Thanos 通过将数据存储到对象存储中（如 S3、GCS），支持高效的长期存储。 数据压缩和存储优化是通过 Thanos Compactor 完成的。 Thanos 的存储机制依赖于 Prometheus 和 Store Gateway，将历史数据存储到对象存储中，并支持跨 Prometheus 实例的数据查询。 5. 使用场景对比 # VictoriaMetrics： 适合需要高性能存储和查询的场景，尤其在单集群或简单集群环境下。 更适合对存储和查询性能要求极高的监控系统，特别是处理大量数据时。 支持高吞吐量的数据写入和查询，适用于对低延迟、高并发有要求的场景。 Thanos： 适合跨集群、大规模的监控系统，特别是在多区域或多集群环境下。 用于扩展 Prometheus 功能，提供跨集群数据聚合、长时间存储、查询和高可用性。 适合已有 Prometheus 部署的环境，通过 Thanos 的组件增强 Prometheus 的能力。 6. 优缺点总结 # 特性 VictoriaMetrics Thanos 优点 1. 高效存储，压缩能力强。 1. 跨集群数据聚合和查询。 2. 查询性能优异，尤其在大数据量环境下。 2. 支持长期存储，适用于大规模环境。 3. 存储成本较低，部署和维护简单。 3. 与 Prometheus 集成，提供高可用性和扩展性。 VictoriaMetrics 与 Thanos 对比 # VictoriaMetrics 和 Thanos 都是为 Prometheus 提供扩展和增强功能的开源工具，尤其是在长时间存储和跨集群查询方面。这两个工具各有特点，适用于不同的场景，下面对它们的功能、架构和优缺点做详细对比。"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>2025-3-20 VictoriaMetrics 和 Thanos 对比 | Guichen's Blog</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://qq547475331.github.io/docs/2025-3-20-victoriametrics%E5%92%8Cthanos%E5%AF%B9%E6%AF%94/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.6a5f231569faae3b06dce2167ae3c12c4d437123aa0b965c32d0fc906665c814.js integrity="sha256-al8jFWn6rjsG3OIWeuPBLE1DcSOqC5ZcMtD8kGZlyBQ=" crossorigin=anonymous></script></head><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.2.3/mermaid.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){mermaid.initialize({startOnLoad:!0});let e=document.querySelectorAll("pre > code.language-mermaid");e.forEach(e=>{let t=document.createElement("div");t.classList.add("mermaid"),t.innerHTML=e.innerText,e.parentNode.replaceWith(t)}),mermaid.init(void 0,document.querySelectorAll(".mermaid"))})</script><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Guichen's Blog</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/docs/2025-8-29-%E8%A1%A8%E5%8D%95%E5%88%B0%E9%9B%86%E7%BE%A4/>2025-8-28 表单到集群</a></li><li><a href=/docs/2025-6-27-geminicli/>2025-6-27 geminicli</a></li><li><a href=/docs/2025-6-23-ingress-nginx-contrller-%E5%88%86%E6%9E%90/>2025-6-23 ingress nginx contrller 内存使用过高分析</a></li><li><a href=/docs/2025-6-20-oom/>2025-6-20 oom排查思路</a></li><li><a href=/docs/2025-6-16-fire%E8%A7%84%E5%88%99/>2025-6-16 Cursor RIPER-5规则</a></li><li><a href=/docs/2025-6-12-karmada/>2025-6-12 karmada介绍</a></li><li><a href=/docs/2025-6-12-flutter%E8%A7%84%E5%88%99/>2025-6-12 flutter规则</a></li><li><a href=/docs/2025-6-10-%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91/>2025-6-10 独立开发</a></li><li><a href=/docs/2025-5-21-ingress%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/>2025-5-21 主Ingress副本变为0后报503问题分析</a></li><li><a href=/docs/2025-5-7-%E6%8E%A5%E5%8D%95app/>2025-5-07 接单app设计</a></li><li><a href=/docs/2025-5-7-%E5%A5%BD%E5%BF%83%E6%80%81-app/>2025-5-07 好心态app</a></li><li><a href=/docs/2025-4-28-cursor-agent-%E6%8F%90%E7%A4%BA%E5%99%A8/>2025-4-28 cursor agent 提示器</a></li><li><a href=/docs/2025-4-16-%E8%87%AA%E7%A0%94k8s%E5%B9%B3%E5%8F%B0/>2025-4-16 自研k8s平台</a></li><li><a href=/docs/2025-4-16-sleep%E7%9D%A1%E7%9C%A0%E5%BA%94%E7%94%A8/>2025-4-16 sleep睡眠应用</a></li><li><a href=/docs/2025-4-16-paas%E8%AE%BE%E8%AE%A1/>2025-4-16 paas开发记录</a></li><li><a href=/docs/2025-4-16-cursoe-free-vip/>2025-4-16 Cursor Free VIP</a></li><li><a href=/docs/2025-4-16-boss%E7%9B%B4%E8%81%98%E8%87%AA%E5%8A%A8%E6%8A%95%E9%80%92/>2025-4-16 BOSS直聘自动投递</a></li><li><a href=/docs/2025-4-14-github%E6%8E%A8%E9%80%81/>2025-4-14 github推送</a></li><li><a href=/docs/2025-3-30-metallb/>2025-3-30 metallb</a></li><li><a href=/docs/2025-3-24-%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D/>2025-3-24 自我介绍</a></li><li><a href=/docs/2025-3-20-victoriametrics-%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84/>2025-3-20 victoriametrics高可用架构</a></li><li><a href=/docs/2025-3-20-victoriametrics%E6%9E%B6%E6%9E%84/>2025-3-20 victoriametrics 架构</a></li><li><a href=/docs/2025-3-20-victoriametrics%E5%92%8Cthanos%E5%AF%B9%E6%AF%94/ class=active>2025-3-20 VictoriaMetrics 和 Thanos 对比</a></li><li><a href=/docs/2025-3-20-thanos%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84/>2025-3-20 thanos高可用架构</a></li><li><a href=/docs/2025-3-20-thanos%E6%9E%B6%E6%9E%84/>2025-3-20 thanos架构</a></li><li><a href=/docs/2025-3-18-5w-pod%E5%8E%8B%E6%B5%8B%E5%A4%8D%E7%9B%98/>2025-3-18 5w pod压测复盘</a></li><li><a href=/docs/2025-3-14-%E7%81%AB%E5%B1%B1%E4%BA%91%E8%BF%81%E7%A7%BB%E5%B7%A5%E7%A8%8B%E5%B8%88%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95/>2025-3-14 火山云迁移工程师面试记录</a></li><li><a href=/docs/2025-3-14-vivo%E9%9D%A2%E8%AF%95/>2025-3-14 vivo面试</a></li><li><a href=/docs/2025-3-13-istio%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/>2025-3-13 istio流量分析</a></li><li><a href=/docs/2025-3-13-calico%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F%E4%B8%8B%E6%B5%81%E9%87%8F%E4%BC%A0%E8%BE%93%E8%B7%AF%E5%BE%84%E5%88%86%E6%9E%90/>2025-3-13 calico三种模式下流量传输</a></li><li><a href=/docs/2025-3-12-%E5%A1%94%E8%B5%9E%E9%9D%A2%E8%AF%95/>2025-3-12 塔赞面试</a></li><li><a href=/docs/2025-3-12-%E8%BF%BD%E8%A7%85%E9%9D%A2%E8%AF%95/>2025-3-12 追觅面试</a></li><li><a href=/docs/2025-3-8-k8s%E5%88%A0%E9%99%A4pod-deployment%E7%9A%84%E6%B5%81%E7%A8%8B%E5%9B%BE%E8%AF%A6%E8%A7%A3/>2025-3-08 k8s删除pod或deployment的流程图详解</a></li><li><a href=/docs/2025-3-8-k8s%E5%88%9B%E5%BB%BApod-deployment%E6%B5%81%E7%A8%8B%E5%9B%BE%E8%AF%A6%E8%A7%A3/>2025-3-08 k8s创建pod流程图详解</a></li><li><a href=/docs/2025-2-28-prometheus%E9%A2%98%E7%9B%AE/>2025-2-28 prometheus面试题</a></li><li><a href=/docs/2025-2-26-%E9%9D%A2%E8%AF%950225/>2025-2-25 面试0225</a></li><li><a href=/docs/2025-2-24-%E9%AB%98%E7%BA%A7%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98_ai_linux%E9%83%A8%E5%88%86/>2025-2-24 高级运维面试题-linux部分</a></li><li><a href=/docs/2025-2-24-%E4%B8%AD%E7%BA%A7%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98_%E9%A2%98%E7%9B%AE/>2025-2-24 中级运维面试题</a></li><li><a href=/docs/2025-2-24-%E9%9D%A2%E8%AF%950224/>2025-2-24 0224面试</a></li><li><a href=/docs/2025-2-20-%E9%9D%A2%E8%AF%950220/>2025-2-20 面试0220</a></li><li><a href=/docs/2025-2-19-%E9%9D%A2%E8%AF%950219/>2025-2-19 面试0219</a></li><li><a href=/docs/2025-2-18-%E9%9D%A2%E8%AF%95/>2025-2-18 面试2025-0218</a></li><li><a href=/docs/2025-2-26-k8s%E7%9B%B8%E5%85%B3/>2025-2-16 k8s题目</a></li><li><a href=/docs/2025-2-12-%E9%9D%A2%E8%AF%950212/>2025-2-12 面试0212</a></li><li><a href=/docs/2025-2-11-%E9%9D%A2%E8%AF%950211/>2025-2-11 面试2025-02-11</a></li><li><a href=/docs/2025-2-7-%E8%AE%A1%E5%88%922/>2025-2-07 美国码农计划</a></li><li><a href=/docs/2025-2-7-%E8%AE%A1%E5%88%92/>2025-2-07 美国码农薪酬</a></li><li><a href=/docs/2025-2-7-k8s%E7%BB%84%E4%BB%B6/>2025-2-07 k8s组件</a></li><li><a href=/docs/2025-1-16-k8s%E5%B8%B8%E8%A7%81%E6%95%85%E9%9A%9C%E6%8C%87%E5%8D%97/>2025-1-16 k8s常见故障指南</a></li><li><a href=/docs/2025-1-1-%E8%A6%81%E4%B8%8D%E8%A6%81%E5%88%9B%E4%B8%9A/>2025-1-1 要不要创业</a></li><li><a href=/docs/2025-1-1-%E6%97%A9%E6%9C%9F%E6%A8%A1%E5%BC%8F/>2025-1-1 早期模式</a></li><li><a href=/docs/2025-1-1-%E5%A4%A7%E5%A0%B0%E6%B2%B3-%E6%88%91%E7%9A%84%E4%BF%9D%E5%A7%86/>2025-1-1 大堰河-我的保姆</a></li><li><a href=/docs/2025-1-1-%E5%88%9D%E5%88%9B%E5%85%AC%E5%8F%B8/>2025-1-1 初创公司</a></li><li><a href=/docs/2025-1-1-%E5%88%9B%E4%B8%9A%E8%80%85%E4%BA%A4%E6%B5%81/>2025-1-1 创业者交流</a></li><li><a href=/docs/2025-1-1-%E5%88%9B%E4%B8%9A%E7%82%B9%E5%AD%90/>2025-1-1 创业点子</a></li><li><a href=/docs/2025-1-1-sealos%E8%8E%B7%E6%8A%95/>2025-1-1 sealos获投</a></li><li><a href=/docs/2024-12-10-docker-registrry/>2024-12-10 docker registrry</a></li><li><a href=/docs/2024-12-09-openstack-ssh%E8%BF%9E%E6%8E%A5/>2024-12-09 openstack ssh连接</a></li><li><a href=/docs/2024-12-08-mutilpass%E9%83%A8%E7%BD%B2openstack/>2024-12-09 mutilpass部署openstack devstack形式</a></li><li><a href=/docs/2024-12-09-helmchart-%E9%83%A8%E7%BD%B2flask%E5%BA%94%E7%94%A8/>2024-12-09 helmchart 部署flask应用</a></li><li><a href=/docs/2024-12-09-docker-daemon.json/>2024-12-09 docker daemon.json</a></li><li><a href=/docs/2024-12-08-%E5%9D%97%E5%AD%98%E5%82%A8%E5%92%8C%E5%AF%B9%E8%B1%A1%E5%82%A8%E5%AD%98%E5%8C%BA%E5%88%AB/>2024-12-08 块存储和对象储存区别</a></li><li><a href=/docs/2024-12-08-openstack%E9%9C%80%E8%A6%81%E5%87%A0%E5%8F%B0%E8%99%9A%E6%8B%9F%E6%9C%BA/>2024-12-08 openstack需要几台虚拟机</a></li><li><a href=/docs/2024-12-08-openstack%E5%92%8Ckubernetes%E5%8C%BA%E5%88%AB/>2024-12-08 openstack和kubernetes区别</a></li><li><a href=/docs/2024-12-08-nano%E6%93%8D%E4%BD%9C/>2024-12-08 nano操作</a></li><li><a href=/docs/2024-12-08-mutilpass%E6%93%8D%E4%BD%9C/>2024-12-08 mutilpass操作</a></li><li><a href=/docs/2024-12-08-devstack/>2024-12-08 devstack</a></li><li><a href=/docs/2024-12-07-microk8s/>2024-12-07 microk8s</a></li><li><a href=/docs/2024-12-05-kubeasz%E9%83%A8%E7%BD%B2k8s/>2024-12-05 kubeasz部署k8s</a></li><li><a href=/docs/2024-10-20-%E5%88%9B%E5%BB%BA%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4/>2024-10-20 使用 Keepalived 和 HAproxy 创建高可用 Kubernetes 集群</a></li><li><a href=/docs/%E9%A1%B6%E7%BA%A7devops%E5%B7%A5%E5%85%B7%E5%A4%A7%E7%9B%98%E7%82%B9-ding-ji-devops-gong-ju-da-pan-dian/>2024-08-02 顶级devops工具大盘点</a></li><li><a href=/docs/%E6%B8%85%E7%90%86docker%E9%95%9C%E5%83%8F-qing-li-docker-jing-xiang/>2024-08-02 清理docker镜像</a></li><li><a href=/docs/%E6%9E%84%E5%BB%BA%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E5%88%A9%E5%99%A8buildkit-gou-jian-rong-qi-jing-xiang-li-qi-buildkit/>2024-08-02 构建容器镜像利器buildkit</a></li><li><a href=/docs/%E6%98%AF%E6%8A%80%E6%9C%AF%E5%A4%A7%E7%A5%9E%E8%BF%98%E6%98%AF%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84%E9%83%A8%E7%9A%84%E7%A5%B8%E5%AE%B3-shi-ji-shu-da-shen-hai-shi-ji-chu-jia-gou-bu-de-huo-hai/>2024-08-02 是技术大神还是基础架构部的祸害</a></li><li><a href=/docs/%E6%90%AD%E4%B8%AA%E6%97%A5%E5%BF%97%E6%89%8B%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%8D%E9%A6%99%E5%90%97-da-ge-ri-zhi-shou-ji-xi-tong-bu-xiang-ma/>2024-08-02 搭个日志手机系统不香吗</a></li><li><a href=/docs/%E6%88%91%E5%8F%AA%E6%83%B3%E5%81%9A%E6%8A%80%E6%9C%AF-%E8%B5%B0%E6%8A%80%E6%9C%AF%E8%B7%AF%E7%BA%BF-wo-zhi-xiang-zuo-ji-shu-zou-ji-shu-lu-xian/>2024-08-02 我只想做技术 走技术路线</a></li><li><a href=/docs/%E5%B8%B8%E8%A7%81linux%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98-chang-jian-linux-yun-wei-mian-shi-ti/>2024-08-02 常见linux运维面试题</a></li><li><a href=/docs/%E5%A4%A7%E5%8E%82%E6%80%BB%E7%BB%93nginx%E9%AB%98%E5%B9%B6%E5%8F%91%E4%BC%98%E5%8C%96%E7%AC%94%E8%AE%B0-da-chang-zong-jie-nginx-gao-bing-fa-you-hua-bi-ji/>2024-08-02 大厂总结nginx高并发优化笔记</a></li><li><a href=/docs/%E5%8F%B2%E4%B8%8A%E6%9C%80%E7%89%9Bjenkins-pipeline%E6%B5%81%E6%B0%B4%E7%BA%BF%E8%AF%A6%E8%A7%A3-shi-shang-zui-niu-jenkinspipeline-liu-shui-xian-xiang-jie/>2024-08-02 史上最牛jenkins pipeline流水线详解</a></li><li><a href=/docs/teg%E4%B8%8Eistio%E9%9B%86%E6%88%90-teg-yu-istio-ji-cheng/>2024-08-02 TEG与istio集成</a></li><li><a href=/docs/prometheus-stack-prometheus-stack/>2024-08-02 prometheus-stack</a></li><li><a href=/docs/pixie-pixie/>2024-08-02 pixie</a></li><li><a href=/docs/nginx%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E6%83%8A%E7%BE%A4%E6%95%88%E5%BA%94-nginx-ru-he-jie-jue-jing-qun-xiao-ying/>2024-08-02 nginx如何解决惊群效应</a></li><li><a href=/docs/netctl%E6%A3%80%E6%B5%8B%E9%9B%86%E7%BE%A4pod%E9%97%B4%E8%BF%9E%E9%80%9A%E6%80%A7-netctl-jian-ce-ji-qun-pod-jian-lian-tong-xing/>2024-08-02 netctl检测集群pod间连通性</a></li><li><a href=/docs/linux%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%8850%E4%B8%AA%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98-linux-yun-wei-gong-cheng-shi-50-ge-chang-jian-mian-shi-ti/>2024-08-02 linux运维工程师50个常见面试题</a></li><li><a href=/docs/linux%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E4%B8%83%E4%B8%AA%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C-linux-xi-tong-xing-neng-you-hua-qi-ge-shi-zhan-jing-yan/>2024-08-02 linux系统性能优化 七个实战经验</a></li><li><a href=/docs/linux-awk%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%99%A8-8%E4%B8%AA%E6%A1%88%E4%BE%8B-linuxawk-wen-ben-chu-li-qi-8-ge-an-li/>2024-08-02 linux awk文本处理器 8个案例</a></li><li><a href=/docs/kubewharf-kubewharf/>2024-08-02 kubewharf</a></li><li><a href=/docs/kruise%E5%8E%9F%E5%9C%B0%E5%8D%87%E7%BA%A7%E8%A7%A3%E6%9E%90-kruise-yuan-de-sheng-ji-jie-xi/>2024-08-02 kruise原地升级解析</a></li><li><a href=/docs/k8s%E9%9D%A2%E8%AF%95%E9%A2%98-k8s-mian-shi-ti/>2024-08-02 K8S面试题</a></li><li><a href=/docs/k8s%E8%83%8C%E5%90%8Eservice%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84-k8s-bei-hou-service-shi-ru-he-gong-zuo-de/>2024-08-02 k8s背后service是如何工作的</a></li><li><a href=/docs/k8s%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E5%9D%97%E6%8B%BC%E5%9B%BE-dbpaas-k8s-de-zui-hou-yi-kuai-pin-tu-dbpaas/>2024-08-02 K8S的最后一块拼图</a></li><li><a href=/docs/istio%E9%83%A8%E7%BD%B2-istio-bu-shu/>2024-08-02 istio部署</a></li><li><a href=/docs/istio-ingress-gateway-istio-ingress-gateway/>2024-08-02 istio-ingress-gateway</a></li><li><a href=/docs/godel-scheduler-godel-scheduler/>2024-08-02 godel-scheduler</a></li><li><a href=/docs/dockerfile%E5%AE%9A%E5%88%B6%E4%B8%93%E5%B1%9E%E9%95%9C%E5%83%8F-dockerfile-ding-zhi-zhuan-shu-jing-xiang/>2024-08-02 dockerfile定制专属镜像</a></li><li><a href=/docs/33%E6%AC%BEgitops%E4%B8%8Edevops%E4%B8%BB%E6%B5%81%E7%B3%BB%E7%BB%9F-33-kuan-gitops-yu-devops-zhu-liu-xi-tong/>2024-08-02 33款gitops与devops主流系统</a></li><li><a href=/docs/2024-8-1-linux%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%8850%E4%B8%AA%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/>2024-08-01 linux面试题</a></li><li><a href=/docs/2024-8-1-%E5%B8%B8%E8%A7%81linux%E8%BF%90%E7%BB%B4%E9%9D%A2%E8%AF%95%E9%A2%98%E6%89%BE%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%BF%85%E7%9C%8B/>2024-08-01 linux运维面试题</a></li><li><a href=/docs/2024-8-1-kubernetes%E9%9D%A2%E8%AF%95%E9%A2%98/>2024-08-01 k8s面试题</a></li><li><a href=/docs/openkruise%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A%E4%BB%A5%E5%8F%8A%E5%8E%9F%E5%9C%B0%E5%8D%87%E7%BA%A7%E5%8F%8A%E5%85%A8%E9%93%BE%E8%B7%AF%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83%E6%96%B9%E6%A1%88-openkruise-xiang-xi-jie-shi-yi-ji-yuan-de-sheng-ji-ji-quan-lian-lu-hui-du-fa-bu-fang-an/>2024-07-22 OpenKruise详细解释以及原地升级及全链路灰度发布方案</a></li><li><a href=/docs/k8s%E4%B9%8Bingress-nginx%E5%8E%9F%E7%90%86%E5%8F%8A%E9%85%8D%E7%BD%AE-k8s-zhi-ingress-nginx-yuan-li-ji-pei-zhi/>2024-07-05 K8S之ingress-nginx原理及配置</a></li><li><a href=/docs/%E4%BD%BF%E7%94%A8cloudflarecf%E6%90%AD%E5%BB%BAdockerhub%E4%BB%A3%E7%90%86-shi-yong-cloudflarecf-da-jian-dockerhub-dai-li/>2024-06-28 使用cloudflare(CF)搭建dockerhub代理</a></li><li><a href=/docs/2024-5-14-%E5%8D%95master%E5%8D%95etcd%E6%94%B9%E9%80%A0/>2024-05-01 单master单etcd改造为3master3etcd</a></li><li><a href=/docs/2024-4-17-%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/>2024-04-17 面试总结</a></li><li><a href=/docs/%E5%A6%82%E4%BD%95%E4%B8%BAk8s%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA-ru-he-wei-k8s-bao-jia-hu-hang/>2024-04-16 如何为K8S保驾护航</a></li><li><a href=/docs/k8s%E5%A6%82%E4%BD%95%E8%8E%B7%E5%BE%97-ip-k8s-ru-he-huo-de-ip/>2024-04-16 K8S如何获得 IP</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_setgo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulsetgo-yuan-ma-jie-du/>2024-04-10 K8S控制器之stateful_set.go源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_set_status_updatego%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulsetstatusupdatego-yuan-ma-jie-du/>2024-04-10 K8S控制器之stateful_set_status_update.go源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_set_controlgo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulsetcontrolgo-yuan-ma-jie-du/>2024-04-10 K8S控制器之stateful_set_control.go源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bstateful_pod_controlgo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-statefulpodcontrolgo-yuan-ma-jie-du/>2024-04-10 K8S控制器之stateful_pod_control.go源码解读</a></li><li><a href=/docs/k8s%E8%B0%83%E5%BA%A6%E5%99%A8-extendergo-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-diao-du-qi-extendergo-yuan-ma-jie-du/>2024-04-09 K8S调度器 extender.go 源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Bsyncgo-%E5%90%8C%E6%AD%A5-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-syncgo-tong-bu-yuan-ma-jie-du/>2024-04-09 K8S控制器之sync.go 同步 源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Brollbackgo-%E5%9B%9E%E6%BB%9A-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-rollbackgo-hui-gun-yuan-ma-jie-du/>2024-04-09 K8S控制器之rollback.go 回滚 源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8Brecreatego-%E9%87%8D%E5%BB%BA-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-recreatego-zhong-jian-yuan-ma-jie-du/>2024-04-09 K8S控制器之recreate.go 重建 源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-schedulergo-%E8%B0%83%E5%BA%A6%E5%99%A8-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-schedulergo-diao-du-qi-yuan-ma-jie-du/>2024-04-09 K8S控制器之 scheduler.go 调度器 源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-rollinggo-%E6%BB%9A%E5%8A%A8%E6%9B%B4%E6%96%B0-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-rollinggo-gun-dong-geng-xin-yuan-ma-jie-du/>2024-04-09 K8S控制器之 rolling.go 滚动更新 源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-progressgo-%E8%BF%9B%E5%BA%A6-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-progressgo-jin-du-yuan-ma-jie-du/>2024-04-09 K8S控制器之 progress.go 进度 源码解读</a></li><li><a href=/docs/k8s%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B9%8B-deployment_controllergo%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-kong-zhi-qi-zhi-deploymentcontrollergo-yuan-ma-jie-du/>2024-04-09 K8S控制器之 deployment_controller.go源码解读</a></li><li><a href=/docs/k8s-%E8%B0%83%E5%BA%A6%E5%99%A8-scheduler_onego-%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-diao-du-qi-scheduleronego-yuan-ma-jie-du/>2024-04-09 K8S 调度器 scheduler_one.go 源码解读</a></li><li><a href=/docs/%E5%BD%BB%E6%82%9F%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C-che-wu-rong-qi-wang-luo/>2024-04-07 彻悟容器网络</a></li><li><a href=/docs/%E9%9D%A2%E8%AF%95%E7%94%A8-golang-%E6%89%8B%E6%92%B8-lru-mian-shi-yong-golang-shou-lu-lru/>2024-04-03 面试用 Golang 手撸 LRU</a></li><li><a href=/docs/%E8%87%AA%E5%8A%A8%E5%B1%8F%E8%94%BDip%E6%94%BB%E5%87%BB-zi-dong-ping-bi-ip-gong-ji/>2024-04-03 自动屏蔽IP攻击</a></li><li><a href=/docs/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85kubephere-li-xian-an-zhuang-kubephere/>2024-04-03 离线安装kubephere</a></li><li><a href=/docs/%E7%A3%81%E7%9B%98%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D-ci-pan-shu-ju-hui-fu/>2024-04-03 磁盘数据恢复</a></li><li><a href=/docs/%E6%B8%85%E7%90%86%E6%AE%8B%E7%95%99%E7%9A%84calico%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6-qing-li-can-liu-de-calico-wang-luo/>2024-04-03 清理残留的calico网络插件</a></li><li><a href=/docs/%E6%B5%81%E9%87%8F%E4%BD%95%E5%A4%84%E6%9D%A5%E4%BD%95%E5%A4%84%E5%8E%BB-liu-liang-he-chu-lai-he-chu-qu/>2024-04-03 流量何处来何处去</a></li><li><a href=/docs/%E6%9E%81%E5%A4%A7%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84-linux-%E5%91%BD%E4%BB%A4-ji-da-ti-gao-gong-zuo-xiao-lv-de-linux-ming-ling/>2024-04-03 极大提高工作效率的 Linux 命令</a></li><li><a href=/docs/%E6%96%87%E5%AD%A6%E7%9A%84%E6%95%85%E4%B9%A1-wen-xue-de-gu-xiang/>2024-04-03 文学的故乡</a></li><li><a href=/docs/%E6%90%9E%E6%87%82k8s%E9%89%B4%E6%9D%83-gao-dong-k8s-jian-quan/>2024-04-03 搞懂K8S鉴权</a></li><li><a href=/docs/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-rong-qi-wang-luo-yuan-li/>2024-04-03 容器网络原理</a></li><li><a href=/docs/%E5%AE%B9%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%80-overlayfs-%E5%8E%9F%E7%90%86-rong-qi-de-wen-jian-xi-tong--yi-overlayfs-yuan-li/>2024-04-03 容器的文件系统 OverlayFS 原理</a></li><li><a href=/docs/%E5%AE%B9%E5%99%A8%E5%8E%9F%E7%90%86-rong-qi-yuan-li/>2024-04-03 容器原理</a></li><li><a href=/docs/%E5%AE%B9%E5%99%A8%E5%86%85%E7%9A%84-1-%E5%8F%B7%E8%BF%9B%E7%A8%8B-rong-qi-nei-de-1-hao-jin-cheng/>2024-04-03 容器内的 1 号进程</a></li><li><a href=/docs/%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E4%BB%A5%E5%8F%8A%E4%B8%8D%E5%90%8Cdnspolicy%E5%AF%B9%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%9A%84%E5%BD%B1%E5%93%8D-rong-qi-zhong-yu-ming-jie-xi-yi-ji-bu-tong-dnspolicy-dui-yu-ming-jie-xi-de-ying-xiang/>2024-04-03 容器中域名解析以及不同dnspolicy对域名解析的影响</a></li><li><a href=/docs/%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95-crash-%E5%AE%B9%E5%99%A8%E7%9A%84%E7%BD%91%E7%BB%9C-ru-he-diao-shi-crash-rong-qi-de-wang-luo/>2024-04-03 如何调试 crash 容器的网络</a></li><li><a href=/docs/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8tekton%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAcicd%E5%B9%B3%E5%8F%B0-ru-he-shi-yong-tekton-kuai-su-da-jian-cicd-ping-tai/>2024-04-03 如何使用tekton快速搭建CI/CD平台</a></li><li><a href=/docs/%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%B9%B6%E5%8F%91%E4%B8%8B%E5%A6%82%E4%BD%95%E5%8A%A0%E5%BF%AB-pod-%E5%90%AF%E5%8A%A8%E9%80%9F%E5%BA%A6-da-gui-mo-bing-fa-xia-ru-he-jia-kuai-pod-qi-dong-su-du/>2024-04-03 大规模并发下如何加快 Pod 启动速度</a></li><li><a href=/docs/%E4%BD%BF%E7%94%A8kubernees-leases-%E8%BD%BB%E6%9D%BE%E5%AE%9E%E7%8E%B0leader-election-shi-yong-kuberneesleases-qing-song-shi-xian-leaderelection/>2024-04-03 使用kubernees leases 轻松实现leader election</a></li><li><a href=/docs/%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%83%A8%E7%BD%B2k8s%E5%8A%A0%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C-er-jin-zhi-bu-shu-k8s-jia-jie-dian-cao-zuo/>2024-04-03 二进制部署K8S加节点操作</a></li><li><a href=/docs/%E4%B8%A4%E5%BC%A0%E5%9B%BE%E5%85%A8%E9%9D%A2%E7%90%86%E8%A7%A3k8s%E5%8E%9F%E7%90%86-liang-zhang-tu-quan-mian-li-jie-k8s-yuan-li/>2024-04-03 两张图全面理解K8S原理</a></li><li><a href=/docs/ssl%E8%AF%81%E4%B9%A6%E8%87%AA%E7%AD%BE%E5%8F%91-ssl-zheng-shu-zi-qian-fa/>2024-04-03 ssl证书自签发</a></li><li><a href=/docs/prometheus%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9B%91%E6%8E%A7%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93-prometheus-qi-ye-ji-jian-kong-shi-yong-zong-jie/>2024-04-03 prometheus企业级监控使用总结</a></li><li><a href=/docs/metallb-l2-%E5%8E%9F%E7%90%86-metallbl2-yuan-li/>2024-04-03 MetalLB L2 原理</a></li><li><a href=/docs/linux-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%A4%A7%E5%85%A8-linux-xing-neng-you-hua-da-quan/>2024-04-03 Linux 性能优化大全</a></li><li><a href=/docs/kubernetes-%E8%AF%81%E4%B9%A6%E8%AF%A6%E8%A7%A3%E9%89%B4%E6%9D%83-kubernetes-zheng-shu-xiang-jie--jian-quan-/>2024-04-03 Kubernetes 证书详解(鉴权)</a></li><li><a href=/docs/kubernetes-%E8%AF%81%E4%B9%A6%E8%AF%A6%E8%A7%A3%E8%AE%A4%E8%AF%81-kubernetes-zheng-shu-xiang-jie--ren-zheng-/>2024-04-03 Kubernetes 证书详解(认证)</a></li><li><a href=/docs/kubernetes-%E6%BA%90%E7%A0%81%E7%BB%93%E6%9E%84-kubernetes-yuan-ma-jie-gou/>2024-04-03 Kubernetes 源码结构</a></li><li><a href=/docs/kubernetes-api-kubernetesapi/>2024-04-03 Kubernetes API</a></li><li><a href=/docs/kubekey%E6%B7%BB%E5%8A%A0%E6%96%B0%E8%8A%82%E7%82%B9-kubekey-tian-jia-xin-jie-dian/>2024-04-03 kubekey添加新节点</a></li><li><a href=/docs/k8s%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8-k8s-mian-shi-bao-dian/>2024-04-03 K8S面试宝典</a></li><li><a href=/docs/k8s%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8-k8s-mian-shi-da-quan/>2024-04-03 K8S面试大全</a></li><li><a href=/docs/k8s%E8%BF%90%E7%BB%B4%E4%B9%8B%E6%B8%85%E7%90%86%E7%A3%81%E7%9B%98-k8s-yun-wei-zhi-qing-li-ci-pan/>2024-04-03 k8s运维之清理磁盘</a></li><li><a href=/docs/k8s%E8%B0%83%E8%AF%95pod-k8s-diao-shi-pod/>2024-04-03 K8S调试POD</a></li><li><a href=/docs/k8s%E7%9A%84pod%E7%B1%BB%E5%9E%8B-k8s-de-pod-lei-xing/>2024-04-03 K8S的POD类型</a></li><li><a href=/docs/k8s%E5%BA%94%E7%94%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-k8s-ying-yong-de-zui-jia-shi-jian/>2024-04-03 k8s应用的最佳实践</a></li><li><a href=/docs/k8s%E5%91%BD%E4%BB%A4%E6%8C%87%E5%8D%97-k8s-ming-ling-zhi-nan/>2024-04-03 K8S命令指南</a></li><li><a href=/docs/k8s%E5%8E%9F%E5%9C%B0%E5%8D%87%E7%BA%A7-k8s-yuan-de-sheng-ji/>2024-04-03 K8S原地升级</a></li><li><a href=/docs/k8s-%E6%8E%A2%E9%92%88%E5%8E%9F%E7%90%86-k8s-tan-zhen-yuan-li/>2024-04-03 K8S 探针原理</a></li><li><a href=/docs/k8s-%E5%BC%80%E5%8F%91%E5%8F%AF%E4%B8%8D%E6%AD%A2-crud-k8s-kai-fa-ke-bu-zhi-crud/>2024-04-03 K8S 开发可不止 CRUD</a></li><li><a href=/docs/k8s-gpt-k8sgpt/>2024-04-03 K8S GPT</a></li><li><a href=/docs/k8s-csi-openebs%E5%8E%9F%E7%90%86-k8scsiopenebs-yuan-li/>2024-04-03 K8S csi openebs原理</a></li><li><a href=/docs/helm-chart%E5%92%8Crepo-helmchart-he-repo/>2024-04-03 helm chart和repo</a></li><li><a href=/docs/flanel%E7%BD%91%E7%BB%9C-flanel-wang-luo/>2024-04-03 flanel网络</a></li><li><a href=/docs/etcd%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E8%B7%B5-etcd-wen-ding-xing-ji-xing-neng-you-hua-shi-jian/>2024-04-03 ETCD稳定性及性能优化实践</a></li><li><a href=/docs/etcd%E5%A4%87%E4%BB%BD-etcd-bei-fen/>2024-04-03 ETCD备份</a></li><li><a href=/docs/docker%E9%87%8D%E8%A6%81%E7%9A%84%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9-docker-zhong-yao-de-wang-luo-zhi-shi-dian/>2024-04-03 Docker重要的网络知识点</a></li><li><a href=/docs/dockerfile%E7%9A%84copy%E5%92%8Cadd%E7%9A%84%E5%8C%BA%E5%88%AB-dockerfile-de-copy-he-add-de-qu-bie/>2024-04-03 dockerfile的copy和add的区别</a></li><li><a href=/docs/coredns%E4%B9%8B%E5%85%89-coredns-zhi-guang/>2024-04-03 COREDNS之光</a></li><li><a href=/docs/containerd-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-containerd-ji-ben-cao-zuo/>2024-04-03 Containerd 基本操作</a></li><li><a href=/docs/cni%E6%8F%92%E4%BB%B6%E9%80%89%E5%9E%8B-cni-cha-jian-xuan-xing/>2024-04-03 CNI插件选型</a></li><li><a href=/docs/client-go-%E6%9E%B6%E6%9E%84-client-go-jia-gou/>2024-04-03 Client-go 架构</a></li><li><a href=/docs/client-go-%E5%9B%9B%E7%A7%8D%E5%AE%A2%E6%88%B7%E7%AB%AF-client-go-si-zhong-ke-hu-duan/>2024-04-03 Client-go 四种客户端</a></li><li><a href=/docs/cicd%E6%80%9D%E8%80%83-cicd-si-kao/>2024-04-03 CICD思考</a></li><li><a href=/docs/calico%E7%BD%91%E7%BB%9C%E8%87%AA%E5%AE%9A%E4%B9%89-calico-wang-luo-zi-ding-yi/>2024-04-03 Calico网络自定义</a></li><li><a href=/docs/acme%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E8%AF%81%E4%B9%A6-acme-zi-dong-geng-xin-zheng-shu/>2024-04-03 acme自动更新证书</a></li><li><a href=/docs/16%E4%B8%AA%E6%A6%82%E5%BF%B5%E5%B8%A6%E4%BD%A0%E5%85%A5%E9%97%A8-kubernetes-16-ge-gai-nian-dai-ni-ru-men-kubernetes/>2024-04-03 16个概念带你入门 Kubernetes</a></li><li><a href=/docs/%E9%9D%A2%E8%AF%950308-mian-shi-0308/>2024-04-03 面试0308</a></li><li><a href=/docs/600%E6%9D%A1%E6%9C%80%E5%BC%BAlinux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93-600-tiao-zui-qiang-linux-ming-ling-zong-jie/>2024-04-03 600条最强linux命令总结</a></li><li><a href=/docs/16%E5%BC%A0%E7%A1%AC%E6%A0%B8%E5%9B%BE%E8%A7%A3k8s%E7%BD%91%E7%BB%9C-16-zhang-ying-he-tu-jie-k8s-wang-luo/>2024-04-03 16张硬核图解k8s网络</a></li><li><a href=/docs/k8s%E4%B9%8Bkubelet%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-k8s-zhi-kubelet-yuan-ma-jie-du/>2024-03-28 k8s之kubelet源码解读</a></li><li><a href=/docs/2024-3-19-%E4%B8%A4%E5%BC%A0%E5%9B%BE%E5%85%A8%E9%9D%A2%E7%90%86%E8%A7%A3k8s%E5%8E%9F%E7%90%86/>2024-03-19 两张图全面理解k8s原理</a></li><li><a href=/docs/2024-3-8-%E9%9D%A2%E8%AF%950308/>2024-03-08 面试</a></li><li><a href=/docs/2024-3-4-k8s%E6%B5%81%E9%87%8F%E9%93%BE%E8%B7%AF%E5%89%96%E6%9E%90/>2024-03-04 k8s流量链路剖析</a></li><li><a href=/docs/k8s-%E6%B5%81%E9%87%8F%E9%93%BE%E8%B7%AF%E5%89%96%E6%9E%90-k8s-liu-liang-lian-lu-pou-xi/>2024-03-04 K8S 流量链路剖析</a></li><li><a href=/docs/k8s-csi%E5%89%96%E6%9E%90%E6%BC%94%E8%BF%9B-k8scsi-pou-xi-yan-jin/>2024-03-04 K8S CSI剖析演进</a></li><li><a href=/docs/k8s-cni%E5%89%96%E6%9E%90%E6%BC%94%E8%BF%9B-k8scni-pou-xi-yan-jin/>2024-03-04 K8S CNI剖析演进</a></li><li><a href=/docs/2024-3-4-k8s-csi%E5%89%96%E6%9E%90/>2024-03-04 CSI剖析演进</a></li><li><a href=/docs/2024-3-4-cni%E5%89%96%E6%9E%90%E6%BC%94%E8%BF%9B/>2024-03-04 CNI剖析演进</a></li><li><a href=/docs/2024-2-26-%E9%9D%A2%E8%AF%95/>2024-02-26 面试</a></li><li><a href=/docs/2024-2-22-k8s%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/>2024-02-22 k8s面试宝典</a></li><li><a href=/docs/2024-2-22-k8s%E6%9E%B6%E6%9E%84%E5%B8%88%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8/>2024-02-22 k8s架构师面试大全</a></li><li><a href=/docs/%E4%BD%BF%E7%94%A8-openfunction-%E5%9C%A8%E4%BB%BB%E4%BD%95%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E4%B8%8A%E8%BF%90%E8%A1%8C%E6%97%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%A5%E4%BD%9C%E8%B4%9F%E8%BD%BD-shi-yong-openfunction-zai-ren-he-ji-chu-she-shi-shang-yun-xing-wu-fu-wu-qi-gong-zuo-fu-zai/>2024-01-21 使用 OpenFunction 在任何基础设施上运行无服务器工作负载</a></li><li><a href=/docs/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E9%9B%86%E7%BE%A4-li-xian-an-zhuang-ji-qun/>2023-09-28 离线安装集群</a></li><li><a href=/docs/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%B4%E6%98%8E-cao-zuo-xi-tong-shuo-ming/>2023-09-28 操作系统说明</a></li><li><a href=/docs/%E5%BF%AB%E9%80%9F%E6%8C%87%E5%8D%97-kuai-su-zhi-nan/>2023-09-28 快速指南</a></li><li><a href=/docs/%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8-cilium-kai-shi-shi-yong-cilium/>2023-09-28 开始使用 cilium</a></li><li><a href=/docs/%E5%A4%9A%E6%9E%B6%E6%9E%84%E6%94%AF%E6%8C%81-duo-jia-gou-zhi-chi/>2023-09-28 多架构支持</a></li><li><a href=/docs/%E5%85%AC%E6%9C%89%E4%BA%91%E4%B8%8A%E9%83%A8%E7%BD%B2-kubeasz-gong-you-yun-shang-bu-shu-kubeasz/>2023-09-28 公有云上部署</a></li><li><a href=/docs/%E4%B8%AA%E6%80%A7%E5%8C%96%E9%9B%86%E7%BE%A4%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE-ge-xing-hua-ji-qun-can-shu-pei-zhi/>2023-09-28 个性化集群参数配置</a></li><li><a href=/docs/network-check-network-check/>2023-09-28 network-check</a></li><li><a href=/docs/kube-router-%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-kube-router-wang-luo-zu-jian/>2023-09-28 kube-router 网络组件</a></li><li><a href=/docs/ezctl-%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%BB%8B%E7%BB%8D-ezctl-ming-ling-xing-jie-shao/>2023-09-28 ezctl 命令行介绍</a></li><li><a href=/docs/ex-lb-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%83%A8%E7%BD%B2-ex-lb-fu-zai-jun-heng-bu-shu/>2023-09-28 EX-LB 负载均衡部署</a></li><li><a href=/docs/calico-%E9%85%8D%E7%BD%AE-bgp-route-reflectors-calico-pei-zhi-bgproutereflectors/>2023-09-28 calico 配置 BGP Route Reflectors</a></li><li><a href=/docs/07-%E5%AE%89%E8%A3%85%E9%9B%86%E7%BE%A4%E4%B8%BB%E8%A6%81%E6%8F%92%E4%BB%B6-07--an-zhuang-ji-qun-zhu-yao-cha-jian/>2023-09-28 15:26:42.651 07-安装集群主要插件</a></li><li><a href=/docs/08-k8s-%E9%9B%86%E7%BE%A4%E5%AD%98%E5%82%A8--k8s-ji-qun-cun-chu/>2023-09-28 08-K8S 集群存储</a></li><li><a href=/docs/06-%E5%AE%89%E8%A3%85%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-wang-luo-zu-jian/>2023-09-28 06-安装网络组件</a></li><li><a href=/docs/06-%E5%AE%89%E8%A3%85kube-ovn%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-kube-ovn-wang-luo-zu-jian/>2023-09-28 06-安装kube-ovn网络组件</a></li><li><a href=/docs/06-%E5%AE%89%E8%A3%85flannel%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-flannel-wang-luo-zu-jian/>2023-09-28 06-安装flannel网络组件</a></li><li><a href=/docs/06-%E5%AE%89%E8%A3%85cilium%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-cilium-wang-luo-zu-jian/>2023-09-28 06-安装cilium网络组件</a></li><li><a href=/docs/06-%E5%AE%89%E8%A3%85calico%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6-06--an-zhuang-calico-wang-luo-zu-jian/>2023-09-28 06-安装calico网络组件</a></li><li><a href=/docs/02-%E5%AE%89%E8%A3%85etcd%E9%9B%86%E7%BE%A4-02--an-zhuang-etcd-ji-qun/>2023-09-28 02-安装etcd集群</a></li><li><a href=/docs/00-%E9%9B%86%E7%BE%A4%E8%A7%84%E5%88%92%E5%92%8C%E5%9F%BA%E7%A1%80%E5%8F%82%E6%95%B0%E8%AE%BE%E5%AE%9A-00--ji-qun-gui-hua-he-ji-chu-can-shu-she-ding/>2023-09-28 00-集群规划和基础参数设定</a></li><li><a href=/docs/05-%E5%AE%89%E8%A3%85kube_node%E8%8A%82%E7%82%B9-05--an-zhuang-kubenode-jie-dian/>2023-09-28 05-安装kube_node节点</a></li><li><a href=/docs/04-%E5%AE%89%E8%A3%85kube_master%E8%8A%82%E7%82%B9-04--an-zhuang-kubemaster-jie-dian/>2023-09-28 04-安装kube_master节点</a></li><li><a href=/docs/03-%E5%AE%89%E8%A3%85%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6-03--an-zhuang-rong-qi-yun-xing-shi/>2023-09-28 03-安装容器运行时</a></li><li><a href=/docs/01-%E5%88%9B%E5%BB%BA%E8%AF%81%E4%B9%A6%E5%92%8C%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87-01--chuang-jian-zheng-shu-he-huan-jing-zhun-bei/>2023-09-28 01-创建证书和环境准备</a></li><li><a href=/docs/%E6%9C%89%E8%BF%993%E4%B8%AA%E8%BF%B9%E8%B1%A1%E4%BD%A0%E5%B0%B1%E8%AF%A5%E7%A6%BB%E8%81%8C%E4%BA%86-you-zhe-3-ge-ji-xiang--ni-jiu-gai-li-zhi-le/>2023-09-21 思考</a></li><li><a href=/docs/%E4%BD%BF%E7%94%A8-keepalived-%E5%92%8C-haproxy-%E5%88%9B%E5%BB%BA%E9%AB%98%E5%8F%AF%E7%94%A8-kubernetes-%E9%9B%86%E7%BE%A4-shi-yong-keepalived-he-haproxy-chuang-jian-gao-ke-yong-kubernetes-ji-qun/>2023-04-12 使用 Keepalived 和 HAproxy 创建高可用 Kubernetes 集群</a></li><li><a href=/docs/2025-4-20-%E6%80%A7%E5%90%8C%E6%84%8Fapp/>2025 4 20 性同意app</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>2025-3-20 VictoriaMetrics 和 Thanos 对比</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#victoriametrics-和-thanos-对比>VictoriaMetrics 和 Thanos 对比</a></li><li><a href=#1-功能对比>1. <strong>功能对比</strong></a></li><li><a href=#2-架构对比>2. <strong>架构对比</strong></a></li><li><a href=#3-性能对比>3. <strong>性能对比</strong></a></li><li><a href=#4-存储机制对比>4. <strong>存储机制对比</strong></a></li><li><a href=#5-使用场景对比>5. <strong>使用场景对比</strong></a></li><li><a href=#6-优缺点总结>6. <strong>优缺点总结</strong></a></li><li><a href=#victoriametrics-与-thanos-对比>VictoriaMetrics 与 Thanos 对比</a></li><li><a href=#1-架构对比>1. <strong>架构对比</strong></a></li><li><a href=#2-数据存储和查询能力对比>2. <strong>数据存储和查询能力对比</strong></a></li><li><a href=#3-性能和扩展性>3. <strong>性能和扩展性</strong></a></li><li><a href=#4-数据压缩与存储成本>4. <strong>数据压缩与存储成本</strong></a></li><li><a href=#5-高可用性和故障恢复>5. <strong>高可用性和故障恢复</strong></a></li><li><a href=#6-告警与规则>6. <strong>告警与规则</strong></a></li><li><a href=#7-优缺点总结>7. <strong>优缺点总结</strong></a></li><li><a href=#总结>总结</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h3 id=victoriametrics-和-thanos-对比>VictoriaMetrics 和 Thanos 对比
<a class=anchor href=#victoriametrics-%e5%92%8c-thanos-%e5%af%b9%e6%af%94>#</a></h3><p><strong>VictoriaMetrics</strong> 和 <strong>Thanos</strong> 都是为了解决 Prometheus 在大规模监控、跨集群数据聚合、长期存储和查询等方面的不足而出现的工具。虽然它们都扩展了 Prometheus 的能力，但它们在架构设计、功能、适用场景等方面有一些不同。以下是对比：</p><hr><h3 id=1-功能对比>1. <strong>功能对比</strong>
<a class=anchor href=#1-%e5%8a%9f%e8%83%bd%e5%af%b9%e6%af%94>#</a></h3><table><thead><tr><th>功能</th><th><strong>VictoriaMetrics</strong></th><th><strong>Thanos</strong></th></tr></thead><tbody><tr><td><strong>长期存储</strong></td><td>内建长期存储，优化了存储和压缩，支持对象存储（如 S3/GCS）</td><td>通过与对象存储集成（如 S3）实现长期存储</td></tr><tr><td><strong>扩展性</strong></td><td>支持水平扩展，能够处理数十亿条指标的时序数据</td><td>通过组件（Sidecar、Query、Store Gateway）实现扩展</td></tr><tr><td><strong>查询能力</strong></td><td>支持 PromQL，查询性能较高，尤其是对大规模数据的处理</td><td>通过 Thanos Query 提供跨 Prometheus 实例的查询和聚合功能</td></tr><tr><td><strong>高可用性</strong></td><td>通过集群模式实现高可用性</td><td>高可用性通过 Sidecar 和 Store Gateway 实现，Query 和 Ruler 提供冗余</td></tr><tr><td><strong>数据聚合</strong></td><td>内建数据聚合机制，支持跨集群的数据查询和聚合</td><td>支持跨多个 Prometheus 集群的聚合，依赖于 Store Gateway</td></tr><tr><td><strong>数据压缩</strong></td><td>高效的存储压缩机制，支持低存储成本的长期数据存储</td><td>通过 Compactor 进行数据压缩和存储优化</td></tr><tr><td><strong>告警和规则</strong></td><td>无内建告警机制，通常与 Prometheus 配合使用</td><td>通过 Thanos Ruler 实现跨集群的告警和规则计算</td></tr><tr><td><strong>性能</strong></td><td>更加优化的存储和查询引擎，特别在大规模数据下表现优秀</td><td>在大规模数据查询时可能会有性能瓶颈，尤其是在高查询负载下</td></tr><tr><td><strong>部署复杂性</strong></td><td>简单，容易部署，适合高性能、高吞吐量的场景</td><td>组件较多，部署和管理较为复杂，适合需要跨集群的场景</td></tr><tr><td><strong>成本</strong></td><td>更低的存储成本和更少的组件，适合低成本、高效的部署</td><td>由于多个组件的部署，整体成本可能较高</td></tr></tbody></table><hr><h3 id=2-架构对比>2. <strong>架构对比</strong>
<a class=anchor href=#2-%e6%9e%b6%e6%9e%84%e5%af%b9%e6%af%94>#</a></h3><h4 id=victoriametrics-架构><strong>VictoriaMetrics 架构</strong>
<a class=anchor href=#victoriametrics-%e6%9e%b6%e6%9e%84>#</a></h4><ul><li><strong>VictoriaMetrics</strong> 本身就是一个高性能时序数据库，内建了高效的数据存储、压缩和查询机制。它不需要像 Thanos 一样依赖多个组件来扩展 Prometheus 的功能。VictoriaMetrics 支持单机部署，也支持水平扩展，能够提供跨集群的数据存储和查询。</li><li>适用于需要高效、低成本存储并且需要高吞吐量的监控场景。</li></ul><h4 id=thanos-架构><strong>Thanos 架构</strong>
<a class=anchor href=#thanos-%e6%9e%b6%e6%9e%84>#</a></h4><ul><li><strong>Thanos</strong> 是一个扩展工具，旨在增强 Prometheus 的能力。它通过多个组件（Sidecar、Query、Store Gateway、Ruler、Compactor）来提供跨集群数据聚合、长期存储和高可用性。</li><li>Thanos 主要是为了支持 Prometheus 的高可用性、跨集群查询和长期数据存储而设计的，适用于多集群、大规模监控的场景。</li></ul><hr><h3 id=3-性能对比>3. <strong>性能对比</strong>
<a class=anchor href=#3-%e6%80%a7%e8%83%bd%e5%af%b9%e6%af%94>#</a></h3><ul><li><strong>VictoriaMetrics</strong>：<ul><li>优化了时序数据存储和查询的性能，能够处理大量指标数据，尤其是在大规模的监控场景中，查询性能非常优秀。</li><li>数据压缩和存储效率非常高，能够显著降低存储成本。</li><li>对大数据量的查询性能较为优越，尤其是在高吞吐量的时序数据下。</li></ul></li><li><strong>Thanos</strong>：<ul><li>Thanos 的查询性能受到多个组件的影响，尤其是在跨集群查询时，查询性能可能会有一定的瓶颈。</li><li>存储压缩由 Thanos Compactor 负责，但整体查询性能通常比 VictoriaMetrics 更依赖于架构设计和部署方式。</li><li>跨集群查询和长时间存储的支持优于单一集群环境中的单一 Prometheus，但对高查询频率和大量数据的查询可能会带来延迟。</li></ul></li></ul><hr><h3 id=4-存储机制对比>4. <strong>存储机制对比</strong>
<a class=anchor href=#4-%e5%ad%98%e5%82%a8%e6%9c%ba%e5%88%b6%e5%af%b9%e6%af%94>#</a></h3><ul><li><strong>VictoriaMetrics</strong>：<ul><li>自带高效的存储引擎，支持对象存储（如 S3、GCS）的长时间存储。</li><li>提供内建的压缩机制，降低存储成本。</li><li>内存和磁盘使用效率高，特别适合需要处理大规模、长时间数据存储的场景。</li></ul></li><li><strong>Thanos</strong>：<ul><li>Thanos 通过将数据存储到对象存储中（如 S3、GCS），支持高效的长期存储。</li><li>数据压缩和存储优化是通过 Thanos Compactor 完成的。</li><li>Thanos 的存储机制依赖于 Prometheus 和 Store Gateway，将历史数据存储到对象存储中，并支持跨 Prometheus 实例的数据查询。</li></ul></li></ul><hr><h3 id=5-使用场景对比>5. <strong>使用场景对比</strong>
<a class=anchor href=#5-%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af%e5%af%b9%e6%af%94>#</a></h3><ul><li>VictoriaMetrics：<ul><li>适合需要高性能存储和查询的场景，尤其在单集群或简单集群环境下。</li><li>更适合对存储和查询性能要求极高的监控系统，特别是处理大量数据时。</li><li>支持高吞吐量的数据写入和查询，适用于对低延迟、高并发有要求的场景。</li></ul></li><li>Thanos：<ul><li>适合跨集群、大规模的监控系统，特别是在多区域或多集群环境下。</li><li>用于扩展 Prometheus 功能，提供跨集群数据聚合、长时间存储、查询和高可用性。</li><li>适合已有 Prometheus 部署的环境，通过 Thanos 的组件增强 Prometheus 的能力。</li></ul></li></ul><hr><h3 id=6-优缺点总结>6. <strong>优缺点总结</strong>
<a class=anchor href=#6-%e4%bc%98%e7%bc%ba%e7%82%b9%e6%80%bb%e7%bb%93>#</a></h3><table><thead><tr><th>特性</th><th><strong>VictoriaMetrics</strong></th><th><strong>Thanos</strong></th></tr></thead><tbody><tr><td><strong>优点</strong></td><td>1. 高效存储，压缩能力强。</td><td>1. 跨集群数据聚合和查询。</td></tr><tr><td></td><td>2. 查询性能优异，尤其在大数据量环境下。</td><td>2. 支持长期存储，适用于大规模环境。</td></tr><tr><td></td><td>3. 存储成本较低，部署和维护简单。</td><td>3. 与 Prometheus 集成，提供高可用性和扩展性。</td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h3 id=victoriametrics-与-thanos-对比>VictoriaMetrics 与 Thanos 对比
<a class=anchor href=#victoriametrics-%e4%b8%8e-thanos-%e5%af%b9%e6%af%94>#</a></h3><p><strong>VictoriaMetrics</strong> 和 <strong>Thanos</strong> 都是为 Prometheus 提供扩展和增强功能的开源工具，尤其是在长时间存储和跨集群查询方面。这两个工具各有特点，适用于不同的场景，下面对它们的功能、架构和优缺点做详细对比。</p><h3 id=1-架构对比>1. <strong>架构对比</strong>
<a class=anchor href=#1-%e6%9e%b6%e6%9e%84%e5%af%b9%e6%af%94>#</a></h3><h4 id=thanos-架构-1><strong>Thanos 架构</strong>:
<a class=anchor href=#thanos-%e6%9e%b6%e6%9e%84-1>#</a></h4><ul><li><p>Thanos</p><p>主要基于与</p><p>Prometheus</p><p>紧密集成的理念，其架构包含多个模块：</p><ul><li><strong>Prometheus</strong>：负责数据抓取和存储。</li><li><strong>Thanos Sidecar</strong>：运行在每个 Prometheus 实例旁边，负责将 Prometheus 数据上传到对象存储并提供查询接口。</li><li><strong>Thanos Query</strong>：提供跨集群、跨区域的查询支持。</li><li><strong>Thanos Store Gateway</strong>：从对象存储（如 S3）中读取历史数据并提供查询接口。</li><li><strong>Thanos Ruler</strong>：支持执行 Prometheus 查询规则并发送告警。</li><li><strong>Thanos Compactor</strong>：负责压缩和优化存储中的数据。</li></ul></li></ul><h4 id=victoriametrics-架构-1><strong>VictoriaMetrics 架构</strong>:
<a class=anchor href=#victoriametrics-%e6%9e%b6%e6%9e%84-1>#</a></h4><ul><li><p>VictoriaMetrics</p><p>是一个高效的时序数据库，内置了高可用的功能，架构上更简洁一些，核心组件包括：</p><ul><li><strong>VictoriaMetrics</strong>：负责时序数据的存储和查询。</li><li><strong>VM Select</strong>：查询层，提供与 Prometheus 兼容的查询接口，支持使用 PromQL 查询。</li><li><strong>VM Ruler</strong>：与 Thanos Ruler 类似，负责告警规则的执行。</li><li><strong>VictoriaMetrics Cluster</strong>：支持水平扩展，适用于大规模环境。</li><li><strong>VM Storage</strong>：支持数据的长期存储，优化了高吞吐量的数据写入和读取。</li></ul></li></ul><h3 id=2-数据存储和查询能力对比>2. <strong>数据存储和查询能力对比</strong>
<a class=anchor href=#2-%e6%95%b0%e6%8d%ae%e5%ad%98%e5%82%a8%e5%92%8c%e6%9f%a5%e8%af%a2%e8%83%bd%e5%8a%9b%e5%af%b9%e6%af%94>#</a></h3><h4 id=thanos><strong>Thanos</strong>:
<a class=anchor href=#thanos>#</a></h4><ul><li><strong>数据存储</strong>：Thanos 本身不存储数据，而是依赖于 <strong>Prometheus</strong> 和 <strong>对象存储（如 S3、GCS 等）</strong>。数据从 Prometheus 通过 Thanos Sidecar 上传到对象存储，查询时从对象存储读取数据。</li><li><strong>查询能力</strong>：Thanos Query 提供跨 Prometheus 集群的数据查询支持。通过 Thanos Query，用户能够聚合来自多个 Prometheus 实例的数据，并提供跨集群查询。</li><li><strong>存储扩展</strong>：Thanos 可以利用对象存储来扩展存储能力，适用于需要长时间存储大量时序数据的场景。</li></ul><h4 id=victoriametrics><strong>VictoriaMetrics</strong>:
<a class=anchor href=#victoriametrics>#</a></h4><ul><li><strong>数据存储</strong>：VictoriaMetrics 是一个专门为时序数据设计的数据库，它通过高效的存储格式实现高压缩率，提供内置的存储解决方案。可以部署为单实例或者分布式集群。</li><li><strong>查询能力</strong>：支持 <strong>PromQL</strong> 查询语言，兼容 Prometheus，同时提供了一个高效的查询引擎，支持大规模数据查询。</li><li><strong>存储扩展</strong>：VictoriaMetrics 提供原生的水平扩展功能，可以在集群模式下扩展存储和查询能力，适合处理非常大的时序数据量。</li></ul><h3 id=3-性能和扩展性>3. <strong>性能和扩展性</strong>
<a class=anchor href=#3-%e6%80%a7%e8%83%bd%e5%92%8c%e6%89%a9%e5%b1%95%e6%80%a7>#</a></h3><h4 id=thanos-1><strong>Thanos</strong>:
<a class=anchor href=#thanos-1>#</a></h4><ul><li><strong>性能</strong>：Thanos 在性能方面依赖于对象存储和多个组件的协同工作。查询跨 Prometheus 集群的数据时，性能可能受到存储延迟、网络带宽等因素的影响。特别是在大规模环境下，查询性能可能会受到挑战。</li><li><strong>扩展性</strong>：Thanos 支持横向扩展，特别是在存储和查询方面。Thanos 的 <strong>Store Gateway</strong> 和 <strong>Query</strong> 组件支持集群扩展，能够跨多个集群和区域进行查询和存储。</li></ul><h4 id=victoriametrics-1><strong>VictoriaMetrics</strong>:
<a class=anchor href=#victoriametrics-1>#</a></h4><ul><li><strong>性能</strong>：VictoriaMetrics 在性能方面非常优秀，尤其是在时序数据的写入和查询上，采用了优化的存储格式和查询引擎。其高吞吐量和低延迟特性使其在大规模环境中表现更为出色。</li><li><strong>扩展性</strong>：VictoriaMetrics 提供了集群部署模式，支持在大规模环境下的水平扩展，特别是在存储和查询负载较高时，能够通过扩展集群来提高性能。</li></ul><h3 id=4-数据压缩与存储成本>4. <strong>数据压缩与存储成本</strong>
<a class=anchor href=#4-%e6%95%b0%e6%8d%ae%e5%8e%8b%e7%bc%a9%e4%b8%8e%e5%ad%98%e5%82%a8%e6%88%90%e6%9c%ac>#</a></h3><h4 id=thanos-2><strong>Thanos</strong>:
<a class=anchor href=#thanos-2>#</a></h4><ul><li><strong>数据压缩</strong>：Thanos 通过将数据存储在对象存储中，依赖于对象存储本身的压缩和优化功能（例如 S3 的生命周期管理）。但是，Thanos 并没有独立实现压缩算法，因此数据的压缩率较低，存储成本较高。</li><li><strong>存储成本</strong>：由于 Thanos 使用对象存储，其存储成本与对象存储服务（如 S3、GCS）的定价相关，适合长期存储和大规模的数据集。</li></ul><h4 id=victoriametrics-2><strong>VictoriaMetrics</strong>:
<a class=anchor href=#victoriametrics-2>#</a></h4><ul><li><strong>数据压缩</strong>：VictoriaMetrics 采用专有的压缩算法，可以在存储时提供更高的压缩比。其数据压缩性能通常优于 Thanos 和 Prometheus，存储成本较低。</li><li><strong>存储成本</strong>：由于高效的压缩机制，VictoriaMetrics 的存储成本通常低于 Thanos，尤其是在存储大量时序数据时。</li></ul><h3 id=5-高可用性和故障恢复>5. <strong>高可用性和故障恢复</strong>
<a class=anchor href=#5-%e9%ab%98%e5%8f%af%e7%94%a8%e6%80%a7%e5%92%8c%e6%95%85%e9%9a%9c%e6%81%a2%e5%a4%8d>#</a></h3><h4 id=thanos-3><strong>Thanos</strong>:
<a class=anchor href=#thanos-3>#</a></h4><ul><li><strong>高可用性</strong>：Thanos 提供了高可用性机制，特别是在查询和存储层。通过部署多个 <strong>Thanos Query</strong> 和 <strong>Thanos Store Gateway</strong>，可以实现跨区域和跨集群的高可用性。</li><li><strong>故障恢复</strong>：由于 Thanos 依赖对象存储作为长期存储，系统的故障恢复能力较强。如果某个集群或节点出现故障，数据不会丢失，查询组件可以自动恢复。</li></ul><h4 id=victoriametrics-3><strong>VictoriaMetrics</strong>:
<a class=anchor href=#victoriametrics-3>#</a></h4><ul><li><strong>高可用性</strong>：VictoriaMetrics 本身提供了高可用性特性，支持 <strong>分布式集群模式</strong>，能够在多节点间分担负载，提高系统的可靠性和容错能力。</li><li><strong>故障恢复</strong>：由于采用了集群模式，VictoriaMetrics 的数据也能够在多个节点间进行复制和冗余存储，因此故障恢复能力较强。</li></ul><h3 id=6-告警与规则>6. <strong>告警与规则</strong>
<a class=anchor href=#6-%e5%91%8a%e8%ad%a6%e4%b8%8e%e8%a7%84%e5%88%99>#</a></h3><h4 id=thanos-4><strong>Thanos</strong>:
<a class=anchor href=#thanos-4>#</a></h4><ul><li><strong>告警</strong>：Thanos 通过 <strong>Thanos Ruler</strong> 来执行告警规则，支持 Prometheus 的告警功能。它能够执行存储数据上的规则计算，并触发告警。</li></ul><h4 id=victoriametrics-4><strong>VictoriaMetrics</strong>:
<a class=anchor href=#victoriametrics-4>#</a></h4><ul><li><strong>告警</strong>：VictoriaMetrics 本身也提供 <strong>VM Ruler</strong>，支持与 Prometheus 兼容的告警规则，允许用户设置基于存储数据的告警。</li></ul><h3 id=7-优缺点总结>7. <strong>优缺点总结</strong>
<a class=anchor href=#7-%e4%bc%98%e7%bc%ba%e7%82%b9%e6%80%bb%e7%bb%93>#</a></h3><table><thead><tr><th>特性</th><th>Thanos</th><th>VictoriaMetrics</th></tr></thead><tbody><tr><td><strong>部署复杂度</strong></td><td>较复杂，需要多个组件（Sidecar、Query、Store Gateway、Ruler）</td><td>较简单，集群模式更易扩展</td></tr><tr><td><strong>存储方式</strong></td><td>使用外部对象存储（如 S3、GCS）</td><td>内置时序数据库，支持本地和集群模式</td></tr><tr><td><strong>性能</strong></td><td>适合跨集群、跨区域查询，但存储性能受限于对象存储</td><td>高效的存储引擎，写入和查询性能更优秀</td></tr><tr><td><strong>扩展性</strong></td><td>支持水平扩展，尤其是在查询和存储方面</td><td>支持水平扩展，性能优于 Thanos</td></tr><tr><td><strong>压缩率</strong></td><td>较低，存储成本较高</td><td>高压缩比，存储成本低</td></tr><tr><td><strong>高可用性</strong></td><td>提供高可用性，但依赖多个组件的协同工作</td><td>支持高可用性，集群模式可以提供容错能力</td></tr><tr><td><strong>适用场景</strong></td><td>多集群、跨区域查询、大规模环境</td><td>高性能存储、大规模时序数据</td></tr></tbody></table><h3 id=总结>总结
<a class=anchor href=#%e6%80%bb%e7%bb%93>#</a></h3><ul><li><strong>Thanos</strong> 适用于跨集群、跨区域查询的场景，能够提供高可用、长时间存储和多集群查询的能力。如果你已经在使用 Prometheus 并希望扩展其功能以支持多集群查询和长期存储，Thanos 是一个很好的选择。</li><li><strong>VictoriaMetrics</strong> 则更专注于高效的时序数据存储和查询，提供更高的性能和更低的存储成本。对于需要高吞吐量、高压缩率的场景，VictoriaMetrics 是一个更合适的选择，尤其在大规模时序数据存储和查询时具有更好的表现。</li></ul><p>选择哪个工具取决于你的使用场景和需求。如果需要多集群支持和跨区域查询，<strong>Thanos</strong> 是更合适的选择；如果主要关注存储效率和查询性能，<strong>VictoriaMetrics</strong> 更具优势。</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#victoriametrics-和-thanos-对比>VictoriaMetrics 和 Thanos 对比</a></li><li><a href=#1-功能对比>1. <strong>功能对比</strong></a></li><li><a href=#2-架构对比>2. <strong>架构对比</strong></a></li><li><a href=#3-性能对比>3. <strong>性能对比</strong></a></li><li><a href=#4-存储机制对比>4. <strong>存储机制对比</strong></a></li><li><a href=#5-使用场景对比>5. <strong>使用场景对比</strong></a></li><li><a href=#6-优缺点总结>6. <strong>优缺点总结</strong></a></li><li><a href=#victoriametrics-与-thanos-对比>VictoriaMetrics 与 Thanos 对比</a></li><li><a href=#1-架构对比>1. <strong>架构对比</strong></a></li><li><a href=#2-数据存储和查询能力对比>2. <strong>数据存储和查询能力对比</strong></a></li><li><a href=#3-性能和扩展性>3. <strong>性能和扩展性</strong></a></li><li><a href=#4-数据压缩与存储成本>4. <strong>数据压缩与存储成本</strong></a></li><li><a href=#5-高可用性和故障恢复>5. <strong>高可用性和故障恢复</strong></a></li><li><a href=#6-告警与规则>6. <strong>告警与规则</strong></a></li><li><a href=#7-优缺点总结>7. <strong>优缺点总结</strong></a></li><li><a href=#总结>总结</a></li></ul></li></ul></nav></div></aside></main></body></html>